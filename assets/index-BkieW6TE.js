(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function H0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vg={exports:{}},qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA;function ix(){if(BA)return qu;BA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return qu.Fragment=e,qu.jsx=t,qu.jsxs=t,qu}var zA;function sx(){return zA||(zA=1,vg.exports=ix()),vg.exports}var _=sx(),yg={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA;function ax(){if(HA)return Re;HA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function S(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,x={};function O(B,ae,he){this.props=B,this.context=ae,this.refs=x,this.updater=he||R}O.prototype.isReactComponent={},O.prototype.setState=function(B,ae){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ae,"setState")},O.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function H(){}H.prototype=O.prototype;function Z(B,ae,he){this.props=B,this.context=ae,this.refs=x,this.updater=he||R}var le=Z.prototype=new H;le.constructor=Z,M(le,O.prototype),le.isPureReactComponent=!0;var re=Array.isArray;function J(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function N(B,ae,he){var me=he.ref;return{$$typeof:n,type:B,key:ae,ref:me!==void 0?me:null,props:he}}function j(B,ae){return N(B.type,ae,B.props)}function V(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function z(B){var ae={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(he){return ae[he]})}var k=/\/+/g;function dt(B,ae){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):ae.toString(36)}function Gt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(J,J):(B.status="pending",B.then(function(ae){B.status==="pending"&&(B.status="fulfilled",B.value=ae)},function(ae){B.status==="pending"&&(B.status="rejected",B.reason=ae)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function te(B,ae,he,me,Se){var xe=typeof B;(xe==="undefined"||xe==="boolean")&&(B=null);var Be=!1;if(B===null)Be=!0;else switch(xe){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(B.$$typeof){case n:case e:Be=!0;break;case g:return Be=B._init,te(Be(B._payload),ae,he,me,Se)}}if(Be)return Se=Se(B),Be=me===""?"."+dt(B,0):me,re(Se)?(he="",Be!=null&&(he=Be.replace(k,"$&/")+"/"),te(Se,ae,he,"",function(sa){return sa})):Se!=null&&(V(Se)&&(Se=j(Se,he+(Se.key==null||B&&B.key===Se.key?"":(""+Se.key).replace(k,"$&/")+"/")+Be)),ae.push(Se)),1;Be=0;var Qt=me===""?".":me+":";if(re(B))for(var ft=0;ft<B.length;ft++)me=B[ft],xe=Qt+dt(me,ft),Be+=te(me,ae,he,xe,Se);else if(ft=S(B),typeof ft=="function")for(B=ft.call(B),ft=0;!(me=B.next()).done;)me=me.value,xe=Qt+dt(me,ft++),Be+=te(me,ae,he,xe,Se);else if(xe==="object"){if(typeof B.then=="function")return te(Gt(B),ae,he,me,Se);throw ae=String(B),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ce(B,ae,he){if(B==null)return B;var me=[],Se=0;return te(B,me,"","",function(xe){return ae.call(he,xe,Se++)}),me}function _e(B){if(B._status===-1){var ae=B._result;ae=ae(),ae.then(function(he){(B._status===0||B._status===-1)&&(B._status=1,B._result=he)},function(he){(B._status===0||B._status===-1)&&(B._status=2,B._result=he)}),B._status===-1&&(B._status=0,B._result=ae)}if(B._status===1)return B._result.default;throw B._result}var He=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Ze={map:ce,forEach:function(B,ae,he){ce(B,function(){ae.apply(this,arguments)},he)},count:function(B){var ae=0;return ce(B,function(){ae++}),ae},toArray:function(B){return ce(B,function(ae){return ae})||[]},only:function(B){if(!V(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Re.Activity=y,Re.Children=Ze,Re.Component=O,Re.Fragment=t,Re.Profiler=a,Re.PureComponent=Z,Re.StrictMode=r,Re.Suspense=d,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Re.__COMPILER_RUNTIME={__proto__:null,c:function(B){return I.H.useMemoCache(B)}},Re.cache=function(B){return function(){return B.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(B,ae,he){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var me=M({},B.props),Se=B.key;if(ae!=null)for(xe in ae.key!==void 0&&(Se=""+ae.key),ae)!C.call(ae,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ae.ref===void 0||(me[xe]=ae[xe]);var xe=arguments.length-2;if(xe===1)me.children=he;else if(1<xe){for(var Be=Array(xe),Qt=0;Qt<xe;Qt++)Be[Qt]=arguments[Qt+2];me.children=Be}return N(B.type,Se,me)},Re.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},Re.createElement=function(B,ae,he){var me,Se={},xe=null;if(ae!=null)for(me in ae.key!==void 0&&(xe=""+ae.key),ae)C.call(ae,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Se[me]=ae[me]);var Be=arguments.length-2;if(Be===1)Se.children=he;else if(1<Be){for(var Qt=Array(Be),ft=0;ft<Be;ft++)Qt[ft]=arguments[ft+2];Se.children=Qt}if(B&&B.defaultProps)for(me in Be=B.defaultProps,Be)Se[me]===void 0&&(Se[me]=Be[me]);return N(B,xe,Se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(B){return{$$typeof:h,render:B}},Re.isValidElement=V,Re.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:_e}},Re.memo=function(B,ae){return{$$typeof:p,type:B,compare:ae===void 0?null:ae}},Re.startTransition=function(B){var ae=I.T,he={};I.T=he;try{var me=B(),Se=I.S;Se!==null&&Se(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(J,He)}catch(xe){He(xe)}finally{ae!==null&&he.types!==null&&(ae.types=he.types),I.T=ae}},Re.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Re.use=function(B){return I.H.use(B)},Re.useActionState=function(B,ae,he){return I.H.useActionState(B,ae,he)},Re.useCallback=function(B,ae){return I.H.useCallback(B,ae)},Re.useContext=function(B){return I.H.useContext(B)},Re.useDebugValue=function(){},Re.useDeferredValue=function(B,ae){return I.H.useDeferredValue(B,ae)},Re.useEffect=function(B,ae){return I.H.useEffect(B,ae)},Re.useEffectEvent=function(B){return I.H.useEffectEvent(B)},Re.useId=function(){return I.H.useId()},Re.useImperativeHandle=function(B,ae,he){return I.H.useImperativeHandle(B,ae,he)},Re.useInsertionEffect=function(B,ae){return I.H.useInsertionEffect(B,ae)},Re.useLayoutEffect=function(B,ae){return I.H.useLayoutEffect(B,ae)},Re.useMemo=function(B,ae){return I.H.useMemo(B,ae)},Re.useOptimistic=function(B,ae){return I.H.useOptimistic(B,ae)},Re.useReducer=function(B,ae,he){return I.H.useReducer(B,ae,he)},Re.useRef=function(B){return I.H.useRef(B)},Re.useState=function(B){return I.H.useState(B)},Re.useSyncExternalStore=function(B,ae,he){return I.H.useSyncExternalStore(B,ae,he)},Re.useTransition=function(){return I.H.useTransition()},Re.version="19.2.0",Re}var FA;function Gv(){return FA||(FA=1,yg.exports=ax()),yg.exports}var L=Gv();const Tr=H0(L);var _g={exports:{}},Gu={},Eg={exports:{}},bg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA;function ox(){return qA||(qA=1,(function(n){function e(te,ce){var _e=te.length;te.push(ce);e:for(;0<_e;){var He=_e-1>>>1,Ze=te[He];if(0<a(Ze,ce))te[He]=ce,te[_e]=Ze,_e=He;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ce=te[0],_e=te.pop();if(_e!==ce){te[0]=_e;e:for(var He=0,Ze=te.length,B=Ze>>>1;He<B;){var ae=2*(He+1)-1,he=te[ae],me=ae+1,Se=te[me];if(0>a(he,_e))me<Ze&&0>a(Se,he)?(te[He]=Se,te[me]=_e,He=me):(te[He]=he,te[ae]=_e,He=ae);else if(me<Ze&&0>a(Se,_e))te[He]=Se,te[me]=_e,He=me;else break e}}return ce}function a(te,ce){var _e=te.sortIndex-ce.sortIndex;return _e!==0?_e:te.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,y=null,b=3,S=!1,R=!1,M=!1,x=!1,O=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function le(te){for(var ce=t(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=te)r(p),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=t(p)}}function re(te){if(M=!1,le(te),!R)if(t(d)!==null)R=!0,J||(J=!0,z());else{var ce=t(p);ce!==null&&Gt(re,ce.startTime-te)}}var J=!1,I=-1,C=5,N=-1;function j(){return x?!0:!(n.unstable_now()-N<C)}function V(){if(x=!1,J){var te=n.unstable_now();N=te;var ce=!0;try{e:{R=!1,M&&(M=!1,H(I),I=-1),S=!0;var _e=b;try{t:{for(le(te),y=t(d);y!==null&&!(y.expirationTime>te&&j());){var He=y.callback;if(typeof He=="function"){y.callback=null,b=y.priorityLevel;var Ze=He(y.expirationTime<=te);if(te=n.unstable_now(),typeof Ze=="function"){y.callback=Ze,le(te),ce=!0;break t}y===t(d)&&r(d),le(te)}else r(d);y=t(d)}if(y!==null)ce=!0;else{var B=t(p);B!==null&&Gt(re,B.startTime-te),ce=!1}}break e}finally{y=null,b=_e,S=!1}ce=void 0}}finally{ce?z():J=!1}}}var z;if(typeof Z=="function")z=function(){Z(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,dt=k.port2;k.port1.onmessage=V,z=function(){dt.postMessage(null)}}else z=function(){O(V,0)};function Gt(te,ce){I=O(function(){te(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(te){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var _e=b;b=ce;try{return te()}finally{b=_e}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var _e=b;b=te;try{return ce()}finally{b=_e}},n.unstable_scheduleCallback=function(te,ce,_e){var He=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?He+_e:He):_e=He,te){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=_e+Ze,te={id:g++,callback:ce,priorityLevel:te,startTime:_e,expirationTime:Ze,sortIndex:-1},_e>He?(te.sortIndex=_e,e(p,te),t(d)===null&&te===t(p)&&(M?(H(I),I=-1):M=!0,Gt(re,_e-He))):(te.sortIndex=Ze,e(d,te),R||S||(R=!0,J||(J=!0,z()))),te},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(te){var ce=b;return function(){var _e=b;b=ce;try{return te.apply(this,arguments)}finally{b=_e}}}})(bg)),bg}var GA;function lx(){return GA||(GA=1,Eg.exports=ox()),Eg.exports}var Ag={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QA;function ux(){if(QA)return fn;QA=1;var n=Gv();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,g)},fn.flushSync=function(d){var p=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=g,r.d.f()}},fn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},fn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},fn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:S}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},fn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=h(g,p.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fn.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},fn.requestFormReset=function(d){r.d.r(d)},fn.unstable_batchedUpdates=function(d,p){return d(p)},fn.useFormState=function(d,p,g){return u.H.useFormState(d,p,g)},fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var YA;function F0(){if(YA)return Ag.exports;YA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ag.exports=ux(),Ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA;function cx(){if(WA)return Gu;WA=1;var n=lx(),e=Gv(),t=F0();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return d(m),i;if(v===c)return d(m),s;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=v;else{for(var A=!1,w=m.child;w;){if(w===l){A=!0,l=m,c=v;break}if(w===c){A=!0,c=m,l=v;break}w=w.sibling}if(!A){for(w=v.child;w;){if(w===l){A=!0,l=v,c=m;break}if(w===c){A=!0,c=v,l=m;break}w=w.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function dt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case O:return"Profiler";case x:return"StrictMode";case re:return"Suspense";case J:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case Z:return i.displayName||"Context";case H:return(i._context.displayName||"Context")+".Consumer";case le:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return s=i.displayName||null,s!==null?s:dt(i.type)||"Memo";case C:s=i._payload,i=i._init;try{return dt(i(s))}catch{}}return null}var Gt=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},He=[],Ze=-1;function B(i){return{current:i}}function ae(i){0>Ze||(i.current=He[Ze],He[Ze]=null,Ze--)}function he(i,s){Ze++,He[Ze]=i.current,i.current=s}var me=B(null),Se=B(null),xe=B(null),Be=B(null);function Qt(i,s){switch(he(xe,s),he(Se,i),he(me,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?uA(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=uA(s),i=cA(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(me),he(me,i)}function ft(){ae(me),ae(Se),ae(xe)}function sa(i){i.memoizedState!==null&&he(Be,i);var s=me.current,l=cA(s,i.type);s!==l&&(he(Se,i),he(me,l))}function co(i){Se.current===i&&(ae(me),ae(Se)),Be.current===i&&(ae(Be),Bu._currentValue=_e)}var ho,fo;function Nr(i){if(ho===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ho=s&&s[1]||"",fo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ho+i+fo}var Bl=!1;function aa(i,s){if(!i||Bl)return"";Bl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(K){var Y=K}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(K){Y=K}i.call(ie.prototype)}}else{try{throw Error()}catch(K){Y=K}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),A=v[0],w=v[1];if(A&&w){var P=A.split(`
`),Q=w.split(`
`);for(m=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(c===P.length||m===Q.length)for(c=P.length-1,m=Q.length-1;1<=c&&0<=m&&P[c]!==Q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(P[c]!==Q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||P[c]!==Q[m]){var ee=`
`+P[c].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=c&&0<=m);break}}}finally{Bl=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Nr(l):""}function zl(i,s){switch(i.tag){case 26:case 27:case 5:return Nr(i.type);case 16:return Nr("Lazy");case 13:return i.child!==s&&s!==null?Nr("Suspense Fallback"):Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 15:return aa(i.type,!1);case 11:return aa(i.type.render,!1);case 1:return aa(i.type,!0);case 31:return Nr("Activity");default:return""}}function Hl(i){try{var s="",l=null;do s+=zl(i,l),l=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Mt=Object.prototype.hasOwnProperty,Yt=n.unstable_scheduleCallback,Xi=n.unstable_cancelCallback,_m=n.unstable_shouldYield,qc=n.unstable_requestPaint,An=n.unstable_now,oa=n.unstable_getCurrentPriorityLevel,Fl=n.unstable_ImmediatePriority,ql=n.unstable_UserBlockingPriority,Zi=n.unstable_NormalPriority,Em=n.unstable_LowPriority,Gc=n.unstable_IdlePriority,Qc=n.log,Yc=n.unstable_setDisableYieldValue,ur=null,rn=null;function Wn(i){if(typeof Qc=="function"&&Yc(i),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(ur,i)}catch{}}var wt=Math.clz32?Math.clz32:$c,Wc=Math.log,mo=Math.LN2;function $c(i){return i>>>=0,i===0?32:31-(Wc(i)/mo|0)|0}var Mr=256,la=262144,Ot=4194304;function Or(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function kr(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,v=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var w=c&134217727;return w!==0?(c=w&~v,c!==0?m=Or(c):(A&=w,A!==0?m=Or(A):l||(l=w&~i,l!==0&&(m=Or(l))))):(w=c&~v,w!==0?m=Or(w):A!==0?m=Or(A):l||(l=c&~i,l!==0&&(m=Or(l)))),m===0?0:s!==0&&s!==m&&(s&v)===0&&(v=m&-m,l=s&-s,v>=l||v===32&&(l&4194048)!==0)?s:m}function cr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function bm(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kc(){var i=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),i}function Pr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ua(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Am(i,s,l,c,m,v){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var w=i.entanglements,P=i.expirationTimes,Q=i.hiddenUpdates;for(l=A&~l;0<l;){var ee=31-wt(l),ie=1<<ee;w[ee]=0,P[ee]=-1;var Y=Q[ee];if(Y!==null)for(Q[ee]=null,ee=0;ee<Y.length;ee++){var K=Y[ee];K!==null&&(K.lane&=-536870913)}l&=~ie}c!==0&&ca(i,c,0),v!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=v&~(A&~s))}function ca(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-wt(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function Gl(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-wt(l),m=1<<c;m&s|i[c]&s&&(i[c]|=s),l&=~m}}function Ql(i,s){var l=s&-s;return l=(l&42)!==0?1:ha(l),(l&(i.suspendedLanes|s))!==0?0:l}function ha(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function vi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Xc(){var i=ce.p;return i!==0?i:(i=window.event,i===void 0?32:OA(i.type))}function hr(i,s){var l=ce.p;try{return ce.p=i,s()}finally{ce.p=l}}var dr=Math.random().toString(36).slice(2),kt="__reactFiber$"+dr,Xt="__reactProps$"+dr,Vr="__reactContainer$"+dr,po="__reactEvents$"+dr,Tm="__reactListeners$"+dr,Zc="__reactHandles$"+dr,Jc="__reactResources$"+dr,Lr="__reactMarker$"+dr;function go(i){delete i[kt],delete i[Xt],delete i[po],delete i[Tm],delete i[Zc]}function jr(i){var s=i[kt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Vr]||l[kt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=vA(i);i!==null;){if(l=i[kt])return l;i=vA(i)}return s}i=l,l=i.parentNode}return null}function $n(i){if(i=i[kt]||i[Vr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Vn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ur(i){var s=i[Jc];return s||(s=i[Jc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Pt(i){i[Lr]=!0}var Yl=new Set,Wl={};function Br(i,s){zr(i,s),zr(i+"Capture",s)}function zr(i,s){for(Wl[i]=s,i=0;i<s.length;i++)Yl.add(s[i])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kl={},Xl={};function eh(i){return Mt.call(Xl,i)?!0:Mt.call(Kl,i)?!1:$l.test(i)?Xl[i]=!0:(Kl[i]=!0,!1)}function vo(i,s,l){if(eh(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Ln(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Vt(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}function Zt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ji(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Zl(i,s,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,v=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(A){l=""+A,v.call(this,A)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Je(i){if(!i._valueTracker){var s=Ji(i)?"checked":"value";i._valueTracker=Zl(i,s,""+i[s])}}function da(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=Ji(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function Hr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var fa=/[\n"\\]/g;function Rn(i){return i.replace(fa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function yo(i,s,l,c,m,v,A,w){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Zt(s)):i.value!==""+Zt(s)&&(i.value=""+Zt(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?Jl(i,A,Zt(s)):l!=null?Jl(i,A,Zt(l)):c!=null&&i.removeAttribute("value"),m==null&&v!=null&&(i.defaultChecked=!!v),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+Zt(w):i.removeAttribute("name")}function th(i,s,l,c,m,v,A,w){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){Je(i);return}l=l!=null?""+Zt(l):"",s=s!=null?""+Zt(s):l,w||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Je(i)}function Jl(i,s,l){s==="number"&&Hr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function es(i,s,l,c){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Zt(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function nh(i,s,l){if(s!=null&&(s=""+Zt(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Zt(l):""}function ts(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(Gt(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Zt(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),Je(i)}function Cn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var rh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||rh.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function tu(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&l[m]!==c&&eu(i,m,c)}else for(var v in s)s.hasOwnProperty(v)&&eu(i,v,s[v])}function _o(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(i){return ns.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function fr(){}var nu=null;function Kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rs=null,Fr=null;function ma(i){var s=$n(i);if(s&&(i=s.stateNode)){var l=i[Xt]||null;e:switch(i=s.stateNode,s.type){case"input":if(yo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Rn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var m=c[Xt]||null;if(!m)throw Error(r(90));yo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&da(c)}break e;case"textarea":nh(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&es(i,!!l.multiple,s,!1)}}}var bo=!1;function is(i,s,l){if(bo)return i(s,l);bo=!0;try{var c=i(s);return c}finally{if(bo=!1,(rs!==null||Fr!==null)&&(Xh(),rs&&(s=rs,i=Fr,Fr=rs=null,ma(s),i)))for(s=0;s<i.length;s++)ma(i[s])}}function mr(i,s){var l=i.stateNode;if(l===null)return null;var c=l[Xt]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pa=!1;if(Xn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){pa=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{pa=!1}var qr=null,ru=null,ga=null;function iu(){if(ga)return ga;var i,s=ru,l=s.length,c,m="value"in qr?qr.value:qr.textContent,v=m.length;for(i=0;i<l&&s[i]===m[i];i++);var A=l-i;for(c=1;c<=A&&s[l-c]===m[v-c];c++);return ga=m.slice(i,1<c?1-c:void 0)}function va(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function yi(){return!0}function pr(){return!1}function sn(i){function s(l,c,m,v,A){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(l=i[w],this[w]=l?l(v):v[w]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?yi:pr,this.isPropagationStopped=pr,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),s}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=sn(_i),ss=y({},_i,{view:0,detail:0}),su=sn(ss),as,Ao,Qr,To=y({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qr&&(Qr&&i.type==="mousemove"?(as=i.screenX-Qr.screenX,Ao=i.screenY-Qr.screenY):Ao=as=0,Qr=i),as)},movementY:function(i){return"movementY"in i?i.movementY:Ao}}),au=sn(To),ya=y({},To,{dataTransfer:0}),sh=sn(ya),ah=y({},ss,{relatedTarget:0}),_a=sn(ah),ou=y({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=sn(ou),So=y({},_i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lh=sn(So),uh=y({},_i,{data:0}),Yr=sn(uh),ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=dh[i])?!!s[i]:!1}function os(){return fh}var Tn=y({},ss,{key:function(i){if(i.key){var s=ch[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=va(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(i){return i.type==="keypress"?va(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?va(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mh=sn(Tn),ph=y({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ei=sn(ph),f=y({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),E=sn(f),T=y({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=sn(T),q=y({},To,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),W=sn(q),ue=y({},_i,{newState:0,oldState:0}),De=sn(ue),Rt=[9,13,27,32],Qe=Xn&&"CompositionEvent"in window,mt=null;Xn&&"documentMode"in document&&(mt=document.documentMode);var Zn=Xn&&"TextEvent"in window&&!mt,Wr=Xn&&(!Qe||mt&&8<mt&&11>=mt),gr=" ",vr=!1;function Ea(i,s){switch(i){case"keyup":return Rt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ro=!1;function DD(i,s){switch(i){case"compositionend":return wo(s);case"keypress":return s.which!==32?null:(vr=!0,gr);case"textInput":return i=s.data,i===gr&&vr?null:i;default:return null}}function ID(i,s){if(Ro)return i==="compositionend"||!Qe&&Ea(i,s)?(i=iu(),ga=ru=qr=null,Ro=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wr&&s.locale!=="ko"?null:s.data;default:return null}}var xD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E_(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!xD[i.type]:s==="textarea"}function b_(i,s,l,c){rs?Fr?Fr.push(c):Fr=[c]:rs=c,s=id(s,"onChange"),0<s.length&&(l=new Gr("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var lu=null,uu=null;function ND(i){rA(i,0)}function gh(i){var s=Vn(i);if(da(s))return i}function A_(i,s){if(i==="change")return s}var T_=!1;if(Xn){var Sm;if(Xn){var wm="oninput"in document;if(!wm){var S_=document.createElement("div");S_.setAttribute("oninput","return;"),wm=typeof S_.oninput=="function"}Sm=wm}else Sm=!1;T_=Sm&&(!document.documentMode||9<document.documentMode)}function w_(){lu&&(lu.detachEvent("onpropertychange",R_),uu=lu=null)}function R_(i){if(i.propertyName==="value"&&gh(uu)){var s=[];b_(s,uu,i,Kn(i)),is(ND,s)}}function MD(i,s,l){i==="focusin"?(w_(),lu=s,uu=l,lu.attachEvent("onpropertychange",R_)):i==="focusout"&&w_()}function OD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gh(uu)}function kD(i,s){if(i==="click")return gh(s)}function PD(i,s){if(i==="input"||i==="change")return gh(s)}function VD(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var jn=typeof Object.is=="function"?Object.is:VD;function cu(i,s){if(jn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Mt.call(s,m)||!jn(i[m],s[m]))return!1}return!0}function C_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function D_(i,s){var l=C_(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=C_(l)}}function I_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?I_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function x_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Hr(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Hr(i.document)}return s}function Rm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var LD=Xn&&"documentMode"in document&&11>=document.documentMode,Co=null,Cm=null,hu=null,Dm=!1;function N_(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Dm||Co==null||Co!==Hr(c)||(c=Co,"selectionStart"in c&&Rm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),hu&&cu(hu,c)||(hu=c,c=id(Cm,"onSelect"),0<c.length&&(s=new Gr("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=Co)))}function ba(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Do={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},Im={},M_={};Xn&&(M_=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Aa(i){if(Im[i])return Im[i];if(!Do[i])return i;var s=Do[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in M_)return Im[i]=s[l];return i}var O_=Aa("animationend"),k_=Aa("animationiteration"),P_=Aa("animationstart"),jD=Aa("transitionrun"),UD=Aa("transitionstart"),BD=Aa("transitioncancel"),V_=Aa("transitionend"),L_=new Map,xm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xm.push("scrollEnd");function yr(i,s){L_.set(i,s),Br(s,[i])}var vh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Jn=[],Io=0,Nm=0;function yh(){for(var i=Io,s=Nm=Io=0;s<i;){var l=Jn[s];Jn[s++]=null;var c=Jn[s];Jn[s++]=null;var m=Jn[s];Jn[s++]=null;var v=Jn[s];if(Jn[s++]=null,c!==null&&m!==null){var A=c.pending;A===null?m.next=m:(m.next=A.next,A.next=m),c.pending=m}v!==0&&j_(l,m,v)}}function _h(i,s,l,c){Jn[Io++]=i,Jn[Io++]=s,Jn[Io++]=l,Jn[Io++]=c,Nm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Mm(i,s,l,c){return _h(i,s,l,c),Eh(i)}function Ta(i,s){return _h(i,null,null,s),Eh(i)}function j_(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,v=i.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(m=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,m&&s!==null&&(m=31-wt(l),i=v.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=l|536870912),v):null}function Eh(i){if(50<Ou)throw Ou=0,zp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var xo={};function zD(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(i,s,l,c){return new zD(i,s,l,c)}function Om(i){return i=i.prototype,!(!i||!i.isReactComponent)}function bi(i,s){var l=i.alternate;return l===null?(l=Un(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function U_(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function bh(i,s,l,c,m,v){var A=0;if(c=i,typeof i=="function")Om(i)&&(A=1);else if(typeof i=="string")A=QI(i,l,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Un(31,l,s,m),i.elementType=N,i.lanes=v,i;case M:return Sa(l.children,m,v,s);case x:A=8,m|=24;break;case O:return i=Un(12,l,s,m|2),i.elementType=O,i.lanes=v,i;case re:return i=Un(13,l,s,m),i.elementType=re,i.lanes=v,i;case J:return i=Un(19,l,s,m),i.elementType=J,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Z:A=10;break e;case H:A=9;break e;case le:A=11;break e;case I:A=14;break e;case C:A=16,c=null;break e}A=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Un(A,l,s,m),s.elementType=i,s.type=c,s.lanes=v,s}function Sa(i,s,l,c){return i=Un(7,i,c,s),i.lanes=l,i}function km(i,s,l){return i=Un(6,i,null,s),i.lanes=l,i}function B_(i){var s=Un(18,null,null,0);return s.stateNode=i,s}function Pm(i,s,l){return s=Un(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var z_=new WeakMap;function er(i,s){if(typeof i=="object"&&i!==null){var l=z_.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Hl(s)},z_.set(i,s),s)}return{value:i,source:s,stack:Hl(s)}}var No=[],Mo=0,Ah=null,du=0,tr=[],nr=0,ls=null,$r=1,Kr="";function Ai(i,s){No[Mo++]=du,No[Mo++]=Ah,Ah=i,du=s}function H_(i,s,l){tr[nr++]=$r,tr[nr++]=Kr,tr[nr++]=ls,ls=i;var c=$r;i=Kr;var m=32-wt(c)-1;c&=~(1<<m),l+=1;var v=32-wt(s)+m;if(30<v){var A=m-m%5;v=(c&(1<<A)-1).toString(32),c>>=A,m-=A,$r=1<<32-wt(s)+m|l<<m|c,Kr=v+i}else $r=1<<v|l<<m|c,Kr=i}function Vm(i){i.return!==null&&(Ai(i,1),H_(i,1,0))}function Lm(i){for(;i===Ah;)Ah=No[--Mo],No[Mo]=null,du=No[--Mo],No[Mo]=null;for(;i===ls;)ls=tr[--nr],tr[nr]=null,Kr=tr[--nr],tr[nr]=null,$r=tr[--nr],tr[nr]=null}function F_(i,s){tr[nr++]=$r,tr[nr++]=Kr,tr[nr++]=ls,$r=s.id,Kr=s.overflow,ls=i}var an=null,ut=null,Ue=!1,us=null,rr=!1,jm=Error(r(519));function cs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fu(er(s,i)),jm}function q_(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[kt]=i,s[Xt]=c,l){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(l=0;l<Pu.length;l++)Oe(Pu[l],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),th(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),ts(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||oA(s.textContent,l)?(c.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),c.onScroll!=null&&Oe("scroll",s),c.onScrollEnd!=null&&Oe("scrollend",s),c.onClick!=null&&(s.onclick=fr),s=!0):s=!1,s||cs(i,!0)}function G_(i){for(an=i.return;an;)switch(an.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:an=an.return}}function Oo(i){if(i!==an)return!1;if(!Ue)return G_(i),Ue=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||ng(i.type,i.memoizedProps)),l=!l),l&&ut&&cs(i),G_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ut=gA(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ut=gA(i)}else s===27?(s=ut,Ss(i.type)?(i=og,og=null,ut=i):ut=s):ut=an?sr(i.stateNode.nextSibling):null;return!0}function wa(){ut=an=null,Ue=!1}function Um(){var i=us;return i!==null&&(Nn===null?Nn=i:Nn.push.apply(Nn,i),us=null),i}function fu(i){us===null?us=[i]:us.push(i)}var Bm=B(null),Ra=null,Ti=null;function hs(i,s,l){he(Bm,s._currentValue),s._currentValue=l}function Si(i){i._currentValue=Bm.current,ae(Bm)}function zm(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function Hm(i,s,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var v=m.dependencies;if(v!==null){var A=m.child;v=v.firstContext;e:for(;v!==null;){var w=v;v=m;for(var P=0;P<s.length;P++)if(w.context===s[P]){v.lanes|=l,w=v.alternate,w!==null&&(w.lanes|=l),zm(v.return,l,i),c||(A=null);break e}v=w.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=l,v=A.alternate,v!==null&&(v.lanes|=l),zm(A,l,i),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===i){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function ko(i,s,l,c){i=null;for(var m=s,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var w=m.type;jn(m.pendingProps.value,A.value)||(i!==null?i.push(w):i=[w])}}else if(m===Be.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Bu):i=[Bu])}m=m.return}i!==null&&Hm(s,i,l,c),s.flags|=262144}function Th(i){for(i=i.firstContext;i!==null;){if(!jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ca(i){Ra=i,Ti=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function on(i){return Q_(Ra,i)}function Sh(i,s){return Ra===null&&Ca(i),Q_(i,s)}function Q_(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ti===null){if(i===null)throw Error(r(308));Ti=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ti=Ti.next=s;return l}var HD=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},FD=n.unstable_scheduleCallback,qD=n.unstable_NormalPriority,Lt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fm(){return{controller:new HD,data:new Map,refCount:0}}function mu(i){i.refCount--,i.refCount===0&&FD(qD,function(){i.controller.abort()})}var pu=null,qm=0,Po=0,Vo=null;function GD(i,s){if(pu===null){var l=pu=[];qm=0,Po=Yp(),Vo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return qm++,s.then(Y_,Y_),s}function Y_(){if(--qm===0&&pu!==null){Vo!==null&&(Vo.status="fulfilled");var i=pu;pu=null,Po=0,Vo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function QD(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var W_=te.S;te.S=function(i,s){Nb=An(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&GD(i,s),W_!==null&&W_(i,s)};var Da=B(null);function Gm(){var i=Da.current;return i!==null?i:at.pooledCache}function wh(i,s){s===null?he(Da,Da.current):he(Da,s.pool)}function $_(){var i=Gm();return i===null?null:{parent:Lt._currentValue,pool:i}}var Lo=Error(r(460)),Qm=Error(r(474)),Rh=Error(r(542)),Ch={then:function(){}};function K_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function X_(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(fr,fr),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,J_(i),i;default:if(typeof s.status=="string")s.then(fr,fr);else{if(i=at,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,J_(i),i}throw xa=s,Lo}}function Ia(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(xa=l,Lo):l}}var xa=null;function Z_(){if(xa===null)throw Error(r(459));var i=xa;return xa=null,i}function J_(i){if(i===Lo||i===Rh)throw Error(r(483))}var jo=null,gu=0;function Dh(i){var s=gu;return gu+=1,jo===null&&(jo=[]),X_(jo,i,s)}function vu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Ih(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function eE(i){function s(F,U){if(i){var G=F.deletions;G===null?(F.deletions=[U],F.flags|=16):G.push(U)}}function l(F,U){if(!i)return null;for(;U!==null;)s(F,U),U=U.sibling;return null}function c(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function m(F,U){return F=bi(F,U),F.index=0,F.sibling=null,F}function v(F,U,G){return F.index=G,i?(G=F.alternate,G!==null?(G=G.index,G<U?(F.flags|=67108866,U):G):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function A(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function w(F,U,G,ne){return U===null||U.tag!==6?(U=km(G,F.mode,ne),U.return=F,U):(U=m(U,G),U.return=F,U)}function P(F,U,G,ne){var ve=G.type;return ve===M?ee(F,U,G.props.children,ne,G.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===C&&Ia(ve)===U.type)?(U=m(U,G.props),vu(U,G),U.return=F,U):(U=bh(G.type,G.key,G.props,null,F.mode,ne),vu(U,G),U.return=F,U)}function Q(F,U,G,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Pm(G,F.mode,ne),U.return=F,U):(U=m(U,G.children||[]),U.return=F,U)}function ee(F,U,G,ne,ve){return U===null||U.tag!==7?(U=Sa(G,F.mode,ne,ve),U.return=F,U):(U=m(U,G),U.return=F,U)}function ie(F,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=km(""+U,F.mode,G),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return G=bh(U.type,U.key,U.props,null,F.mode,G),vu(G,U),G.return=F,G;case R:return U=Pm(U,F.mode,G),U.return=F,U;case C:return U=Ia(U),ie(F,U,G)}if(Gt(U)||z(U))return U=Sa(U,F.mode,G,null),U.return=F,U;if(typeof U.then=="function")return ie(F,Dh(U),G);if(U.$$typeof===Z)return ie(F,Sh(F,U),G);Ih(F,U)}return null}function Y(F,U,G,ne){var ve=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ve!==null?null:w(F,U,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===ve?P(F,U,G,ne):null;case R:return G.key===ve?Q(F,U,G,ne):null;case C:return G=Ia(G),Y(F,U,G,ne)}if(Gt(G)||z(G))return ve!==null?null:ee(F,U,G,ne,null);if(typeof G.then=="function")return Y(F,U,Dh(G),ne);if(G.$$typeof===Z)return Y(F,U,Sh(F,G),ne);Ih(F,G)}return null}function K(F,U,G,ne,ve){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return F=F.get(G)||null,w(U,F,""+ne,ve);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return F=F.get(ne.key===null?G:ne.key)||null,P(U,F,ne,ve);case R:return F=F.get(ne.key===null?G:ne.key)||null,Q(U,F,ne,ve);case C:return ne=Ia(ne),K(F,U,G,ne,ve)}if(Gt(ne)||z(ne))return F=F.get(G)||null,ee(U,F,ne,ve,null);if(typeof ne.then=="function")return K(F,U,G,Dh(ne),ve);if(ne.$$typeof===Z)return K(F,U,G,Sh(U,ne),ve);Ih(U,ne)}return null}function pe(F,U,G,ne){for(var ve=null,Fe=null,ge=U,Ne=U=0,Pe=null;ge!==null&&Ne<G.length;Ne++){ge.index>Ne?(Pe=ge,ge=null):Pe=ge.sibling;var qe=Y(F,ge,G[Ne],ne);if(qe===null){ge===null&&(ge=Pe);break}i&&ge&&qe.alternate===null&&s(F,ge),U=v(qe,U,Ne),Fe===null?ve=qe:Fe.sibling=qe,Fe=qe,ge=Pe}if(Ne===G.length)return l(F,ge),Ue&&Ai(F,Ne),ve;if(ge===null){for(;Ne<G.length;Ne++)ge=ie(F,G[Ne],ne),ge!==null&&(U=v(ge,U,Ne),Fe===null?ve=ge:Fe.sibling=ge,Fe=ge);return Ue&&Ai(F,Ne),ve}for(ge=c(ge);Ne<G.length;Ne++)Pe=K(ge,F,Ne,G[Ne],ne),Pe!==null&&(i&&Pe.alternate!==null&&ge.delete(Pe.key===null?Ne:Pe.key),U=v(Pe,U,Ne),Fe===null?ve=Pe:Fe.sibling=Pe,Fe=Pe);return i&&ge.forEach(function(Is){return s(F,Is)}),Ue&&Ai(F,Ne),ve}function be(F,U,G,ne){if(G==null)throw Error(r(151));for(var ve=null,Fe=null,ge=U,Ne=U=0,Pe=null,qe=G.next();ge!==null&&!qe.done;Ne++,qe=G.next()){ge.index>Ne?(Pe=ge,ge=null):Pe=ge.sibling;var Is=Y(F,ge,qe.value,ne);if(Is===null){ge===null&&(ge=Pe);break}i&&ge&&Is.alternate===null&&s(F,ge),U=v(Is,U,Ne),Fe===null?ve=Is:Fe.sibling=Is,Fe=Is,ge=Pe}if(qe.done)return l(F,ge),Ue&&Ai(F,Ne),ve;if(ge===null){for(;!qe.done;Ne++,qe=G.next())qe=ie(F,qe.value,ne),qe!==null&&(U=v(qe,U,Ne),Fe===null?ve=qe:Fe.sibling=qe,Fe=qe);return Ue&&Ai(F,Ne),ve}for(ge=c(ge);!qe.done;Ne++,qe=G.next())qe=K(ge,F,Ne,qe.value,ne),qe!==null&&(i&&qe.alternate!==null&&ge.delete(qe.key===null?Ne:qe.key),U=v(qe,U,Ne),Fe===null?ve=qe:Fe.sibling=qe,Fe=qe);return i&&ge.forEach(function(rx){return s(F,rx)}),Ue&&Ai(F,Ne),ve}function st(F,U,G,ne){if(typeof G=="object"&&G!==null&&G.type===M&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:e:{for(var ve=G.key;U!==null;){if(U.key===ve){if(ve=G.type,ve===M){if(U.tag===7){l(F,U.sibling),ne=m(U,G.props.children),ne.return=F,F=ne;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===C&&Ia(ve)===U.type){l(F,U.sibling),ne=m(U,G.props),vu(ne,G),ne.return=F,F=ne;break e}l(F,U);break}else s(F,U);U=U.sibling}G.type===M?(ne=Sa(G.props.children,F.mode,ne,G.key),ne.return=F,F=ne):(ne=bh(G.type,G.key,G.props,null,F.mode,ne),vu(ne,G),ne.return=F,F=ne)}return A(F);case R:e:{for(ve=G.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(F,U.sibling),ne=m(U,G.children||[]),ne.return=F,F=ne;break e}else{l(F,U);break}else s(F,U);U=U.sibling}ne=Pm(G,F.mode,ne),ne.return=F,F=ne}return A(F);case C:return G=Ia(G),st(F,U,G,ne)}if(Gt(G))return pe(F,U,G,ne);if(z(G)){if(ve=z(G),typeof ve!="function")throw Error(r(150));return G=ve.call(G),be(F,U,G,ne)}if(typeof G.then=="function")return st(F,U,Dh(G),ne);if(G.$$typeof===Z)return st(F,U,Sh(F,G),ne);Ih(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(l(F,U.sibling),ne=m(U,G),ne.return=F,F=ne):(l(F,U),ne=km(G,F.mode,ne),ne.return=F,F=ne),A(F)):l(F,U)}return function(F,U,G,ne){try{gu=0;var ve=st(F,U,G,ne);return jo=null,ve}catch(ge){if(ge===Lo||ge===Rh)throw ge;var Fe=Un(29,ge,null,F.mode);return Fe.lanes=ne,Fe.return=F,Fe}finally{}}}var Na=eE(!0),tE=eE(!1),ds=!1;function Ym(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function fs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ms(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Eh(i),j_(i,null,l),s}return _h(i,c,s,l),Eh(i)}function yu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Gl(i,l)}}function $m(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?m=v=A:v=v.next=A,l=l.next}while(l!==null);v===null?m=v=s:v=v.next=s}else m=v=s;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Km=!1;function _u(){if(Km){var i=Vo;if(i!==null)throw i}}function Eu(i,s,l,c){Km=!1;var m=i.updateQueue;ds=!1;var v=m.firstBaseUpdate,A=m.lastBaseUpdate,w=m.shared.pending;if(w!==null){m.shared.pending=null;var P=w,Q=P.next;P.next=null,A===null?v=Q:A.next=Q,A=P;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==A&&(w===null?ee.firstBaseUpdate=Q:w.next=Q,ee.lastBaseUpdate=P))}if(v!==null){var ie=m.baseState;A=0,ee=Q=P=null,w=v;do{var Y=w.lane&-536870913,K=Y!==w.lane;if(K?(ke&Y)===Y:(c&Y)===Y){Y!==0&&Y===Po&&(Km=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var pe=i,be=w;Y=s;var st=l;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){ie=pe.call(st,ie,Y);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,Y=typeof pe=="function"?pe.call(st,ie,Y):pe,Y==null)break e;ie=y({},ie,Y);break e;case 2:ds=!0}}Y=w.callback,Y!==null&&(i.flags|=64,K&&(i.flags|=8192),K=m.callbacks,K===null?m.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(Q=ee=K,P=ie):ee=ee.next=K,A|=Y;if(w=w.next,w===null){if(w=m.shared.pending,w===null)break;K=w,w=K.next,K.next=null,m.lastBaseUpdate=K,m.shared.pending=null}}while(!0);ee===null&&(P=ie),m.baseState=P,m.firstBaseUpdate=Q,m.lastBaseUpdate=ee,v===null&&(m.shared.lanes=0),_s|=A,i.lanes=A,i.memoizedState=ie}}function nE(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function rE(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)nE(l[i],s)}var Uo=B(null),xh=B(0);function iE(i,s){i=Oi,he(xh,i),he(Uo,s),Oi=i|s.baseLanes}function Xm(){he(xh,Oi),he(Uo,Uo.current)}function Zm(){Oi=xh.current,ae(Uo),ae(xh)}var Bn=B(null),ir=null;function ps(i){var s=i.alternate;he(Ct,Ct.current&1),he(Bn,i),ir===null&&(s===null||Uo.current!==null||s.memoizedState!==null)&&(ir=i)}function Jm(i){he(Ct,Ct.current),he(Bn,i),ir===null&&(ir=i)}function sE(i){i.tag===22?(he(Ct,Ct.current),he(Bn,i),ir===null&&(ir=i)):gs()}function gs(){he(Ct,Ct.current),he(Bn,Bn.current)}function zn(i){ae(Bn),ir===i&&(ir=null),ae(Ct)}var Ct=B(0);function Nh(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||sg(l)||ag(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var wi=0,Ie=null,rt=null,jt=null,Mh=!1,Bo=!1,Ma=!1,Oh=0,bu=0,zo=null,YD=0;function At(){throw Error(r(321))}function ep(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!jn(i[l],s[l]))return!1;return!0}function tp(i,s,l,c,m,v){return wi=v,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,te.H=i===null||i.memoizedState===null?HE:gp,Ma=!1,v=l(c,m),Ma=!1,Bo&&(v=oE(s,l,c,m)),aE(i),v}function aE(i){te.H=Su;var s=rt!==null&&rt.next!==null;if(wi=0,jt=rt=Ie=null,Mh=!1,bu=0,zo=null,s)throw Error(r(300));i===null||Ut||(i=i.dependencies,i!==null&&Th(i)&&(Ut=!0))}function oE(i,s,l,c){Ie=i;var m=0;do{if(Bo&&(zo=null),bu=0,Bo=!1,25<=m)throw Error(r(301));if(m+=1,jt=rt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}te.H=FE,v=s(l,c)}while(Bo);return v}function WD(){var i=te.H,s=i.useState()[0];return s=typeof s.then=="function"?Au(s):s,i=i.useState()[0],(rt!==null?rt.memoizedState:null)!==i&&(Ie.flags|=1024),s}function np(){var i=Oh!==0;return Oh=0,i}function rp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function ip(i){if(Mh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Mh=!1}wi=0,jt=rt=Ie=null,Bo=!1,bu=Oh=0,zo=null}function Sn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Ie.memoizedState=jt=i:jt=jt.next=i,jt}function Dt(){if(rt===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=rt.next;var s=jt===null?Ie.memoizedState:jt.next;if(s!==null)jt=s,rt=i;else{if(i===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));rt=i,i={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},jt===null?Ie.memoizedState=jt=i:jt=jt.next=i}return jt}function kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Au(i){var s=bu;return bu+=1,zo===null&&(zo=[]),i=X_(zo,i,s),s=Ie,(jt===null?s.memoizedState:jt.next)===null&&(s=s.alternate,te.H=s===null||s.memoizedState===null?HE:gp),i}function Ph(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Au(i);if(i.$$typeof===Z)return on(i)}throw Error(r(438,String(i)))}function sp(i){var s=null,l=Ie.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=kh(),Ie.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=j;return s.index++,l}function Ri(i,s){return typeof s=="function"?s(i):s}function Vh(i){var s=Dt();return ap(s,rt,i)}function ap(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,v=c.pending;if(v!==null){if(m!==null){var A=m.next;m.next=v.next,v.next=A}s.baseQueue=m=v,c.pending=null}if(v=i.baseState,m===null)i.memoizedState=v;else{s=m.next;var w=A=null,P=null,Q=s,ee=!1;do{var ie=Q.lane&-536870913;if(ie!==Q.lane?(ke&ie)===ie:(wi&ie)===ie){var Y=Q.revertLane;if(Y===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ie===Po&&(ee=!0);else if((wi&Y)===Y){Q=Q.next,Y===Po&&(ee=!0);continue}else ie={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},P===null?(w=P=ie,A=v):P=P.next=ie,Ie.lanes|=Y,_s|=Y;ie=Q.action,Ma&&l(v,ie),v=Q.hasEagerState?Q.eagerState:l(v,ie)}else Y={lane:ie,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},P===null?(w=P=Y,A=v):P=P.next=Y,Ie.lanes|=ie,_s|=ie;Q=Q.next}while(Q!==null&&Q!==s);if(P===null?A=v:P.next=w,!jn(v,i.memoizedState)&&(Ut=!0,ee&&(l=Vo,l!==null)))throw l;i.memoizedState=v,i.baseState=A,i.baseQueue=P,c.lastRenderedState=v}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function op(i){var s=Dt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,v=s.memoizedState;if(m!==null){l.pending=null;var A=m=m.next;do v=i(v,A.action),A=A.next;while(A!==m);jn(v,s.memoizedState)||(Ut=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,c]}function lE(i,s,l){var c=Ie,m=Dt(),v=Ue;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=s();var A=!jn((rt||m).memoizedState,l);if(A&&(m.memoizedState=l,Ut=!0),m=m.queue,cp(hE.bind(null,c,m,i),[i]),m.getSnapshot!==s||A||jt!==null&&jt.memoizedState.tag&1){if(c.flags|=2048,Ho(9,{destroy:void 0},cE.bind(null,c,m,l,s),null),at===null)throw Error(r(349));v||(wi&127)!==0||uE(c,s,l)}return l}function uE(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ie.updateQueue,s===null?(s=kh(),Ie.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function cE(i,s,l,c){s.value=l,s.getSnapshot=c,dE(s)&&fE(i)}function hE(i,s,l){return l(function(){dE(s)&&fE(i)})}function dE(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!jn(i,l)}catch{return!0}}function fE(i){var s=Ta(i,2);s!==null&&Mn(s,i,2)}function lp(i){var s=Sn();if(typeof i=="function"){var l=i;if(i=l(),Ma){Wn(!0);try{l()}finally{Wn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:i},s}function mE(i,s,l,c){return i.baseState=l,ap(i,rt,typeof c=="function"?c:Ri)}function $D(i,s,l,c,m){if(Uh(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};te.T!==null?l(!0):v.isTransition=!1,c(v),l=s.pending,l===null?(v.next=s.pending=v,pE(s,v)):(v.next=l.next,s.pending=l.next=v)}}function pE(i,s){var l=s.action,c=s.payload,m=i.state;if(s.isTransition){var v=te.T,A={};te.T=A;try{var w=l(m,c),P=te.S;P!==null&&P(A,w),gE(i,s,w)}catch(Q){up(i,s,Q)}finally{v!==null&&A.types!==null&&(v.types=A.types),te.T=v}}else try{v=l(m,c),gE(i,s,v)}catch(Q){up(i,s,Q)}}function gE(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){vE(i,s,c)},function(c){return up(i,s,c)}):vE(i,s,l)}function vE(i,s,l){s.status="fulfilled",s.value=l,yE(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,pE(i,l)))}function up(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,yE(s),s=s.next;while(s!==c)}i.action=null}function yE(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function _E(i,s){return s}function EE(i,s){if(Ue){var l=at.formState;if(l!==null){e:{var c=Ie;if(Ue){if(ut){t:{for(var m=ut,v=rr;m.nodeType!==8;){if(!v){m=null;break t}if(m=sr(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){ut=sr(m.nextSibling),c=m.data==="F!";break e}}cs(c)}c=!1}c&&(s=l[0])}}return l=Sn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_E,lastRenderedState:s},l.queue=c,l=UE.bind(null,Ie,c),c.dispatch=l,c=lp(!1),v=pp.bind(null,Ie,!1,c.queue),c=Sn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,l=$D.bind(null,Ie,m,v,l),m.dispatch=l,c.memoizedState=i,[s,l,!1]}function bE(i){var s=Dt();return AE(s,rt,i)}function AE(i,s,l){if(s=ap(i,s,_E)[0],i=Vh(Ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Au(s)}catch(A){throw A===Lo?Rh:A}else c=s;s=Dt();var m=s.queue,v=m.dispatch;return l!==s.memoizedState&&(Ie.flags|=2048,Ho(9,{destroy:void 0},KD.bind(null,m,l),null)),[c,v,i]}function KD(i,s){i.action=s}function TE(i){var s=Dt(),l=rt;if(l!==null)return AE(s,l,i);Dt(),s=s.memoizedState,l=Dt();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Ho(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=kh(),Ie.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function SE(){return Dt().memoizedState}function Lh(i,s,l,c){var m=Sn();Ie.flags|=i,m.memoizedState=Ho(1|s,{destroy:void 0},l,c===void 0?null:c)}function jh(i,s,l,c){var m=Dt();c=c===void 0?null:c;var v=m.memoizedState.inst;rt!==null&&c!==null&&ep(c,rt.memoizedState.deps)?m.memoizedState=Ho(s,v,l,c):(Ie.flags|=i,m.memoizedState=Ho(1|s,v,l,c))}function wE(i,s){Lh(8390656,8,i,s)}function cp(i,s){jh(2048,8,i,s)}function XD(i){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=kh(),Ie.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function RE(i){var s=Dt().memoizedState;return XD({ref:s,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function CE(i,s){return jh(4,2,i,s)}function DE(i,s){return jh(4,4,i,s)}function IE(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function xE(i,s,l){l=l!=null?l.concat([i]):null,jh(4,4,IE.bind(null,s,i),l)}function hp(){}function NE(i,s){var l=Dt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&ep(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function ME(i,s){var l=Dt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&ep(s,c[1]))return c[0];if(c=i(),Ma){Wn(!0);try{i()}finally{Wn(!1)}}return l.memoizedState=[c,s],c}function dp(i,s,l){return l===void 0||(wi&1073741824)!==0&&(ke&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=Ob(),Ie.lanes|=i,_s|=i,l)}function OE(i,s,l,c){return jn(l,s)?l:Uo.current!==null?(i=dp(i,l,c),jn(i,s)||(Ut=!0),i):(wi&42)===0||(wi&1073741824)!==0&&(ke&261930)===0?(Ut=!0,i.memoizedState=l):(i=Ob(),Ie.lanes|=i,_s|=i,s)}function kE(i,s,l,c,m){var v=ce.p;ce.p=v!==0&&8>v?v:8;var A=te.T,w={};te.T=w,pp(i,!1,s,l);try{var P=m(),Q=te.S;if(Q!==null&&Q(w,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ee=QD(P,c);Tu(i,s,ee,qn(i))}else Tu(i,s,c,qn(i))}catch(ie){Tu(i,s,{then:function(){},status:"rejected",reason:ie},qn())}finally{ce.p=v,A!==null&&w.types!==null&&(A.types=w.types),te.T=A}}function ZD(){}function fp(i,s,l,c){if(i.tag!==5)throw Error(r(476));var m=PE(i).queue;kE(i,m,s,_e,l===null?ZD:function(){return VE(i),l(c)})}function PE(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:_e},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function VE(i){var s=PE(i);s.next===null&&(s=i.alternate.memoizedState),Tu(i,s.next.queue,{},qn())}function mp(){return on(Bu)}function LE(){return Dt().memoizedState}function jE(){return Dt().memoizedState}function JD(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=qn();i=fs(l);var c=ms(s,i,l);c!==null&&(Mn(c,s,l),yu(c,s,l)),s={cache:Fm()},i.payload=s;return}s=s.return}}function eI(i,s,l){var c=qn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Uh(i)?BE(s,l):(l=Mm(i,s,l,c),l!==null&&(Mn(l,i,c),zE(l,s,c)))}function UE(i,s,l){var c=qn();Tu(i,s,l,c)}function Tu(i,s,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Uh(i))BE(s,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var A=s.lastRenderedState,w=v(A,l);if(m.hasEagerState=!0,m.eagerState=w,jn(w,A))return _h(i,s,m,0),at===null&&yh(),!1}catch{}finally{}if(l=Mm(i,s,m,c),l!==null)return Mn(l,i,c),zE(l,s,c),!0}return!1}function pp(i,s,l,c){if(c={lane:2,revertLane:Yp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Uh(i)){if(s)throw Error(r(479))}else s=Mm(i,l,c,2),s!==null&&Mn(s,i,2)}function Uh(i){var s=i.alternate;return i===Ie||s!==null&&s===Ie}function BE(i,s){Bo=Mh=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function zE(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Gl(i,l)}}var Su={readContext:on,use:Ph,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Su.useEffectEvent=At;var HE={readContext:on,use:Ph,useCallback:function(i,s){return Sn().memoizedState=[i,s===void 0?null:s],i},useContext:on,useEffect:wE,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Lh(4194308,4,IE.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Lh(4194308,4,i,s)},useInsertionEffect:function(i,s){Lh(4,2,i,s)},useMemo:function(i,s){var l=Sn();s=s===void 0?null:s;var c=i();if(Ma){Wn(!0);try{i()}finally{Wn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=Sn();if(l!==void 0){var m=l(s);if(Ma){Wn(!0);try{l(s)}finally{Wn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=eI.bind(null,Ie,i),[c.memoizedState,i]},useRef:function(i){var s=Sn();return i={current:i},s.memoizedState=i},useState:function(i){i=lp(i);var s=i.queue,l=UE.bind(null,Ie,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:hp,useDeferredValue:function(i,s){var l=Sn();return dp(l,i,s)},useTransition:function(){var i=lp(!1);return i=kE.bind(null,Ie,i.queue,!0,!1),Sn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Ie,m=Sn();if(Ue){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),at===null)throw Error(r(349));(ke&127)!==0||uE(c,s,l)}m.memoizedState=l;var v={value:l,getSnapshot:s};return m.queue=v,wE(hE.bind(null,c,v,i),[i]),c.flags|=2048,Ho(9,{destroy:void 0},cE.bind(null,c,v,l,s),null),l},useId:function(){var i=Sn(),s=at.identifierPrefix;if(Ue){var l=Kr,c=$r;l=(c&~(1<<32-wt(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Oh++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=YD++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:mp,useFormState:EE,useActionState:EE,useOptimistic:function(i){var s=Sn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=pp.bind(null,Ie,!0,l),l.dispatch=s,[i,s]},useMemoCache:sp,useCacheRefresh:function(){return Sn().memoizedState=JD.bind(null,Ie)},useEffectEvent:function(i){var s=Sn(),l={impl:i};return s.memoizedState=l,function(){if((Ye&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},gp={readContext:on,use:Ph,useCallback:NE,useContext:on,useEffect:cp,useImperativeHandle:xE,useInsertionEffect:CE,useLayoutEffect:DE,useMemo:ME,useReducer:Vh,useRef:SE,useState:function(){return Vh(Ri)},useDebugValue:hp,useDeferredValue:function(i,s){var l=Dt();return OE(l,rt.memoizedState,i,s)},useTransition:function(){var i=Vh(Ri)[0],s=Dt().memoizedState;return[typeof i=="boolean"?i:Au(i),s]},useSyncExternalStore:lE,useId:LE,useHostTransitionStatus:mp,useFormState:bE,useActionState:bE,useOptimistic:function(i,s){var l=Dt();return mE(l,rt,i,s)},useMemoCache:sp,useCacheRefresh:jE};gp.useEffectEvent=RE;var FE={readContext:on,use:Ph,useCallback:NE,useContext:on,useEffect:cp,useImperativeHandle:xE,useInsertionEffect:CE,useLayoutEffect:DE,useMemo:ME,useReducer:op,useRef:SE,useState:function(){return op(Ri)},useDebugValue:hp,useDeferredValue:function(i,s){var l=Dt();return rt===null?dp(l,i,s):OE(l,rt.memoizedState,i,s)},useTransition:function(){var i=op(Ri)[0],s=Dt().memoizedState;return[typeof i=="boolean"?i:Au(i),s]},useSyncExternalStore:lE,useId:LE,useHostTransitionStatus:mp,useFormState:TE,useActionState:TE,useOptimistic:function(i,s){var l=Dt();return rt!==null?mE(l,rt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:sp,useCacheRefresh:jE};FE.useEffectEvent=RE;function vp(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var yp={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=qn(),m=fs(c);m.payload=s,l!=null&&(m.callback=l),s=ms(i,m,c),s!==null&&(Mn(s,i,c),yu(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=qn(),m=fs(c);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=ms(i,m,c),s!==null&&(Mn(s,i,c),yu(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=qn(),c=fs(l);c.tag=2,s!=null&&(c.callback=s),s=ms(i,c,l),s!==null&&(Mn(s,i,l),yu(s,i,l))}};function qE(i,s,l,c,m,v,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,v,A):s.prototype&&s.prototype.isPureReactComponent?!cu(l,c)||!cu(m,v):!0}function GE(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&yp.enqueueReplaceState(s,s.state,null)}function Oa(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}function QE(i){vh(i)}function YE(i){console.error(i)}function WE(i){vh(i)}function Bh(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function $E(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function _p(i,s,l){return l=fs(l),l.tag=3,l.payload={element:null},l.callback=function(){Bh(i,s)},l}function KE(i){return i=fs(i),i.tag=3,i}function XE(i,s,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var v=c.value;i.payload=function(){return m(v)},i.callback=function(){$E(s,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){$E(s,l,c),typeof m!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function tI(i,s,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&ko(s,l,m,!0),l=Bn.current,l!==null){switch(l.tag){case 31:case 13:return ir===null?Zh():l.alternate===null&&Tt===0&&(Tt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===Ch?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),qp(i,c,m)),!1;case 22:return l.flags|=65536,c===Ch?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),qp(i,c,m)),!1}throw Error(r(435,l.tag))}return qp(i,c,m),Zh(),!1}if(Ue)return s=Bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==jm&&(i=Error(r(422),{cause:c}),fu(er(i,l)))):(c!==jm&&(s=Error(r(423),{cause:c}),fu(er(s,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=er(c,l),m=_p(i.stateNode,c,m),$m(i,m),Tt!==4&&(Tt=2)),!1;var v=Error(r(520),{cause:c});if(v=er(v,l),Mu===null?Mu=[v]:Mu.push(v),Tt!==4&&(Tt=2),s===null)return!0;c=er(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=_p(l.stateNode,c,i),$m(l,i),!1;case 1:if(s=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Es===null||!Es.has(v))))return l.flags|=65536,m&=-m,l.lanes|=m,m=KE(m),XE(m,i,l,c),$m(l,m),!1}l=l.return}while(l!==null);return!1}var Ep=Error(r(461)),Ut=!1;function ln(i,s,l,c){s.child=i===null?tE(s,null,l,c):Na(s,i.child,l,c)}function ZE(i,s,l,c,m){l=l.render;var v=s.ref;if("ref"in c){var A={};for(var w in c)w!=="ref"&&(A[w]=c[w])}else A=c;return Ca(s),c=tp(i,s,l,A,v,m),w=np(),i!==null&&!Ut?(rp(i,s,m),Ci(i,s,m)):(Ue&&w&&Vm(s),s.flags|=1,ln(i,s,c,m),s.child)}function JE(i,s,l,c,m){if(i===null){var v=l.type;return typeof v=="function"&&!Om(v)&&v.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=v,eb(i,s,v,c,m)):(i=bh(l.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!Dp(i,m)){var A=v.memoizedProps;if(l=l.compare,l=l!==null?l:cu,l(A,c)&&i.ref===s.ref)return Ci(i,s,m)}return s.flags|=1,i=bi(v,c),i.ref=s.ref,i.return=s,s.child=i}function eb(i,s,l,c,m){if(i!==null){var v=i.memoizedProps;if(cu(v,c)&&i.ref===s.ref)if(Ut=!1,s.pendingProps=c=v,Dp(i,m))(i.flags&131072)!==0&&(Ut=!0);else return s.lanes=i.lanes,Ci(i,s,m)}return bp(i,s,l,c,m)}function tb(i,s,l,c){var m=c.children,v=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,i!==null){for(c=s.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~v}else c=0,s.child=null;return nb(i,s,v,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&wh(s,v!==null?v.cachePool:null),v!==null?iE(s,v):Xm(),sE(s);else return c=s.lanes=536870912,nb(i,s,v!==null?v.baseLanes|l:l,l,c)}else v!==null?(wh(s,v.cachePool),iE(s,v),gs(),s.memoizedState=null):(i!==null&&wh(s,null),Xm(),gs());return ln(i,s,m,l),s.child}function wu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function nb(i,s,l,c,m){var v=Gm();return v=v===null?null:{parent:Lt._currentValue,pool:v},s.memoizedState={baseLanes:l,cachePool:v},i!==null&&wh(s,null),Xm(),sE(s),i!==null&&ko(i,s,c,!0),s.childLanes=m,null}function zh(i,s){return s=Fh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function rb(i,s,l){return Na(s,i.child,null,l),i=zh(s,s.pendingProps),i.flags|=2,zn(s),s.memoizedState=null,i}function nI(i,s,l){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Ue){if(c.mode==="hidden")return i=zh(s,c),s.lanes=536870912,wu(null,i);if(Jm(s),(i=ut)?(i=pA(i,rr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ls!==null?{id:$r,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},l=B_(i),l.return=s,s.child=l,an=s,ut=null)):i=null,i===null)throw cs(s);return s.lanes=536870912,null}return zh(s,c)}var v=i.memoizedState;if(v!==null){var A=v.dehydrated;if(Jm(s),m)if(s.flags&256)s.flags&=-257,s=rb(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ut||ko(i,s,l,!1),m=(l&i.childLanes)!==0,Ut||m){if(c=at,c!==null&&(A=Ql(c,l),A!==0&&A!==v.retryLane))throw v.retryLane=A,Ta(i,A),Mn(c,i,A),Ep;Zh(),s=rb(i,s,l)}else i=v.treeContext,ut=sr(A.nextSibling),an=s,Ue=!0,us=null,rr=!1,i!==null&&F_(s,i),s=zh(s,c),s.flags|=4096;return s}return i=bi(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Hh(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function bp(i,s,l,c,m){return Ca(s),l=tp(i,s,l,c,void 0,m),c=np(),i!==null&&!Ut?(rp(i,s,m),Ci(i,s,m)):(Ue&&c&&Vm(s),s.flags|=1,ln(i,s,l,m),s.child)}function ib(i,s,l,c,m,v){return Ca(s),s.updateQueue=null,l=oE(s,c,l,m),aE(i),c=np(),i!==null&&!Ut?(rp(i,s,v),Ci(i,s,v)):(Ue&&c&&Vm(s),s.flags|=1,ln(i,s,l,v),s.child)}function sb(i,s,l,c,m){if(Ca(s),s.stateNode===null){var v=xo,A=l.contextType;typeof A=="object"&&A!==null&&(v=on(A)),v=new l(c,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=yp,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=c,v.state=s.memoizedState,v.refs={},Ym(s),A=l.contextType,v.context=typeof A=="object"&&A!==null?on(A):xo,v.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(vp(s,l,A,c),v.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&yp.enqueueReplaceState(v,v.state,null),Eu(s,c,v,m),_u(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){v=s.stateNode;var w=s.memoizedProps,P=Oa(l,w);v.props=P;var Q=v.context,ee=l.contextType;A=xo,typeof ee=="object"&&ee!==null&&(A=on(ee));var ie=l.getDerivedStateFromProps;ee=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,ee||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w||Q!==A)&&GE(s,v,c,A),ds=!1;var Y=s.memoizedState;v.state=Y,Eu(s,c,v,m),_u(),Q=s.memoizedState,w||Y!==Q||ds?(typeof ie=="function"&&(vp(s,l,ie,c),Q=s.memoizedState),(P=ds||qE(s,l,P,c,Y,Q,A))?(ee||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Q),v.props=c,v.state=Q,v.context=A,c=P):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,Wm(i,s),A=s.memoizedProps,ee=Oa(l,A),v.props=ee,ie=s.pendingProps,Y=v.context,Q=l.contextType,P=xo,typeof Q=="object"&&Q!==null&&(P=on(Q)),w=l.getDerivedStateFromProps,(Q=typeof w=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==ie||Y!==P)&&GE(s,v,c,P),ds=!1,Y=s.memoizedState,v.state=Y,Eu(s,c,v,m),_u();var K=s.memoizedState;A!==ie||Y!==K||ds||i!==null&&i.dependencies!==null&&Th(i.dependencies)?(typeof w=="function"&&(vp(s,l,w,c),K=s.memoizedState),(ee=ds||qE(s,l,ee,c,Y,K,P)||i!==null&&i.dependencies!==null&&Th(i.dependencies))?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,K,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,K,P)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=K),v.props=c,v.state=K,v.context=P,c=ee):(typeof v.componentDidUpdate!="function"||A===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),c=!1)}return v=c,Hh(i,s),c=(s.flags&128)!==0,v||c?(v=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&c?(s.child=Na(s,i.child,null,m),s.child=Na(s,null,l,m)):ln(i,s,l,m),s.memoizedState=v.state,i=s.child):i=Ci(i,s,m),i}function ab(i,s,l,c){return wa(),s.flags|=256,ln(i,s,l,c),s.child}var Ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tp(i){return{baseLanes:i,cachePool:$_()}}function Sp(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Fn),i}function ob(i,s,l){var c=s.pendingProps,m=!1,v=(s.flags&128)!==0,A;if((A=v)||(A=i!==null&&i.memoizedState===null?!1:(Ct.current&2)!==0),A&&(m=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ue){if(m?ps(s):gs(),(i=ut)?(i=pA(i,rr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ls!==null?{id:$r,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},l=B_(i),l.return=s,s.child=l,an=s,ut=null)):i=null,i===null)throw cs(s);return ag(i)?s.lanes=32:s.lanes=536870912,null}var w=c.children;return c=c.fallback,m?(gs(),m=s.mode,w=Fh({mode:"hidden",children:w},m),c=Sa(c,m,l,null),w.return=s,c.return=s,w.sibling=c,s.child=w,c=s.child,c.memoizedState=Tp(l),c.childLanes=Sp(i,A,l),s.memoizedState=Ap,wu(null,c)):(ps(s),wp(s,w))}var P=i.memoizedState;if(P!==null&&(w=P.dehydrated,w!==null)){if(v)s.flags&256?(ps(s),s.flags&=-257,s=Rp(i,s,l)):s.memoizedState!==null?(gs(),s.child=i.child,s.flags|=128,s=null):(gs(),w=c.fallback,m=s.mode,c=Fh({mode:"visible",children:c.children},m),w=Sa(w,m,l,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,Na(s,i.child,null,l),c=s.child,c.memoizedState=Tp(l),c.childLanes=Sp(i,A,l),s.memoizedState=Ap,s=wu(null,c));else if(ps(s),ag(w)){if(A=w.nextSibling&&w.nextSibling.dataset,A)var Q=A.dgst;A=Q,c=Error(r(419)),c.stack="",c.digest=A,fu({value:c,source:null,stack:null}),s=Rp(i,s,l)}else if(Ut||ko(i,s,l,!1),A=(l&i.childLanes)!==0,Ut||A){if(A=at,A!==null&&(c=Ql(A,l),c!==0&&c!==P.retryLane))throw P.retryLane=c,Ta(i,c),Mn(A,i,c),Ep;sg(w)||Zh(),s=Rp(i,s,l)}else sg(w)?(s.flags|=192,s.child=i.child,s=null):(i=P.treeContext,ut=sr(w.nextSibling),an=s,Ue=!0,us=null,rr=!1,i!==null&&F_(s,i),s=wp(s,c.children),s.flags|=4096);return s}return m?(gs(),w=c.fallback,m=s.mode,P=i.child,Q=P.sibling,c=bi(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,Q!==null?w=bi(Q,w):(w=Sa(w,m,l,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,wu(null,c),c=s.child,w=i.child.memoizedState,w===null?w=Tp(l):(m=w.cachePool,m!==null?(P=Lt._currentValue,m=m.parent!==P?{parent:P,pool:P}:m):m=$_(),w={baseLanes:w.baseLanes|l,cachePool:m}),c.memoizedState=w,c.childLanes=Sp(i,A,l),s.memoizedState=Ap,wu(i.child,c)):(ps(s),l=i.child,i=l.sibling,l=bi(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=l,s.memoizedState=null,l)}function wp(i,s){return s=Fh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Fh(i,s){return i=Un(22,i,null,s),i.lanes=0,i}function Rp(i,s,l){return Na(s,i.child,null,l),i=wp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function lb(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),zm(i.return,s,l)}function Cp(i,s,l,c,m,v){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:v}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=c,A.tail=l,A.tailMode=m,A.treeForkCount=v)}function ub(i,s,l){var c=s.pendingProps,m=c.revealOrder,v=c.tail;c=c.children;var A=Ct.current,w=(A&2)!==0;if(w?(A=A&1|2,s.flags|=128):A&=1,he(Ct,A),ln(i,s,c,l),c=Ue?du:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&lb(i,l,s);else if(i.tag===19)lb(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&Nh(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Cp(s,!1,m,l,v,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Nh(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Cp(s,!0,l,null,v,c);break;case"together":Cp(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Ci(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),_s|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(ko(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=bi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=bi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Dp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Th(i)))}function rI(i,s,l){switch(s.tag){case 3:Qt(s,s.stateNode.containerInfo),hs(s,Lt,i.memoizedState.cache),wa();break;case 27:case 5:sa(s);break;case 4:Qt(s,s.stateNode.containerInfo);break;case 10:hs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Jm(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ps(s),s.flags|=128,null):(l&s.child.childLanes)!==0?ob(i,s,l):(ps(s),i=Ci(i,s,l),i!==null?i.sibling:null);ps(s);break;case 19:var m=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(ko(i,s,l,!1),c=(l&s.childLanes)!==0),m){if(c)return ub(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),he(Ct,Ct.current),c)break;return null;case 22:return s.lanes=0,tb(i,s,l,s.pendingProps);case 24:hs(s,Lt,i.memoizedState.cache)}return Ci(i,s,l)}function cb(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ut=!0;else{if(!Dp(i,l)&&(s.flags&128)===0)return Ut=!1,rI(i,s,l);Ut=(i.flags&131072)!==0}else Ut=!1,Ue&&(s.flags&1048576)!==0&&H_(s,du,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Ia(s.elementType),s.type=i,typeof i=="function")Om(i)?(c=Oa(i,c),s.tag=1,s=sb(null,s,i,c,l)):(s.tag=0,s=bp(null,s,i,c,l));else{if(i!=null){var m=i.$$typeof;if(m===le){s.tag=11,s=ZE(null,s,i,c,l);break e}else if(m===I){s.tag=14,s=JE(null,s,i,c,l);break e}}throw s=dt(i)||i,Error(r(306,s,""))}}return s;case 0:return bp(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,m=Oa(c,s.pendingProps),sb(i,s,c,m,l);case 3:e:{if(Qt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var v=s.memoizedState;m=v.element,Wm(i,s),Eu(s,c,null,l);var A=s.memoizedState;if(c=A.cache,hs(s,Lt,c),c!==v.cache&&Hm(s,[Lt],l,!0),_u(),c=A.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=ab(i,s,c,l);break e}else if(c!==m){m=er(Error(r(424)),s),fu(m),s=ab(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ut=sr(i.firstChild),an=s,Ue=!0,us=null,rr=!0,l=tE(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wa(),c===m){s=Ci(i,s,l);break e}ln(i,s,c,l)}s=s.child}return s;case 26:return Hh(i,s),i===null?(l=bA(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ue||(l=s.type,i=s.pendingProps,c=sd(xe.current).createElement(l),c[kt]=s,c[Xt]=i,un(c,l,i),Pt(c),s.stateNode=c):s.memoizedState=bA(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return sa(s),i===null&&Ue&&(c=s.stateNode=yA(s.type,s.pendingProps,xe.current),an=s,rr=!0,m=ut,Ss(s.type)?(og=m,ut=sr(c.firstChild)):ut=m),ln(i,s,s.pendingProps.children,l),Hh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ue&&((m=c=ut)&&(c=OI(c,s.type,s.pendingProps,rr),c!==null?(s.stateNode=c,an=s,ut=sr(c.firstChild),rr=!1,m=!0):m=!1),m||cs(s)),sa(s),m=s.type,v=s.pendingProps,A=i!==null?i.memoizedProps:null,c=v.children,ng(m,v)?c=null:A!==null&&ng(m,A)&&(s.flags|=32),s.memoizedState!==null&&(m=tp(i,s,WD,null,null,l),Bu._currentValue=m),Hh(i,s),ln(i,s,c,l),s.child;case 6:return i===null&&Ue&&((i=l=ut)&&(l=kI(l,s.pendingProps,rr),l!==null?(s.stateNode=l,an=s,ut=null,i=!0):i=!1),i||cs(s)),null;case 13:return ob(i,s,l);case 4:return Qt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Na(s,null,c,l):ln(i,s,c,l),s.child;case 11:return ZE(i,s,s.type,s.pendingProps,l);case 7:return ln(i,s,s.pendingProps,l),s.child;case 8:return ln(i,s,s.pendingProps.children,l),s.child;case 12:return ln(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,hs(s,s.type,c.value),ln(i,s,c.children,l),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Ca(s),m=on(m),c=c(m),s.flags|=1,ln(i,s,c,l),s.child;case 14:return JE(i,s,s.type,s.pendingProps,l);case 15:return eb(i,s,s.type,s.pendingProps,l);case 19:return ub(i,s,l);case 31:return nI(i,s,l);case 22:return tb(i,s,l,s.pendingProps);case 24:return Ca(s),c=on(Lt),i===null?(m=Gm(),m===null&&(m=at,v=Fm(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=l),m=v),s.memoizedState={parent:c,cache:m},Ym(s),hs(s,Lt,m)):((i.lanes&l)!==0&&(Wm(i,s),Eu(s,null,null,l),_u()),m=i.memoizedState,v=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),hs(s,Lt,c)):(c=v.cache,hs(s,Lt,c),c!==m.cache&&Hm(s,[Lt],l,!0))),ln(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Di(i){i.flags|=4}function Ip(i,s,l,c,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Lb())i.flags|=8192;else throw xa=Ch,Qm}else i.flags&=-16777217}function hb(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!RA(s))if(Lb())i.flags|=8192;else throw xa=Ch,Qm}function qh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Kc():536870912,i.lanes|=s,Qo|=s)}function Ru(i,s){if(!Ue)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ct(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function iI(i,s,l){var c=s.pendingProps;switch(Lm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(s),null;case 1:return ct(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Si(Lt),ft(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Oo(s)?Di(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Um())),ct(s),null;case 26:var m=s.type,v=s.memoizedState;return i===null?(Di(s),v!==null?(ct(s),hb(s,v)):(ct(s),Ip(s,m,null,c,l))):v?v!==i.memoizedState?(Di(s),ct(s),hb(s,v)):(ct(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&Di(s),ct(s),Ip(s,m,i,c,l)),null;case 27:if(co(s),l=xe.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Di(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ct(s),null}i=me.current,Oo(s)?q_(s):(i=yA(m,c,l),s.stateNode=i,Di(s))}return ct(s),null;case 5:if(co(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Di(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ct(s),null}if(v=me.current,Oo(s))q_(s);else{var A=sd(xe.current);switch(v){case 1:v=A.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:v=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":v=A.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":v=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":v=A.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?A.createElement("select",{is:c.is}):A.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?A.createElement(m,{is:c.is}):A.createElement(m)}}v[kt]=s,v[Xt]=c;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)v.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=v;e:switch(un(v,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Di(s)}}return ct(s),Ip(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Di(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=xe.current,Oo(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,m=an,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[kt]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||oA(i.nodeValue,l)),i||cs(s,!0)}else i=sd(i).createTextNode(c),i[kt]=s,s.stateNode=i}return ct(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(c=Oo(s),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[kt]=s}else wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),i=!1}else l=Um(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(zn(s),s):(zn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ct(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Oo(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[kt]=s}else wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),m=!1}else m=Um(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(zn(s),s):(zn(s),null)}return zn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),qh(s,s.updateQueue),ct(s),null);case 4:return ft(),i===null&&Xp(s.stateNode.containerInfo),ct(s),null;case 10:return Si(s.type),ct(s),null;case 19:if(ae(Ct),c=s.memoizedState,c===null)return ct(s),null;if(m=(s.flags&128)!==0,v=c.rendering,v===null)if(m)Ru(c,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=Nh(i),v!==null){for(s.flags|=128,Ru(c,!1),i=v.updateQueue,s.updateQueue=i,qh(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)U_(l,i),l=l.sibling;return he(Ct,Ct.current&1|2),Ue&&Ai(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&An()>$h&&(s.flags|=128,m=!0,Ru(c,!1),s.lanes=4194304)}else{if(!m)if(i=Nh(v),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,qh(s,i),Ru(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!Ue)return ct(s),null}else 2*An()-c.renderingStartTime>$h&&l!==536870912&&(s.flags|=128,m=!0,Ru(c,!1),s.lanes=4194304);c.isBackwards?(v.sibling=s.child,s.child=v):(i=c.last,i!==null?i.sibling=v:s.child=v,c.last=v)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=An(),i.sibling=null,l=Ct.current,he(Ct,m?l&1|2:l&1),Ue&&Ai(s,c.treeForkCount),i):(ct(s),null);case 22:case 23:return zn(s),Zm(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(ct(s),s.subtreeFlags&6&&(s.flags|=8192)):ct(s),l=s.updateQueue,l!==null&&qh(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&ae(Da),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Si(Lt),ct(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function sI(i,s){switch(Lm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Si(Lt),ft(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return co(s),null;case 31:if(s.memoizedState!==null){if(zn(s),s.alternate===null)throw Error(r(340));wa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(zn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));wa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ae(Ct),null;case 4:return ft(),null;case 10:return Si(s.type),null;case 22:case 23:return zn(s),Zm(),i!==null&&ae(Da),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Si(Lt),null;case 25:return null;default:return null}}function db(i,s){switch(Lm(s),s.tag){case 3:Si(Lt),ft();break;case 26:case 27:case 5:co(s);break;case 4:ft();break;case 31:s.memoizedState!==null&&zn(s);break;case 13:zn(s);break;case 19:ae(Ct);break;case 10:Si(s.type);break;case 22:case 23:zn(s),Zm(),i!==null&&ae(Da);break;case 24:Si(Lt)}}function Cu(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var v=l.create,A=l.inst;c=v(),A.destroy=c}l=l.next}while(l!==m)}}catch(w){tt(s,s.return,w)}}function vs(i,s,l){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&i)===i){var A=c.inst,w=A.destroy;if(w!==void 0){A.destroy=void 0,m=s;var P=l,Q=w;try{Q()}catch(ee){tt(m,P,ee)}}}c=c.next}while(c!==v)}}catch(ee){tt(s,s.return,ee)}}function fb(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{rE(s,l)}catch(c){tt(i,i.return,c)}}}function mb(i,s,l){l.props=Oa(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){tt(i,s,c)}}function Du(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){tt(i,s,m)}}function Xr(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){tt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){tt(i,s,m)}else l.current=null}function pb(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){tt(i,i.return,m)}}function xp(i,s,l){try{var c=i.stateNode;CI(c,i.type,l,s),c[Xt]=s}catch(m){tt(i,i.return,m)}}function gb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ss(i.type)||i.tag===4}function Np(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ss(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mp(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=fr));else if(c!==4&&(c===27&&Ss(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Mp(i,s,l),i=i.sibling;i!==null;)Mp(i,s,l),i=i.sibling}function Gh(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&Ss(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Gh(i,s,l),i=i.sibling;i!==null;)Gh(i,s,l),i=i.sibling}function vb(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);un(s,c,l),s[kt]=i,s[Xt]=l}catch(v){tt(i,i.return,v)}}var Ii=!1,Bt=!1,Op=!1,yb=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function aI(i,s){if(i=i.containerInfo,eg=dd,i=x_(i),Rm(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var A=0,w=-1,P=-1,Q=0,ee=0,ie=i,Y=null;t:for(;;){for(var K;ie!==l||m!==0&&ie.nodeType!==3||(w=A+m),ie!==v||c!==0&&ie.nodeType!==3||(P=A+c),ie.nodeType===3&&(A+=ie.nodeValue.length),(K=ie.firstChild)!==null;)Y=ie,ie=K;for(;;){if(ie===i)break t;if(Y===l&&++Q===m&&(w=A),Y===v&&++ee===c&&(P=A),(K=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=K}l=w===-1||P===-1?null:{start:w,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(tg={focusedElem:i,selectionRange:l},dd=!1,Jt=s;Jt!==null;)if(s=Jt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Jt=i;else for(;Jt!==null;){switch(s=Jt,v=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)m=i[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=s,m=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var pe=Oa(l.type,m);i=c.getSnapshotBeforeUpdate(pe,v),c.__reactInternalSnapshotBeforeUpdate=i}catch(be){tt(l,l.return,be)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)ig(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ig(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Jt=i;break}Jt=s.return}}function _b(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ni(i,l),c&4&&Cu(5,l);break;case 1:if(Ni(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(A){tt(l,l.return,A)}else{var m=Oa(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){tt(l,l.return,A)}}c&64&&fb(l),c&512&&Du(l,l.return);break;case 3:if(Ni(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{rE(i,s)}catch(A){tt(l,l.return,A)}}break;case 27:s===null&&c&4&&vb(l);case 26:case 5:Ni(i,l),s===null&&c&4&&pb(l),c&512&&Du(l,l.return);break;case 12:Ni(i,l);break;case 31:Ni(i,l),c&4&&Ab(i,l);break;case 13:Ni(i,l),c&4&&Tb(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=pI.bind(null,l),PI(i,l))));break;case 22:if(c=l.memoizedState!==null||Ii,!c){s=s!==null&&s.memoizedState!==null||Bt,m=Ii;var v=Bt;Ii=c,(Bt=s)&&!v?Mi(i,l,(l.subtreeFlags&8772)!==0):Ni(i,l),Ii=m,Bt=v}break;case 30:break;default:Ni(i,l)}}function Eb(i){var s=i.alternate;s!==null&&(i.alternate=null,Eb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&go(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pt=null,Dn=!1;function xi(i,s,l){for(l=l.child;l!==null;)bb(i,s,l),l=l.sibling}function bb(i,s,l){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(ur,l)}catch{}switch(l.tag){case 26:Bt||Xr(l,s),xi(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Bt||Xr(l,s);var c=pt,m=Dn;Ss(l.type)&&(pt=l.stateNode,Dn=!1),xi(i,s,l),Lu(l.stateNode),pt=c,Dn=m;break;case 5:Bt||Xr(l,s);case 6:if(c=pt,m=Dn,pt=null,xi(i,s,l),pt=c,Dn=m,pt!==null)if(Dn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(l.stateNode)}catch(v){tt(l,s,v)}else try{pt.removeChild(l.stateNode)}catch(v){tt(l,s,v)}break;case 18:pt!==null&&(Dn?(i=pt,fA(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),el(i)):fA(pt,l.stateNode));break;case 4:c=pt,m=Dn,pt=l.stateNode.containerInfo,Dn=!0,xi(i,s,l),pt=c,Dn=m;break;case 0:case 11:case 14:case 15:vs(2,l,s),Bt||vs(4,l,s),xi(i,s,l);break;case 1:Bt||(Xr(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&mb(l,s,c)),xi(i,s,l);break;case 21:xi(i,s,l);break;case 22:Bt=(c=Bt)||l.memoizedState!==null,xi(i,s,l),Bt=c;break;default:xi(i,s,l)}}function Ab(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{el(i)}catch(l){tt(s,s.return,l)}}}function Tb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{el(i)}catch(l){tt(s,s.return,l)}}function oI(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new yb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new yb),s;default:throw Error(r(435,i.tag))}}function Qh(i,s){var l=oI(i);s.forEach(function(c){if(!l.has(c)){l.add(c);var m=gI.bind(null,i,c);c.then(m,m)}})}function In(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],v=i,A=s,w=A;e:for(;w!==null;){switch(w.tag){case 27:if(Ss(w.type)){pt=w.stateNode,Dn=!1;break e}break;case 5:pt=w.stateNode,Dn=!1;break e;case 3:case 4:pt=w.stateNode.containerInfo,Dn=!0;break e}w=w.return}if(pt===null)throw Error(r(160));bb(v,A,m),pt=null,Dn=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Sb(s,i),s=s.sibling}var _r=null;function Sb(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:In(s,i),xn(i),c&4&&(vs(3,i,i.return),Cu(3,i),vs(5,i,i.return));break;case 1:In(s,i),xn(i),c&512&&(Bt||l===null||Xr(l,l.return)),c&64&&Ii&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=_r;if(In(s,i),xn(i),c&512&&(Bt||l===null||Xr(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Lr]||v[kt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(c),m.head.insertBefore(v,m.querySelector("head > title"))),un(v,c,l),v[kt]=i,Pt(v),c=v;break e;case"link":var A=SA("link","href",m).get(c+(l.href||""));if(A){for(var w=0;w<A.length;w++)if(v=A[w],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(w,1);break t}}v=m.createElement(c),un(v,c,l),m.head.appendChild(v);break;case"meta":if(A=SA("meta","content",m).get(c+(l.content||""))){for(w=0;w<A.length;w++)if(v=A[w],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(w,1);break t}}v=m.createElement(c),un(v,c,l),m.head.appendChild(v);break;default:throw Error(r(468,c))}v[kt]=i,Pt(v),c=v}i.stateNode=c}else wA(m,i.type,i.stateNode);else i.stateNode=TA(m,c,i.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?wA(m,i.type,i.stateNode):TA(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&xp(i,i.memoizedProps,l.memoizedProps)}break;case 27:In(s,i),xn(i),c&512&&(Bt||l===null||Xr(l,l.return)),l!==null&&c&4&&xp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(In(s,i),xn(i),c&512&&(Bt||l===null||Xr(l,l.return)),i.flags&32){m=i.stateNode;try{Cn(m,"")}catch(pe){tt(i,i.return,pe)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,xp(i,m,l!==null?l.memoizedProps:m)),c&1024&&(Op=!0);break;case 6:if(In(s,i),xn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(pe){tt(i,i.return,pe)}}break;case 3:if(ld=null,m=_r,_r=ad(s.containerInfo),In(s,i),_r=m,xn(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{el(s.containerInfo)}catch(pe){tt(i,i.return,pe)}Op&&(Op=!1,wb(i));break;case 4:c=_r,_r=ad(i.stateNode.containerInfo),In(s,i),xn(i),_r=c;break;case 12:In(s,i),xn(i);break;case 31:In(s,i),xn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 13:In(s,i),xn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wh=An()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 22:m=i.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,Q=Ii,ee=Bt;if(Ii=Q||m,Bt=ee||P,In(s,i),Bt=ee,Ii=Q,xn(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||P||Ii||Bt||ka(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){P=l=s;try{if(v=P.stateNode,m)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{w=P.stateNode;var ie=P.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pe){tt(P,P.return,pe)}}}else if(s.tag===6){if(l===null){P=s;try{P.stateNode.nodeValue=m?"":P.memoizedProps}catch(pe){tt(P,P.return,pe)}}}else if(s.tag===18){if(l===null){P=s;try{var K=P.stateNode;m?mA(K,!0):mA(P.stateNode,!1)}catch(pe){tt(P,P.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Qh(i,l))));break;case 19:In(s,i),xn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 30:break;case 21:break;default:In(s,i),xn(i)}}function xn(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(gb(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,v=Np(i);Gh(i,v,m);break;case 5:var A=l.stateNode;l.flags&32&&(Cn(A,""),l.flags&=-33);var w=Np(i);Gh(i,w,A);break;case 3:case 4:var P=l.stateNode.containerInfo,Q=Np(i);Mp(i,Q,P);break;default:throw Error(r(161))}}catch(ee){tt(i,i.return,ee)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function wb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;wb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ni(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_b(i,s.alternate,s),s=s.sibling}function ka(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:vs(4,s,s.return),ka(s);break;case 1:Xr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&mb(s,s.return,l),ka(s);break;case 27:Lu(s.stateNode);case 26:case 5:Xr(s,s.return),ka(s);break;case 22:s.memoizedState===null&&ka(s);break;case 30:ka(s);break;default:ka(s)}i=i.sibling}}function Mi(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,v=s,A=v.flags;switch(v.tag){case 0:case 11:case 15:Mi(m,v,l),Cu(4,v);break;case 1:if(Mi(m,v,l),c=v,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){tt(c,c.return,Q)}if(c=v,m=c.updateQueue,m!==null){var w=c.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)nE(P[m],w)}catch(Q){tt(c,c.return,Q)}}l&&A&64&&fb(v),Du(v,v.return);break;case 27:vb(v);case 26:case 5:Mi(m,v,l),l&&c===null&&A&4&&pb(v),Du(v,v.return);break;case 12:Mi(m,v,l);break;case 31:Mi(m,v,l),l&&A&4&&Ab(m,v);break;case 13:Mi(m,v,l),l&&A&4&&Tb(m,v);break;case 22:v.memoizedState===null&&Mi(m,v,l),Du(v,v.return);break;case 30:break;default:Mi(m,v,l)}s=s.sibling}}function kp(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&mu(l))}function Pp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&mu(i))}function Er(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Rb(i,s,l,c),s=s.sibling}function Rb(i,s,l,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Er(i,s,l,c),m&2048&&Cu(9,s);break;case 1:Er(i,s,l,c);break;case 3:Er(i,s,l,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&mu(i)));break;case 12:if(m&2048){Er(i,s,l,c),i=s.stateNode;try{var v=s.memoizedProps,A=v.id,w=v.onPostCommit;typeof w=="function"&&w(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){tt(s,s.return,P)}}else Er(i,s,l,c);break;case 31:Er(i,s,l,c);break;case 13:Er(i,s,l,c);break;case 23:break;case 22:v=s.stateNode,A=s.alternate,s.memoizedState!==null?v._visibility&2?Er(i,s,l,c):Iu(i,s):v._visibility&2?Er(i,s,l,c):(v._visibility|=2,Fo(i,s,l,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&kp(A,s);break;case 24:Er(i,s,l,c),m&2048&&Pp(s.alternate,s);break;default:Er(i,s,l,c)}}function Fo(i,s,l,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=i,A=s,w=l,P=c,Q=A.flags;switch(A.tag){case 0:case 11:case 15:Fo(v,A,w,P,m),Cu(8,A);break;case 23:break;case 22:var ee=A.stateNode;A.memoizedState!==null?ee._visibility&2?Fo(v,A,w,P,m):Iu(v,A):(ee._visibility|=2,Fo(v,A,w,P,m)),m&&Q&2048&&kp(A.alternate,A);break;case 24:Fo(v,A,w,P,m),m&&Q&2048&&Pp(A.alternate,A);break;default:Fo(v,A,w,P,m)}s=s.sibling}}function Iu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,m=c.flags;switch(c.tag){case 22:Iu(l,c),m&2048&&kp(c.alternate,c);break;case 24:Iu(l,c),m&2048&&Pp(c.alternate,c);break;default:Iu(l,c)}s=s.sibling}}var xu=8192;function qo(i,s,l){if(i.subtreeFlags&xu)for(i=i.child;i!==null;)Cb(i,s,l),i=i.sibling}function Cb(i,s,l){switch(i.tag){case 26:qo(i,s,l),i.flags&xu&&i.memoizedState!==null&&YI(l,_r,i.memoizedState,i.memoizedProps);break;case 5:qo(i,s,l);break;case 3:case 4:var c=_r;_r=ad(i.stateNode.containerInfo),qo(i,s,l),_r=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=xu,xu=16777216,qo(i,s,l),xu=c):qo(i,s,l));break;default:qo(i,s,l)}}function Db(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Nu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Jt=c,xb(c,i)}Db(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ib(i),i=i.sibling}function Ib(i){switch(i.tag){case 0:case 11:case 15:Nu(i),i.flags&2048&&vs(9,i,i.return);break;case 3:Nu(i);break;case 12:Nu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Yh(i)):Nu(i);break;default:Nu(i)}}function Yh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Jt=c,xb(c,i)}Db(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:vs(8,s,s.return),Yh(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Yh(s));break;default:Yh(s)}i=i.sibling}}function xb(i,s){for(;Jt!==null;){var l=Jt;switch(l.tag){case 0:case 11:case 15:vs(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:mu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Jt=c;else e:for(l=i;Jt!==null;){c=Jt;var m=c.sibling,v=c.return;if(Eb(c),c===l){Jt=null;break e}if(m!==null){m.return=v,Jt=m;break e}Jt=v}}}var lI={getCacheForType:function(i){var s=on(Lt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return on(Lt).controller.signal}},uI=typeof WeakMap=="function"?WeakMap:Map,Ye=0,at=null,Me=null,ke=0,et=0,Hn=null,ys=!1,Go=!1,Vp=!1,Oi=0,Tt=0,_s=0,Pa=0,Lp=0,Fn=0,Qo=0,Mu=null,Nn=null,jp=!1,Wh=0,Nb=0,$h=1/0,Kh=null,Es=null,Wt=0,bs=null,Yo=null,ki=0,Up=0,Bp=null,Mb=null,Ou=0,zp=null;function qn(){return(Ye&2)!==0&&ke!==0?ke&-ke:te.T!==null?Yp():Xc()}function Ob(){if(Fn===0)if((ke&536870912)===0||Ue){var i=la;la<<=1,(la&3932160)===0&&(la=262144),Fn=i}else Fn=536870912;return i=Bn.current,i!==null&&(i.flags|=32),Fn}function Mn(i,s,l){(i===at&&(et===2||et===9)||i.cancelPendingCommit!==null)&&(Wo(i,0),As(i,ke,Fn,!1)),ua(i,l),((Ye&2)===0||i!==at)&&(i===at&&((Ye&2)===0&&(Pa|=l),Tt===4&&As(i,ke,Fn,!1)),Zr(i))}function kb(i,s,l){if((Ye&6)!==0)throw Error(r(327));var c=!l&&(s&127)===0&&(s&i.expiredLanes)===0||cr(i,s),m=c?dI(i,s):Fp(i,s,!0),v=c;do{if(m===0){Go&&!c&&As(i,s,0,!1);break}else{if(l=i.current.alternate,v&&!cI(l)){m=Fp(i,s,!1),v=!1;continue}if(m===2){if(v=s,i.errorRecoveryDisabledLanes&v)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var w=i;m=Mu;var P=w.current.memoizedState.isDehydrated;if(P&&(Wo(w,A).flags|=256),A=Fp(w,A,!1),A!==2){if(Vp&&!P){w.errorRecoveryDisabledLanes|=v,Pa|=v,m=4;break e}v=Nn,Nn=m,v!==null&&(Nn===null?Nn=v:Nn.push.apply(Nn,v))}m=A}if(v=!1,m!==2)continue}}if(m===1){Wo(i,0),As(i,s,0,!0);break}e:{switch(c=i,v=m,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:As(c,s,Fn,!ys);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=Wh+300-An(),10<m)){if(As(c,s,Fn,!ys),kr(c,0,!0)!==0)break e;ki=s,c.timeoutHandle=hA(Pb.bind(null,c,l,Nn,Kh,jp,s,Fn,Pa,Qo,ys,v,"Throttled",-0,0),m);break e}Pb(c,l,Nn,Kh,jp,s,Fn,Pa,Qo,ys,v,null,-0,0)}}break}while(!0);Zr(i)}function Pb(i,s,l,c,m,v,A,w,P,Q,ee,ie,Y,K){if(i.timeoutHandle=-1,ie=s.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fr},Cb(s,v,ie);var pe=(v&62914560)===v?Wh-An():(v&4194048)===v?Nb-An():0;if(pe=WI(ie,pe),pe!==null){ki=v,i.cancelPendingCommit=pe(Fb.bind(null,i,s,v,l,c,m,A,w,P,ee,ie,null,Y,K)),As(i,v,A,!Q);return}}Fb(i,s,v,l,c,m,A,w,P)}function cI(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],v=m.getSnapshot;m=m.value;try{if(!jn(v(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function As(i,s,l,c){s&=~Lp,s&=~Pa,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var v=31-wt(m),A=1<<v;c[v]=-1,m&=~A}l!==0&&ca(i,l,s)}function Xh(){return(Ye&6)===0?(ku(0),!1):!0}function Hp(){if(Me!==null){if(et===0)var i=Me.return;else i=Me,Ti=Ra=null,ip(i),jo=null,gu=0,i=Me;for(;i!==null;)db(i.alternate,i),i=i.return;Me=null}}function Wo(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,xI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ki=0,Hp(),at=i,Me=l=bi(i.current,null),ke=s,et=0,Hn=null,ys=!1,Go=cr(i,s),Vp=!1,Qo=Fn=Lp=Pa=_s=Tt=0,Nn=Mu=null,jp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-wt(c),v=1<<m;s|=i[m],c&=~v}return Oi=s,yh(),l}function Vb(i,s){Ie=null,te.H=Su,s===Lo||s===Rh?(s=Z_(),et=3):s===Qm?(s=Z_(),et=4):et=s===Ep?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hn=s,Me===null&&(Tt=1,Bh(i,er(s,i.current)))}function Lb(){var i=Bn.current;return i===null?!0:(ke&4194048)===ke?ir===null:(ke&62914560)===ke||(ke&536870912)!==0?i===ir:!1}function jb(){var i=te.H;return te.H=Su,i===null?Su:i}function Ub(){var i=te.A;return te.A=lI,i}function Zh(){Tt=4,ys||(ke&4194048)!==ke&&Bn.current!==null||(Go=!0),(_s&134217727)===0&&(Pa&134217727)===0||at===null||As(at,ke,Fn,!1)}function Fp(i,s,l){var c=Ye;Ye|=2;var m=jb(),v=Ub();(at!==i||ke!==s)&&(Kh=null,Wo(i,s)),s=!1;var A=Tt;e:do try{if(et!==0&&Me!==null){var w=Me,P=Hn;switch(et){case 8:Hp(),A=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(s=!0);var Q=et;if(et=0,Hn=null,$o(i,w,P,Q),l&&Go){A=0;break e}break;default:Q=et,et=0,Hn=null,$o(i,w,P,Q)}}hI(),A=Tt;break}catch(ee){Vb(i,ee)}while(!0);return s&&i.shellSuspendCounter++,Ti=Ra=null,Ye=c,te.H=m,te.A=v,Me===null&&(at=null,ke=0,yh()),A}function hI(){for(;Me!==null;)Bb(Me)}function dI(i,s){var l=Ye;Ye|=2;var c=jb(),m=Ub();at!==i||ke!==s?(Kh=null,$h=An()+500,Wo(i,s)):Go=cr(i,s);e:do try{if(et!==0&&Me!==null){s=Me;var v=Hn;t:switch(et){case 1:et=0,Hn=null,$o(i,s,v,1);break;case 2:case 9:if(K_(v)){et=0,Hn=null,zb(s);break}s=function(){et!==2&&et!==9||at!==i||(et=7),Zr(i)},v.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:K_(v)?(et=0,Hn=null,zb(s)):(et=0,Hn=null,$o(i,s,v,7));break;case 5:var A=null;switch(Me.tag){case 26:A=Me.memoizedState;case 5:case 27:var w=Me;if(A?RA(A):w.stateNode.complete){et=0,Hn=null;var P=w.sibling;if(P!==null)Me=P;else{var Q=w.return;Q!==null?(Me=Q,Jh(Q)):Me=null}break t}}et=0,Hn=null,$o(i,s,v,5);break;case 6:et=0,Hn=null,$o(i,s,v,6);break;case 8:Hp(),Tt=6;break e;default:throw Error(r(462))}}fI();break}catch(ee){Vb(i,ee)}while(!0);return Ti=Ra=null,te.H=c,te.A=m,Ye=l,Me!==null?0:(at=null,ke=0,yh(),Tt)}function fI(){for(;Me!==null&&!_m();)Bb(Me)}function Bb(i){var s=cb(i.alternate,i,Oi);i.memoizedProps=i.pendingProps,s===null?Jh(i):Me=s}function zb(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=ib(l,s,s.pendingProps,s.type,void 0,ke);break;case 11:s=ib(l,s,s.pendingProps,s.type.render,s.ref,ke);break;case 5:ip(s);default:db(l,s),s=Me=U_(s,Oi),s=cb(l,s,Oi)}i.memoizedProps=i.pendingProps,s===null?Jh(i):Me=s}function $o(i,s,l,c){Ti=Ra=null,ip(s),jo=null,gu=0;var m=s.return;try{if(tI(i,m,s,l,ke)){Tt=1,Bh(i,er(l,i.current)),Me=null;return}}catch(v){if(m!==null)throw Me=m,v;Tt=1,Bh(i,er(l,i.current)),Me=null;return}s.flags&32768?(Ue||c===1?i=!0:Go||(ke&536870912)!==0?i=!1:(ys=i=!0,(c===2||c===9||c===3||c===6)&&(c=Bn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Hb(s,i)):Jh(s)}function Jh(i){var s=i;do{if((s.flags&32768)!==0){Hb(s,ys);return}i=s.return;var l=iI(s.alternate,s,Oi);if(l!==null){Me=l;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=i}while(s!==null);Tt===0&&(Tt=5)}function Hb(i,s){do{var l=sI(i.alternate,i);if(l!==null){l.flags&=32767,Me=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Me=i;return}Me=i=l}while(i!==null);Tt=6,Me=null}function Fb(i,s,l,c,m,v,A,w,P){i.cancelPendingCommit=null;do ed();while(Wt!==0);if((Ye&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=Nm,Am(i,l,v,A,w,P),i===at&&(Me=at=null,ke=0),Yo=s,bs=i,ki=l,Up=v,Bp=m,Mb=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,vI(Zi,function(){return Wb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=te.T,te.T=null,m=ce.p,ce.p=2,A=Ye,Ye|=4;try{aI(i,s,l)}finally{Ye=A,ce.p=m,te.T=c}}Wt=1,qb(),Gb(),Qb()}}function qb(){if(Wt===1){Wt=0;var i=bs,s=Yo,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=te.T,te.T=null;var c=ce.p;ce.p=2;var m=Ye;Ye|=4;try{Sb(s,i);var v=tg,A=x_(i.containerInfo),w=v.focusedElem,P=v.selectionRange;if(A!==w&&w&&w.ownerDocument&&I_(w.ownerDocument.documentElement,w)){if(P!==null&&Rm(w)){var Q=P.start,ee=P.end;if(ee===void 0&&(ee=Q),"selectionStart"in w)w.selectionStart=Q,w.selectionEnd=Math.min(ee,w.value.length);else{var ie=w.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),pe=w.textContent.length,be=Math.min(P.start,pe),st=P.end===void 0?be:Math.min(P.end,pe);!K.extend&&be>st&&(A=st,st=be,be=A);var F=D_(w,be),U=D_(w,st);if(F&&U&&(K.rangeCount!==1||K.anchorNode!==F.node||K.anchorOffset!==F.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var G=ie.createRange();G.setStart(F.node,F.offset),K.removeAllRanges(),be>st?(K.addRange(G),K.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),K.addRange(G))}}}}for(ie=[],K=w;K=K.parentNode;)K.nodeType===1&&ie.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ie.length;w++){var ne=ie[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}dd=!!eg,tg=eg=null}finally{Ye=m,ce.p=c,te.T=l}}i.current=s,Wt=2}}function Gb(){if(Wt===2){Wt=0;var i=bs,s=Yo,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=te.T,te.T=null;var c=ce.p;ce.p=2;var m=Ye;Ye|=4;try{_b(i,s.alternate,s)}finally{Ye=m,ce.p=c,te.T=l}}Wt=3}}function Qb(){if(Wt===4||Wt===3){Wt=0,qc();var i=bs,s=Yo,l=ki,c=Mb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Wt=5:(Wt=0,Yo=bs=null,Yb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Es=null),vi(l),s=s.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(ur,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=te.T,m=ce.p,ce.p=2,te.T=null;try{for(var v=i.onRecoverableError,A=0;A<c.length;A++){var w=c[A];v(w.value,{componentStack:w.stack})}}finally{te.T=s,ce.p=m}}(ki&3)!==0&&ed(),Zr(i),m=i.pendingLanes,(l&261930)!==0&&(m&42)!==0?i===zp?Ou++:(Ou=0,zp=i):Ou=0,ku(0)}}function Yb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,mu(s)))}function ed(){return qb(),Gb(),Qb(),Wb()}function Wb(){if(Wt!==5)return!1;var i=bs,s=Up;Up=0;var l=vi(ki),c=te.T,m=ce.p;try{ce.p=32>l?32:l,te.T=null,l=Bp,Bp=null;var v=bs,A=ki;if(Wt=0,Yo=bs=null,ki=0,(Ye&6)!==0)throw Error(r(331));var w=Ye;if(Ye|=4,Ib(v.current),Rb(v,v.current,A,l),Ye=w,ku(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(ur,v)}catch{}return!0}finally{ce.p=m,te.T=c,Yb(i,s)}}function $b(i,s,l){s=er(l,s),s=_p(i.stateNode,s,2),i=ms(i,s,2),i!==null&&(ua(i,2),Zr(i))}function tt(i,s,l){if(i.tag===3)$b(i,i,l);else for(;s!==null;){if(s.tag===3){$b(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Es===null||!Es.has(c))){i=er(l,i),l=KE(2),c=ms(s,l,2),c!==null&&(XE(l,c,s,i),ua(c,2),Zr(c));break}}s=s.return}}function qp(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new uI;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(l)||(Vp=!0,m.add(l),i=mI.bind(null,i,s,l),s.then(i,i))}function mI(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,at===i&&(ke&l)===l&&(Tt===4||Tt===3&&(ke&62914560)===ke&&300>An()-Wh?(Ye&2)===0&&Wo(i,0):Lp|=l,Qo===ke&&(Qo=0)),Zr(i)}function Kb(i,s){s===0&&(s=Kc()),i=Ta(i,s),i!==null&&(ua(i,s),Zr(i))}function pI(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Kb(i,l)}function gI(i,s){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),Kb(i,l)}function vI(i,s){return Yt(i,s)}var td=null,Ko=null,Gp=!1,nd=!1,Qp=!1,Ts=0;function Zr(i){i!==Ko&&i.next===null&&(Ko===null?td=Ko=i:Ko=Ko.next=i),nd=!0,Gp||(Gp=!0,_I())}function ku(i,s){if(!Qp&&nd){Qp=!0;do for(var l=!1,c=td;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var v=0;else{var A=c.suspendedLanes,w=c.pingedLanes;v=(1<<31-wt(42|i)+1)-1,v&=m&~(A&~w),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,eA(c,v))}else v=ke,v=kr(c,c===at?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||cr(c,v)||(l=!0,eA(c,v));c=c.next}while(l);Qp=!1}}function yI(){Xb()}function Xb(){nd=Gp=!1;var i=0;Ts!==0&&II()&&(i=Ts);for(var s=An(),l=null,c=td;c!==null;){var m=c.next,v=Zb(c,s);v===0?(c.next=null,l===null?td=m:l.next=m,m===null&&(Ko=l)):(l=c,(i!==0||(v&3)!==0)&&(nd=!0)),c=m}Wt!==0&&Wt!==5||ku(i),Ts!==0&&(Ts=0)}function Zb(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var A=31-wt(v),w=1<<A,P=m[A];P===-1?((w&l)===0||(w&c)!==0)&&(m[A]=bm(w,s)):P<=s&&(i.expiredLanes|=w),v&=~w}if(s=at,l=ke,l=kr(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(et===2||et===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Xi(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||cr(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&Xi(c),vi(l)){case 2:case 8:l=ql;break;case 32:l=Zi;break;case 268435456:l=Gc;break;default:l=Zi}return c=Jb.bind(null,i),l=Yt(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&Xi(c),i.callbackPriority=2,i.callbackNode=null,2}function Jb(i,s){if(Wt!==0&&Wt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(ed()&&i.callbackNode!==l)return null;var c=ke;return c=kr(i,i===at?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(kb(i,c,s),Zb(i,An()),i.callbackNode!=null&&i.callbackNode===l?Jb.bind(null,i):null)}function eA(i,s){if(ed())return null;kb(i,s,!0)}function _I(){NI(function(){(Ye&6)!==0?Yt(Fl,yI):Xb()})}function Yp(){if(Ts===0){var i=Po;i===0&&(i=Mr,Mr<<=1,(Mr&261888)===0&&(Mr=256)),Ts=i}return Ts}function tA(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Eo(""+i)}function nA(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function EI(i,s,l,c,m){if(s==="submit"&&l&&l.stateNode===m){var v=tA((m[Xt]||null).action),A=c.submitter;A&&(s=(s=A[Xt]||null)?tA(s.formAction):A.getAttribute("formAction"),s!==null&&(v=s,A=null));var w=new Gr("action","action",null,c,m);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ts!==0){var P=A?nA(m,A):new FormData(m);fp(l,{pending:!0,data:P,method:m.method,action:v},null,P)}}else typeof v=="function"&&(w.preventDefault(),P=A?nA(m,A):new FormData(m),fp(l,{pending:!0,data:P,method:m.method,action:v},v,P))},currentTarget:m}]})}}for(var Wp=0;Wp<xm.length;Wp++){var $p=xm[Wp],bI=$p.toLowerCase(),AI=$p[0].toUpperCase()+$p.slice(1);yr(bI,"on"+AI)}yr(O_,"onAnimationEnd"),yr(k_,"onAnimationIteration"),yr(P_,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(jD,"onTransitionRun"),yr(UD,"onTransitionStart"),yr(BD,"onTransitionCancel"),yr(V_,"onTransitionEnd"),zr("onMouseEnter",["mouseout","mouseover"]),zr("onMouseLeave",["mouseout","mouseover"]),zr("onPointerEnter",["pointerout","pointerover"]),zr("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function rA(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var v=void 0;if(s)for(var A=c.length-1;0<=A;A--){var w=c[A],P=w.instance,Q=w.currentTarget;if(w=w.listener,P!==v&&m.isPropagationStopped())break e;v=w,m.currentTarget=Q;try{v(m)}catch(ee){vh(ee)}m.currentTarget=null,v=P}else for(A=0;A<c.length;A++){if(w=c[A],P=w.instance,Q=w.currentTarget,w=w.listener,P!==v&&m.isPropagationStopped())break e;v=w,m.currentTarget=Q;try{v(m)}catch(ee){vh(ee)}m.currentTarget=null,v=P}}}}function Oe(i,s){var l=s[po];l===void 0&&(l=s[po]=new Set);var c=i+"__bubble";l.has(c)||(iA(s,i,2,!1),l.add(c))}function Kp(i,s,l){var c=0;s&&(c|=4),iA(l,i,c,s)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Xp(i){if(!i[rd]){i[rd]=!0,Yl.forEach(function(l){l!=="selectionchange"&&(TI.has(l)||Kp(l,!1,i),Kp(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rd]||(s[rd]=!0,Kp("selectionchange",!1,s))}}function iA(i,s,l,c){switch(OA(s)){case 2:var m=XI;break;case 8:m=ZI;break;default:m=dg}l=m.bind(null,s,l,i),m=void 0,!pa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function Zp(i,s,l,c,m){var v=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var w=c.stateNode.containerInfo;if(w===m)break;if(A===4)for(A=c.return;A!==null;){var P=A.tag;if((P===3||P===4)&&A.stateNode.containerInfo===m)return;A=A.return}for(;w!==null;){if(A=jr(w),A===null)return;if(P=A.tag,P===5||P===6||P===26||P===27){c=v=A;continue e}w=w.parentNode}}c=c.return}is(function(){var Q=v,ee=Kn(l),ie=[];e:{var Y=L_.get(i);if(Y!==void 0){var K=Gr,pe=i;switch(i){case"keypress":if(va(l)===0)break e;case"keydown":case"keyup":K=mh;break;case"focusin":pe="focus",K=_a;break;case"focusout":pe="blur",K=_a;break;case"beforeblur":case"afterblur":K=_a;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=E;break;case O_:case k_:case P_:K=oh;break;case V_:K=D;break;case"scroll":case"scrollend":K=su;break;case"wheel":K=W;break;case"copy":case"cut":case"paste":K=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ei;break;case"toggle":case"beforetoggle":K=De}var be=(s&4)!==0,st=!be&&(i==="scroll"||i==="scrollend"),F=be?Y!==null?Y+"Capture":null:Y;be=[];for(var U=Q,G;U!==null;){var ne=U;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||F===null||(ne=mr(U,F),ne!=null&&be.push(Vu(U,ne,G))),st)break;U=U.return}0<be.length&&(Y=new K(Y,pe,null,l,ee),ie.push({event:Y,listeners:be}))}}if((s&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",Y&&l!==nu&&(pe=l.relatedTarget||l.fromElement)&&(jr(pe)||pe[Vr]))break e;if((K||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(pe=l.relatedTarget||l.toElement,K=Q,pe=pe?jr(pe):null,pe!==null&&(st=o(pe),be=pe.tag,pe!==st||be!==5&&be!==27&&be!==6)&&(pe=null)):(K=null,pe=Q),K!==pe)){if(be=au,ne="onMouseLeave",F="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(be=Ei,ne="onPointerLeave",F="onPointerEnter",U="pointer"),st=K==null?Y:Vn(K),G=pe==null?Y:Vn(pe),Y=new be(ne,U+"leave",K,l,ee),Y.target=st,Y.relatedTarget=G,ne=null,jr(ee)===Q&&(be=new be(F,U+"enter",pe,l,ee),be.target=G,be.relatedTarget=st,ne=be),st=ne,K&&pe)t:{for(be=SI,F=K,U=pe,G=0,ne=F;ne;ne=be(ne))G++;ne=0;for(var ve=U;ve;ve=be(ve))ne++;for(;0<G-ne;)F=be(F),G--;for(;0<ne-G;)U=be(U),ne--;for(;G--;){if(F===U||U!==null&&F===U.alternate){be=F;break t}F=be(F),U=be(U)}be=null}else be=null;K!==null&&sA(ie,Y,K,be,!1),pe!==null&&st!==null&&sA(ie,st,pe,be,!0)}}e:{if(Y=Q?Vn(Q):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var Fe=A_;else if(E_(Y))if(T_)Fe=PD;else{Fe=OD;var ge=MD}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?Q&&_o(Q.elementType)&&(Fe=A_):Fe=kD;if(Fe&&(Fe=Fe(i,Q))){b_(ie,Fe,l,ee);break e}ge&&ge(i,Y,Q),i==="focusout"&&Q&&Y.type==="number"&&Q.memoizedProps.value!=null&&Jl(Y,"number",Y.value)}switch(ge=Q?Vn(Q):window,i){case"focusin":(E_(ge)||ge.contentEditable==="true")&&(Co=ge,Cm=Q,hu=null);break;case"focusout":hu=Cm=Co=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,N_(ie,l,ee);break;case"selectionchange":if(LD)break;case"keydown":case"keyup":N_(ie,l,ee)}var Ne;if(Qe)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ro?Ea(i,l)&&(Pe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(Wr&&l.locale!=="ko"&&(Ro||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ro&&(Ne=iu()):(qr=ee,ru="value"in qr?qr.value:qr.textContent,Ro=!0)),ge=id(Q,Pe),0<ge.length&&(Pe=new Yr(Pe,i,null,l,ee),ie.push({event:Pe,listeners:ge}),Ne?Pe.data=Ne:(Ne=wo(l),Ne!==null&&(Pe.data=Ne)))),(Ne=Zn?DD(i,l):ID(i,l))&&(Pe=id(Q,"onBeforeInput"),0<Pe.length&&(ge=new Yr("onBeforeInput","beforeinput",null,l,ee),ie.push({event:ge,listeners:Pe}),ge.data=Ne)),EI(ie,i,Q,l,ee)}rA(ie,s)})}function Vu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function id(i,s){for(var l=s+"Capture",c=[];i!==null;){var m=i,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=mr(i,l),m!=null&&c.unshift(Vu(i,m,v)),m=mr(i,s),m!=null&&c.push(Vu(i,m,v))),i.tag===3)return c;i=i.return}return[]}function SI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function sA(i,s,l,c,m){for(var v=s._reactName,A=[];l!==null&&l!==c;){var w=l,P=w.alternate,Q=w.stateNode;if(w=w.tag,P!==null&&P===c)break;w!==5&&w!==26&&w!==27||Q===null||(P=Q,m?(Q=mr(l,v),Q!=null&&A.unshift(Vu(l,Q,P))):m||(Q=mr(l,v),Q!=null&&A.push(Vu(l,Q,P)))),l=l.return}A.length!==0&&i.push({event:s,listeners:A})}var wI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function aA(i){return(typeof i=="string"?i:""+i).replace(wI,`
`).replace(RI,"")}function oA(i,s){return s=aA(s),aA(i)===s}function it(i,s,l,c,m,v){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Cn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Cn(i,""+c);break;case"className":Ln(i,"class",c);break;case"tabIndex":Ln(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(i,l,c);break;case"style":tu(i,c,v);break;case"data":if(s!=="object"){Ln(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Eo(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(s!=="input"&&it(i,s,"name",m.name,m,null),it(i,s,"formEncType",m.formEncType,m,null),it(i,s,"formMethod",m.formMethod,m,null),it(i,s,"formTarget",m.formTarget,m,null)):(it(i,s,"encType",m.encType,m,null),it(i,s,"method",m.method,m,null),it(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Eo(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=fr);break;case"onScroll":c!=null&&Oe("scroll",i);break;case"onScrollEnd":c!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Eo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),vo(i,"popover",c);break;case"xlinkActuate":Vt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Vt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Vt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Vt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Vt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Vt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":vo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ih.get(l)||l,vo(i,l,c))}}function Jp(i,s,l,c,m,v){switch(l){case"style":tu(i,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Cn(i,c):(typeof c=="number"||typeof c=="bigint")&&Cn(i,""+c);break;case"onScroll":c!=null&&Oe("scroll",i);break;case"onScrollEnd":c!=null&&Oe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=fr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),v=i[Xt]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(s,v,m),typeof c=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):vo(i,l,c)}}}function un(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var c=!1,m=!1,v;for(v in l)if(l.hasOwnProperty(v)){var A=l[v];if(A!=null)switch(v){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:it(i,s,v,A,l,null)}}m&&it(i,s,"srcSet",l.srcSet,l,null),c&&it(i,s,"src",l.src,l,null);return;case"input":Oe("invalid",i);var w=v=A=m=null,P=null,Q=null;for(c in l)if(l.hasOwnProperty(c)){var ee=l[c];if(ee!=null)switch(c){case"name":m=ee;break;case"type":A=ee;break;case"checked":P=ee;break;case"defaultChecked":Q=ee;break;case"value":v=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:it(i,s,c,ee,l,null)}}th(i,v,w,P,Q,A,m,!1);return;case"select":Oe("invalid",i),c=A=v=null;for(m in l)if(l.hasOwnProperty(m)&&(w=l[m],w!=null))switch(m){case"value":v=w;break;case"defaultValue":A=w;break;case"multiple":c=w;default:it(i,s,m,w,l,null)}s=v,l=A,i.multiple=!!c,s!=null?es(i,!!c,s,!1):l!=null&&es(i,!!c,l,!0);return;case"textarea":Oe("invalid",i),v=m=c=null;for(A in l)if(l.hasOwnProperty(A)&&(w=l[A],w!=null))switch(A){case"value":c=w;break;case"defaultValue":m=w;break;case"children":v=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:it(i,s,A,w,l,null)}ts(i,c,m,v);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(c=l[P],c!=null))switch(P){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:it(i,s,P,c,l,null)}return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(c=0;c<Pu.length;c++)Oe(Pu[c],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(c=l[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:it(i,s,Q,c,l,null)}return;default:if(_o(s)){for(ee in l)l.hasOwnProperty(ee)&&(c=l[ee],c!==void 0&&Jp(i,s,ee,c,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(c=l[w],c!=null&&it(i,s,w,c,l,null))}function CI(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,A=null,w=null,P=null,Q=null,ee=null;for(K in l){var ie=l[K];if(l.hasOwnProperty(K)&&ie!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":P=ie;default:c.hasOwnProperty(K)||it(i,s,K,null,c,ie)}}for(var Y in c){var K=c[Y];if(ie=l[Y],c.hasOwnProperty(Y)&&(K!=null||ie!=null))switch(Y){case"type":v=K;break;case"name":m=K;break;case"checked":Q=K;break;case"defaultChecked":ee=K;break;case"value":A=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==ie&&it(i,s,Y,K,c,ie)}}yo(i,A,w,P,Q,ee,v,m);return;case"select":K=A=w=Y=null;for(v in l)if(P=l[v],l.hasOwnProperty(v)&&P!=null)switch(v){case"value":break;case"multiple":K=P;default:c.hasOwnProperty(v)||it(i,s,v,null,c,P)}for(m in c)if(v=c[m],P=l[m],c.hasOwnProperty(m)&&(v!=null||P!=null))switch(m){case"value":Y=v;break;case"defaultValue":w=v;break;case"multiple":A=v;default:v!==P&&it(i,s,m,v,c,P)}s=w,l=A,c=K,Y!=null?es(i,!!l,Y,!1):!!c!=!!l&&(s!=null?es(i,!!l,s,!0):es(i,!!l,l?[]:"",!1));return;case"textarea":K=Y=null;for(w in l)if(m=l[w],l.hasOwnProperty(w)&&m!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:it(i,s,w,null,c,m)}for(A in c)if(m=c[A],v=l[A],c.hasOwnProperty(A)&&(m!=null||v!=null))switch(A){case"value":Y=m;break;case"defaultValue":K=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==v&&it(i,s,A,m,c,v)}nh(i,Y,K);return;case"option":for(var pe in l)if(Y=l[pe],l.hasOwnProperty(pe)&&Y!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:it(i,s,pe,null,c,Y)}for(P in c)if(Y=c[P],K=l[P],c.hasOwnProperty(P)&&Y!==K&&(Y!=null||K!=null))switch(P){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:it(i,s,P,Y,c,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)Y=l[be],l.hasOwnProperty(be)&&Y!=null&&!c.hasOwnProperty(be)&&it(i,s,be,null,c,Y);for(Q in c)if(Y=c[Q],K=l[Q],c.hasOwnProperty(Q)&&Y!==K&&(Y!=null||K!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:it(i,s,Q,Y,c,K)}return;default:if(_o(s)){for(var st in l)Y=l[st],l.hasOwnProperty(st)&&Y!==void 0&&!c.hasOwnProperty(st)&&Jp(i,s,st,void 0,c,Y);for(ee in c)Y=c[ee],K=l[ee],!c.hasOwnProperty(ee)||Y===K||Y===void 0&&K===void 0||Jp(i,s,ee,Y,c,K);return}}for(var F in l)Y=l[F],l.hasOwnProperty(F)&&Y!=null&&!c.hasOwnProperty(F)&&it(i,s,F,null,c,Y);for(ie in c)Y=c[ie],K=l[ie],!c.hasOwnProperty(ie)||Y===K||Y==null&&K==null||it(i,s,ie,Y,c,K)}function lA(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],v=m.transferSize,A=m.initiatorType,w=m.duration;if(v&&w&&lA(A)){for(A=0,w=m.responseEnd,c+=1;c<l.length;c++){var P=l[c],Q=P.startTime;if(Q>w)break;var ee=P.transferSize,ie=P.initiatorType;ee&&lA(ie)&&(P=P.responseEnd,A+=ee*(P<w?1:(w-Q)/(P-Q)))}if(--c,s+=8*(v+A)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var eg=null,tg=null;function sd(i){return i.nodeType===9?i:i.ownerDocument}function uA(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cA(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ng(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rg=null;function II(){var i=window.event;return i&&i.type==="popstate"?i===rg?!1:(rg=i,!0):(rg=null,!1)}var hA=typeof setTimeout=="function"?setTimeout:void 0,xI=typeof clearTimeout=="function"?clearTimeout:void 0,dA=typeof Promise=="function"?Promise:void 0,NI=typeof queueMicrotask=="function"?queueMicrotask:typeof dA<"u"?function(i){return dA.resolve(null).then(i).catch(MI)}:hA;function MI(i){setTimeout(function(){throw i})}function Ss(i){return i==="head"}function fA(i,s){var l=s,c=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(m),el(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Lu(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Lu(l);for(var v=l.firstChild;v;){var A=v.nextSibling,w=v.nodeName;v[Lr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=A}}else l==="body"&&Lu(i.ownerDocument.body);l=m}while(l);el(s)}function mA(i,s){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function ig(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ig(l),go(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function OI(i,s,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Lr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=sr(i.nextSibling),i===null)break}return null}function kI(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=sr(i.nextSibling),i===null))return null;return i}function pA(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=sr(i.nextSibling),i===null))return null;return i}function sg(i){return i.data==="$?"||i.data==="$~"}function ag(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function PI(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function sr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var og=null;function gA(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return sr(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function vA(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function yA(i,s,l){switch(s=sd(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Lu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);go(i)}var ar=new Map,_A=new Set;function ad(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Pi=ce.d;ce.d={f:VI,r:LI,D:jI,C:UI,L:BI,m:zI,X:FI,S:HI,M:qI};function VI(){var i=Pi.f(),s=Xh();return i||s}function LI(i){var s=$n(i);s!==null&&s.tag===5&&s.type==="form"?VE(s):Pi.r(i)}var Xo=typeof document>"u"?null:document;function EA(i,s,l){var c=Xo;if(c&&typeof s=="string"&&s){var m=Rn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),_A.has(m)||(_A.add(m),i={rel:i,crossOrigin:l,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),un(s,"link",i),Pt(s),c.head.appendChild(s)))}}function jI(i){Pi.D(i),EA("dns-prefetch",i,null)}function UI(i,s){Pi.C(i,s),EA("preconnect",i,s)}function BI(i,s,l){Pi.L(i,s,l);var c=Xo;if(c&&i&&s){var m='link[rel="preload"][as="'+Rn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Rn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Rn(l.imageSizes)+'"]')):m+='[href="'+Rn(i)+'"]';var v=m;switch(s){case"style":v=Zo(i);break;case"script":v=Jo(i)}ar.has(v)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),ar.set(v,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(ju(v))||s==="script"&&c.querySelector(Uu(v))||(s=c.createElement("link"),un(s,"link",i),Pt(s),c.head.appendChild(s)))}}function zI(i,s){Pi.m(i,s);var l=Xo;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Rn(c)+'"][href="'+Rn(i)+'"]',v=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Jo(i)}if(!ar.has(v)&&(i=y({rel:"modulepreload",href:i},s),ar.set(v,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Uu(v)))return}c=l.createElement("link"),un(c,"link",i),Pt(c),l.head.appendChild(c)}}}function HI(i,s,l){Pi.S(i,s,l);var c=Xo;if(c&&i){var m=Ur(c).hoistableStyles,v=Zo(i);s=s||"default";var A=m.get(v);if(!A){var w={loading:0,preload:null};if(A=c.querySelector(ju(v)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=ar.get(v))&&lg(i,l);var P=A=c.createElement("link");Pt(P),un(P,"link",i),P._p=new Promise(function(Q,ee){P.onload=Q,P.onerror=ee}),P.addEventListener("load",function(){w.loading|=1}),P.addEventListener("error",function(){w.loading|=2}),w.loading|=4,od(A,s,c)}A={type:"stylesheet",instance:A,count:1,state:w},m.set(v,A)}}}function FI(i,s){Pi.X(i,s);var l=Xo;if(l&&i){var c=Ur(l).hoistableScripts,m=Jo(i),v=c.get(m);v||(v=l.querySelector(Uu(m)),v||(i=y({src:i,async:!0},s),(s=ar.get(m))&&ug(i,s),v=l.createElement("script"),Pt(v),un(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function qI(i,s){Pi.M(i,s);var l=Xo;if(l&&i){var c=Ur(l).hoistableScripts,m=Jo(i),v=c.get(m);v||(v=l.querySelector(Uu(m)),v||(i=y({src:i,async:!0,type:"module"},s),(s=ar.get(m))&&ug(i,s),v=l.createElement("script"),Pt(v),un(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(m,v))}}function bA(i,s,l,c){var m=(m=xe.current)?ad(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Zo(l.href),l=Ur(m).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Zo(l.href);var v=Ur(m).hoistableStyles,A=v.get(i);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,A),(v=m.querySelector(ju(i)))&&!v._p&&(A.instance=v,A.state.loading=5),ar.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ar.set(i,l),v||GI(m,i,l,A.state))),s&&c===null)throw Error(r(528,""));return A}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Jo(l),l=Ur(m).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Zo(i){return'href="'+Rn(i)+'"'}function ju(i){return'link[rel="stylesheet"]['+i+"]"}function AA(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function GI(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),un(s,"link",l),Pt(s),i.head.appendChild(s))}function Jo(i){return'[src="'+Rn(i)+'"]'}function Uu(i){return"script[async]"+i}function TA(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Rn(l.href)+'"]');if(c)return s.instance=c,Pt(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Pt(c),un(c,"style",m),od(c,l.precedence,i),s.instance=c;case"stylesheet":m=Zo(l.href);var v=i.querySelector(ju(m));if(v)return s.state.loading|=4,s.instance=v,Pt(v),v;c=AA(l),(m=ar.get(m))&&lg(c,m),v=(i.ownerDocument||i).createElement("link"),Pt(v);var A=v;return A._p=new Promise(function(w,P){A.onload=w,A.onerror=P}),un(v,"link",c),s.state.loading|=4,od(v,l.precedence,i),s.instance=v;case"script":return v=Jo(l.src),(m=i.querySelector(Uu(v)))?(s.instance=m,Pt(m),m):(c=l,(m=ar.get(v))&&(c=y({},l),ug(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Pt(m),un(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,od(c,l.precedence,i));return s.instance}function od(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,v=m,A=0;A<c.length;A++){var w=c[A];if(w.dataset.precedence===s)v=w;else if(v!==m)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function lg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function ug(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ld=null;function SA(i,s,l){if(ld===null){var c=new Map,m=ld=new Map;m.set(l,c)}else m=ld,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var v=l[m];if(!(v[Lr]||v[kt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(s)||"";A=i+A;var w=c.get(A);w?w.push(v):c.set(A,[v])}}return c}function wA(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function QI(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function RA(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function YI(i,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Zo(c.href),v=s.querySelector(ju(m));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=ud.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=v,Pt(v);return}v=s.ownerDocument||s,c=AA(c),(m=ar.get(m))&&lg(c,m),v=v.createElement("link"),Pt(v);var A=v;A._p=new Promise(function(w,P){A.onload=w,A.onerror=P}),un(v,"link",c),l.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=ud.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var cg=0;function WI(i,s){return i.stylesheets&&i.count===0&&hd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&hd(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+s);0<i.imgBytes&&cg===0&&(cg=62500*DI());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&hd(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>cg?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function ud(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var cd=null;function hd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,cd=new Map,s.forEach($I,i),cd=null,ud.call(i))}function $I(i,s){if(!(s.state.loading&4)){var l=cd.get(i);if(l)var c=l.get(null);else{l=new Map,cd.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var A=m[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}m=s.instance,A=m.getAttribute("data-precedence"),v=l.get(A)||c,v===c&&l.set(null,m),l.set(A,m),this.count++,c=ud.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),v?v.parentNode.insertBefore(m,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Bu={$$typeof:Z,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function KI(i,s,l,c,m,v,A,w,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.hiddenUpdates=Pr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function CA(i,s,l,c,m,v,A,w,P,Q,ee,ie){return i=new KI(i,s,l,A,P,Q,ee,ie,w),s=1,v===!0&&(s|=24),v=Un(3,null,null,s),i.current=v,v.stateNode=i,s=Fm(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:s},Ym(v),i}function DA(i){return i?(i=xo,i):xo}function IA(i,s,l,c,m,v){m=DA(m),c.context===null?c.context=m:c.pendingContext=m,c=fs(s),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=ms(i,c,s),l!==null&&(Mn(l,i,s),yu(l,i,s))}function xA(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function hg(i,s){xA(i,s),(i=i.alternate)&&xA(i,s)}function NA(i){if(i.tag===13||i.tag===31){var s=Ta(i,67108864);s!==null&&Mn(s,i,67108864),hg(i,67108864)}}function MA(i){if(i.tag===13||i.tag===31){var s=qn();s=ha(s);var l=Ta(i,s);l!==null&&Mn(l,i,s),hg(i,s)}}var dd=!0;function XI(i,s,l,c){var m=te.T;te.T=null;var v=ce.p;try{ce.p=2,dg(i,s,l,c)}finally{ce.p=v,te.T=m}}function ZI(i,s,l,c){var m=te.T;te.T=null;var v=ce.p;try{ce.p=8,dg(i,s,l,c)}finally{ce.p=v,te.T=m}}function dg(i,s,l,c){if(dd){var m=fg(c);if(m===null)Zp(i,s,c,fd,l),kA(i,c);else if(ex(m,i,s,l,c))c.stopPropagation();else if(kA(i,c),s&4&&-1<JI.indexOf(i)){for(;m!==null;){var v=$n(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=Or(v.pendingLanes);if(A!==0){var w=v;for(w.pendingLanes|=2,w.entangledLanes|=2;A;){var P=1<<31-wt(A);w.entanglements[1]|=P,A&=~P}Zr(v),(Ye&6)===0&&($h=An()+500,ku(0))}}break;case 31:case 13:w=Ta(v,2),w!==null&&Mn(w,v,2),Xh(),hg(v,2)}if(v=fg(c),v===null&&Zp(i,s,c,fd,l),v===m)break;m=v}m!==null&&c.stopPropagation()}else Zp(i,s,c,null,l)}}function fg(i){return i=Kn(i),mg(i)}var fd=null;function mg(i){if(fd=null,i=jr(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=h(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return fd=i,null}function OA(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oa()){case Fl:return 2;case ql:return 8;case Zi:case Em:return 32;case Gc:return 268435456;default:return 32}default:return 32}}var pg=!1,ws=null,Rs=null,Cs=null,zu=new Map,Hu=new Map,Ds=[],JI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kA(i,s){switch(i){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":zu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(s.pointerId)}}function Fu(i,s,l,c,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},s!==null&&(s=$n(s),s!==null&&NA(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function ex(i,s,l,c,m){switch(s){case"focusin":return ws=Fu(ws,i,s,l,c,m),!0;case"dragenter":return Rs=Fu(Rs,i,s,l,c,m),!0;case"mouseover":return Cs=Fu(Cs,i,s,l,c,m),!0;case"pointerover":var v=m.pointerId;return zu.set(v,Fu(zu.get(v)||null,i,s,l,c,m)),!0;case"gotpointercapture":return v=m.pointerId,Hu.set(v,Fu(Hu.get(v)||null,i,s,l,c,m)),!0}return!1}function PA(i){var s=jr(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,hr(i.priority,function(){MA(l)});return}}else if(s===31){if(s=h(l),s!==null){i.blockedOn=s,hr(i.priority,function(){MA(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function md(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=fg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);nu=c,l.target.dispatchEvent(c),nu=null}else return s=$n(l),s!==null&&NA(s),i.blockedOn=l,!1;s.shift()}return!0}function VA(i,s,l){md(i)&&l.delete(s)}function tx(){pg=!1,ws!==null&&md(ws)&&(ws=null),Rs!==null&&md(Rs)&&(Rs=null),Cs!==null&&md(Cs)&&(Cs=null),zu.forEach(VA),Hu.forEach(VA)}function pd(i,s){i.blockedOn===s&&(i.blockedOn=null,pg||(pg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,tx)))}var gd=null;function LA(i){gd!==i&&(gd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gd===i&&(gd=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(mg(c||l)===null)continue;break}var v=$n(l);v!==null&&(i.splice(s,3),s-=3,fp(v,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function el(i){function s(P){return pd(P,i)}ws!==null&&pd(ws,i),Rs!==null&&pd(Rs,i),Cs!==null&&pd(Cs,i),zu.forEach(s),Hu.forEach(s);for(var l=0;l<Ds.length;l++){var c=Ds[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ds.length&&(l=Ds[0],l.blockedOn===null);)PA(l),l.blockedOn===null&&Ds.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],v=l[c+1],A=m[Xt]||null;if(typeof v=="function")A||LA(l);else if(A){var w=null;if(v&&v.hasAttribute("formAction")){if(m=v,A=v[Xt]||null)w=A.formAction;else if(mg(m)!==null)continue}else w=A.action;typeof w=="function"?l[c+1]=w:(l.splice(c,3),c-=3),LA(l)}}}function jA(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(A){return m=A})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function gg(i){this._internalRoot=i}vd.prototype.render=gg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=qn();IA(l,c,i,s,null,null)},vd.prototype.unmount=gg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;IA(i.current,2,null,i,null,null),Xh(),s[Vr]=null}};function vd(i){this._internalRoot=i}vd.prototype.unstable_scheduleHydration=function(i){if(i){var s=Xc();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Ds.length&&s!==0&&s<Ds[l].priority;l++);Ds.splice(l,0,i),l===0&&PA(i)}};var UA=e.version;if(UA!=="19.2.0")throw Error(r(527,UA,"19.2.0"));ce.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var nx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{ur=yd.inject(nx),rn=yd}catch{}}return Gu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",m=QE,v=YE,A=WE;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=CA(i,1,!1,null,null,l,c,null,m,v,A,jA),i[Vr]=s.current,Xp(i),new gg(s)},Gu.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,m="",v=QE,A=YE,w=WE,P=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.formState!==void 0&&(P=l.formState)),s=CA(i,1,!0,s,l??null,c,m,P,v,A,w,jA),s.context=DA(null),l=s.current,c=qn(),c=ha(c),m=fs(c),m.callback=null,ms(l,m,c),l=c,s.current.lanes=l,ua(s,l),Zr(s),i[Vr]=s.current,Xp(i),new vd(s)},Gu.version="19.2.0",Gu}var $A;function hx(){if($A)return _g.exports;$A=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_g.exports=cx(),_g.exports}var dx=hx();const fx=H0(dx);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var KA="popstate";function mx(n={}){function e(r,a){let{pathname:o,search:u,hash:h}=r.location;return nv("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:cc(a)}return gx(e,t,null,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function li(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function px(){return Math.random().toString(36).substring(2,10)}function XA(n,e){return{usr:n.state,key:n.key,idx:e}}function nv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Rl(e):e,state:t,key:e&&e.key||r||px()}}function cc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Rl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function gx(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",d=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){h="POP";let x=g(),O=x==null?null:x-p;p=x,d&&d({action:h,location:M.location,delta:O})}function b(x,O){h="PUSH";let H=nv(M.location,x,O);p=g()+1;let Z=XA(H,p),le=M.createHref(H);try{u.pushState(Z,"",le)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(le)}o&&d&&d({action:h,location:M.location,delta:1})}function S(x,O){h="REPLACE";let H=nv(M.location,x,O);p=g();let Z=XA(H,p),le=M.createHref(H);u.replaceState(Z,"",le),o&&d&&d({action:h,location:M.location,delta:0})}function R(x){return vx(x)}let M={get action(){return h},get location(){return n(a,u)},listen(x){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(KA,y),d=x,()=>{a.removeEventListener(KA,y),d=null}},createHref(x){return e(a,x)},createURL:R,encodeLocation(x){let O=R(x);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:S,go(x){return u.go(x)}};return M}function vx(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_t(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:cc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function q0(n,e,t="/"){return yx(n,e,t,!1)}function yx(n,e,t,r){let a=typeof e=="string"?Rl(e):e,o=zi(a.pathname||"/",t);if(o==null)return null;let u=G0(n);_x(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=xx(o);h=Dx(u[d],p,r)}return h}function G0(n,e=[],t=[],r="",a=!1){let o=(u,h,d=a,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;_t(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=ji([r,g.relativePath]),b=t.concat(g);u.children&&u.children.length>0&&(_t(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),G0(u.children,e,b,y,d)),!(u.path==null&&!u.index)&&e.push({path:y,score:Rx(y,u.index),routesMeta:b})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of Q0(u.path))o(u,h,!0,d)}),e}function Q0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=Q0(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function _x(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Cx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Ex=/^:[\w-]+$/,bx=3,Ax=2,Tx=1,Sx=10,wx=-2,ZA=n=>n==="*";function Rx(n,e){let t=n.split("/"),r=t.length;return t.some(ZA)&&(r+=wx),e&&(r+=Ax),t.filter(a=>!ZA(a)).reduce((a,o)=>a+(Ex.test(o)?bx:o===""?Tx:Sx),r)}function Cx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function Dx(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=Xd({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),b=d.route;if(!y&&p&&t&&!r[r.length-1].route.index&&(y=Xd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:ji([o,y.pathname]),pathnameBase:kx(ji([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=ji([o,y.pathnameBase]))}return u}function Xd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Ix(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},b)=>{if(g==="*"){let R=h[b]||"";u=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const S=h[b];return y&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function Ix(n,e=!1,t=!0){li(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function xx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function zi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Nx(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Rl(n):n;return{pathname:t?t.startsWith("/")?t:Mx(t,e):e,search:Px(r),hash:Vx(a)}}function Mx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Tg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ox(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Y0(n){let e=Ox(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function W0(n,e,t,r=!1){let a;typeof n=="string"?a=Rl(n):(a={...n},_t(!a.pathname||!a.pathname.includes("?"),Tg("?","pathname","search",a)),_t(!a.pathname||!a.pathname.includes("#"),Tg("#","pathname","hash",a)),_t(!a.search||!a.search.includes("#"),Tg("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=t;else{let y=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;a.pathname=b.join("/")}h=y>=0?e[y]:"/"}let d=Nx(a,h),p=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var ji=n=>n.join("/").replace(/\/\/+/g,"/"),kx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Px=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Vx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Lx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var $0=["POST","PUT","PATCH","DELETE"];new Set($0);var jx=["GET",...$0];new Set(jx);var Cl=L.createContext(null);Cl.displayName="DataRouter";var jf=L.createContext(null);jf.displayName="DataRouterState";L.createContext(!1);var K0=L.createContext({isTransitioning:!1});K0.displayName="ViewTransition";var Ux=L.createContext(new Map);Ux.displayName="Fetchers";var Bx=L.createContext(null);Bx.displayName="Await";var fi=L.createContext(null);fi.displayName="Navigation";var Tc=L.createContext(null);Tc.displayName="Location";var mi=L.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var Qv=L.createContext(null);Qv.displayName="RouteError";function zx(n,{relative:e}={}){_t(Sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=L.useContext(fi),{hash:a,pathname:o,search:u}=Rc(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:ji([t,o])),r.createHref({pathname:h,search:u,hash:a})}function Sc(){return L.useContext(Tc)!=null}function xr(){return _t(Sc(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Tc).location}var X0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z0(n){L.useContext(fi).static||L.useLayoutEffect(n)}function bn(){let{isDataRoute:n}=L.useContext(mi);return n?eN():Hx()}function Hx(){_t(Sc(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(Cl),{basename:e,navigator:t}=L.useContext(fi),{matches:r}=L.useContext(mi),{pathname:a}=xr(),o=JSON.stringify(Y0(r)),u=L.useRef(!1);return Z0(()=>{u.current=!0}),L.useCallback((d,p={})=>{if(li(u.current,X0),!u.current)return;if(typeof d=="number"){t.go(d);return}let g=W0(d,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ji([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,o,a,n])}L.createContext(null);function wc(){let{matches:n}=L.useContext(mi),e=n[n.length-1];return e?e.params:{}}function Rc(n,{relative:e}={}){let{matches:t}=L.useContext(mi),{pathname:r}=xr(),a=JSON.stringify(Y0(t));return L.useMemo(()=>W0(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function Fx(n,e){return J0(n,e)}function J0(n,e,t,r,a){_t(Sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(fi),{matches:u}=L.useContext(mi),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let H=y&&y.path||"";ew(p,!y||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let b=xr(),S;if(e){let H=typeof e=="string"?Rl(e):e;_t(g==="/"||H.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),S=H}else S=b;let R=S.pathname||"/",M=R;if(g!=="/"){let H=g.replace(/^\//,"").split("/");M="/"+R.replace(/^\//,"").split("/").slice(H.length).join("/")}let x=q0(n,{pathname:M});li(y||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),li(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Wx(x&&x.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:ji([g,o.encodeLocation?o.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:ji([g,o.encodeLocation?o.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),u,t,r,a);return e&&O?L.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},O):O}function qx(){let n=Jx(),e=Lx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:a},t):null,u)}var Gx=L.createElement(qx,null),Qx=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?L.createElement(mi.Provider,{value:this.props.routeContext},L.createElement(Qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yx({routeContext:n,match:e,children:t}){let r=L.useContext(Cl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(mi.Provider,{value:n},t)}function Wx(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);_t(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:y,errors:b}=t,S=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,y)=>{let b,S=!1,R=null,M=null;t&&(b=u&&g.route.id?u[g.route.id]:void 0,R=g.route.errorElement||Gx,h&&(d<0&&y===0?(ew("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,M=null):d===y&&(S=!0,M=g.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,y+1)),O=()=>{let H;return b?H=R:S?H=M:g.route.Component?H=L.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=p,L.createElement(Yx,{match:g,routeContext:{outlet:p,matches:x,isDataRoute:t!=null},children:H})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?L.createElement(Qx,{location:t.location,revalidation:t.revalidation,component:R,error:b,children:O(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:r}):O()},null)}function Yv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $x(n){let e=L.useContext(Cl);return _t(e,Yv(n)),e}function Kx(n){let e=L.useContext(jf);return _t(e,Yv(n)),e}function Xx(n){let e=L.useContext(mi);return _t(e,Yv(n)),e}function Wv(n){let e=Xx(n),t=e.matches[e.matches.length-1];return _t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Zx(){return Wv("useRouteId")}function Jx(){let n=L.useContext(Qv),e=Kx("useRouteError"),t=Wv("useRouteError");return n!==void 0?n:e.errors?.[t]}function eN(){let{router:n}=$x("useNavigate"),e=Wv("useNavigate"),t=L.useRef(!1);return Z0(()=>{t.current=!0}),L.useCallback(async(a,o={})=>{li(t.current,X0),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var JA={};function ew(n,e,t){!e&&!JA[n]&&(JA[n]=!0,li(!1,t))}L.memo(tN);function tN({routes:n,future:e,state:t,unstable_onError:r}){return J0(n,void 0,t,r,e)}function gt(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nN({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){_t(!Sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=Rl(t));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:b="default"}=t,S=L.useMemo(()=>{let R=zi(d,u);return R==null?null:{location:{pathname:R,search:p,hash:g,state:y,key:b},navigationType:r}},[u,d,p,g,y,b,r]);return li(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:L.createElement(fi.Provider,{value:h},L.createElement(Tc.Provider,{children:e,value:S}))}function rN({children:n,location:e}){return Fx(rv(n),e)}function rv(n,e=[]){let t=[];return L.Children.forEach(n,(r,a)=>{if(!L.isValidElement(r))return;let o=[...e,a];if(r.type===L.Fragment){t.push.apply(t,rv(r.props.children,o));return}_t(r.type===gt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=rv(r.props.children,o)),t.push(u)}),t}var kd="get",Pd="application/x-www-form-urlencoded";function Uf(n){return n!=null&&typeof n.tagName=="string"}function iN(n){return Uf(n)&&n.tagName.toLowerCase()==="button"}function sN(n){return Uf(n)&&n.tagName.toLowerCase()==="form"}function aN(n){return Uf(n)&&n.tagName.toLowerCase()==="input"}function oN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lN(n,e){return n.button===0&&(!e||e==="_self")&&!oN(n)}var _d=null;function uN(){if(_d===null)try{new FormData(document.createElement("form"),0),_d=!1}catch{_d=!0}return _d}var cN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sg(n){return n!=null&&!cN.has(n)?(li(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pd}"`),null):n}function hN(n,e){let t,r,a,o,u;if(sN(n)){let h=n.getAttribute("action");r=h?zi(h,e):null,t=n.getAttribute("method")||kd,a=Sg(n.getAttribute("enctype"))||Pd,o=new FormData(n)}else if(iN(n)||aN(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?zi(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||kd,a=Sg(n.getAttribute("formenctype"))||Sg(h.getAttribute("enctype"))||Pd,o=new FormData(h,n),!uN()){let{name:p,type:g,value:y}=n;if(g==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,y)}}else{if(Uf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kd,r=null,a=Pd,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $v(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dN(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&zi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function fN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function pN(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await fN(o,t);return u.links?u.links():[]}return[]}));return _N(r.flat(1).filter(mN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function eT(n,e,t,r,a,o){let u=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,h=(d,p)=>t[p].pathname!==d.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function gN(n,e,{includeHydrateFallback:t}={}){return vN(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function vN(n){return[...new Set(n)]}function yN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function _N(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(yN(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function tw(){let n=L.useContext(Cl);return $v(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function EN(){let n=L.useContext(jf);return $v(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Kv=L.createContext(void 0);Kv.displayName="FrameworkContext";function nw(){let n=L.useContext(Kv);return $v(n,"You must render this element inside a <HydratedRouter> element"),n}function bN(n,e){let t=L.useContext(Kv),[r,a]=L.useState(!1),[o,u]=L.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,b=L.useRef(null);L.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=O=>{O.forEach(H=>{u(H.isIntersecting)})},x=new IntersectionObserver(M,{threshold:.5});return b.current&&x.observe(b.current),()=>{x.disconnect()}}},[n]),L.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let S=()=>{a(!0)},R=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Qu(h,S),onBlur:Qu(d,R),onMouseEnter:Qu(p,S),onMouseLeave:Qu(g,R),onTouchStart:Qu(y,S)}]:[!1,b,{}]}function Qu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function AN({page:n,...e}){let{router:t}=tw(),r=L.useMemo(()=>q0(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?L.createElement(SN,{page:n,matches:r,...e}):null}function TN(n){let{manifest:e,routeModules:t}=nw(),[r,a]=L.useState([]);return L.useEffect(()=>{let o=!1;return pN(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function SN({page:n,matches:e,...t}){let r=xr(),{manifest:a,routeModules:o}=nw(),{basename:u}=tw(),{loaderData:h,matches:d}=EN(),p=L.useMemo(()=>eT(n,e,d,a,r,"data"),[n,e,d,a,r]),g=L.useMemo(()=>eT(n,e,d,a,r,"assets"),[n,e,d,a,r]),y=L.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,M=!1;if(e.forEach(O=>{let H=a.routes[O.route.id];!H||!H.hasLoader||(!p.some(Z=>Z.route.id===O.route.id)&&O.route.id in h&&o[O.route.id]?.shouldRevalidate||H.hasClientLoader?M=!0:R.add(O.route.id))}),R.size===0)return[];let x=dN(n,u,"data");return M&&R.size>0&&x.searchParams.set("_routes",e.filter(O=>R.has(O.route.id)).map(O=>O.route.id).join(",")),[x.pathname+x.search]},[u,h,r,a,p,e,n,o]),b=L.useMemo(()=>gN(g,a),[g,a]),S=TN(g);return L.createElement(L.Fragment,null,y.map(R=>L.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),b.map(R=>L.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),S.map(({key:R,link:M})=>L.createElement("link",{key:R,nonce:t.nonce,...M})))}function wN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var rw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rw&&(window.__reactRouterVersion="7.9.4")}catch{}function RN({basename:n,children:e,window:t}){let r=L.useRef();r.current==null&&(r.current=mx({window:t,v5Compat:!0}));let a=r.current,[o,u]=L.useState({action:a.action,location:a.location}),h=L.useCallback(d=>{L.startTransition(()=>u(d))},[u]);return L.useLayoutEffect(()=>a.listen(h),[a,h]),L.createElement(nN,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sw=L.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:p,preventScrollReset:g,viewTransition:y,...b},S){let{basename:R}=L.useContext(fi),M=typeof p=="string"&&iw.test(p),x,O=!1;if(typeof p=="string"&&M&&(x=p,rw))try{let N=new URL(window.location.href),j=p.startsWith("//")?new URL(N.protocol+p):new URL(p),V=zi(j.pathname,R);j.origin===N.origin&&V!=null?p=V+j.search+j.hash:O=!0}catch{li(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=zx(p,{relative:a}),[Z,le,re]=bN(r,b),J=xN(p,{replace:u,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:y});function I(N){e&&e(N),N.defaultPrevented||J(N)}let C=L.createElement("a",{...b,...re,href:x||H,onClick:O||o?e:I,ref:wN(S,le),target:d,"data-discover":!M&&t==="render"?"true":void 0});return Z&&!M?L.createElement(L.Fragment,null,C,L.createElement(AN,{page:H})):C});sw.displayName="Link";var CN=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...p},g){let y=Rc(u,{relative:p.relative}),b=xr(),S=L.useContext(jf),{navigator:R,basename:M}=L.useContext(fi),x=S!=null&&PN(y)&&h===!0,O=R.encodeLocation?R.encodeLocation(y).pathname:y.pathname,H=b.pathname,Z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(H=H.toLowerCase(),Z=Z?Z.toLowerCase():null,O=O.toLowerCase()),Z&&M&&(Z=zi(Z,M)||Z);const le=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let re=H===O||!a&&H.startsWith(O)&&H.charAt(le)==="/",J=Z!=null&&(Z===O||!a&&Z.startsWith(O)&&Z.charAt(O.length)==="/"),I={isActive:re,isPending:J,isTransitioning:x},C=re?e:void 0,N;typeof r=="function"?N=r(I):N=[r,re?"active":null,J?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(I):o;return L.createElement(sw,{...p,"aria-current":C,className:N,ref:g,style:j,to:u,viewTransition:h},typeof d=="function"?d(I):d)});CN.displayName="NavLink";var DN=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=kd,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,...b},S)=>{let R=ON(),M=kN(h,{relative:p}),x=u.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&iw.test(h),H=Z=>{if(d&&d(Z),Z.defaultPrevented)return;Z.preventDefault();let le=Z.nativeEvent.submitter,re=le?.getAttribute("formmethod")||u;R(le||Z.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:a,state:o,relative:p,preventScrollReset:g,viewTransition:y})};return L.createElement("form",{ref:S,method:x,action:M,onSubmit:r?d:H,...b,"data-discover":!O&&n==="render"?"true":void 0})});DN.displayName="Form";function IN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aw(n){let e=L.useContext(Cl);return _t(e,IN(n)),e}function xN(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=bn(),d=xr(),p=Rc(n,{relative:o});return L.useCallback(g=>{if(lN(g,e)){g.preventDefault();let y=t!==void 0?t:cc(d)===cc(p);h(n,{replace:y,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[d,h,p,t,r,e,n,a,o,u])}var NN=0,MN=()=>`__${String(++NN)}__`;function ON(){let{router:n}=aw("useSubmit"),{basename:e}=L.useContext(fi),t=Zx();return L.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:d,body:p}=hN(r,e);if(a.navigate===!1){let g=a.fetcherKey||MN();await n.fetch(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function kN(n,{relative:e}={}){let{basename:t}=L.useContext(fi),r=L.useContext(mi);_t(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Rc(n||".",{relative:e})},u=xr();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ji([t,o.pathname])),cc(o)}function PN(n,{relative:e}={}){let t=L.useContext(K0);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=aw("useViewTransitionState"),a=Rc(n,{relative:e});if(!t.isTransitioning)return!1;let o=zi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=zi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Xd(a.pathname,u)!=null||Xd(a.pathname,o)!=null}var iv=F0();const VN=()=>{};var tT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},LN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],h=n[t++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},lw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,d=a+2<n.length,p=d?n[a+2]:0,g=o>>2,y=(o&3)<<4|h>>4;let b=(h&15)<<2|p>>6,S=p&63;d||(S=64,u||(b=64)),r.push(t[g],t[y],t[b],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ow(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):LN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const y=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||p==null||y==null)throw new jN;const b=o<<2|h>>4;if(r.push(b),p!==64){const S=h<<4&240|p>>2;if(r.push(S),y!==64){const R=p<<6&192|y;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UN=function(n){const e=ow(n);return lw.encodeByteArray(e,!0)},Zd=function(n){return UN(n).replace(/\./g,"")},uw=function(n){try{return lw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=()=>BN().__FIREBASE_DEFAULTS__,HN=()=>{if(typeof process>"u"||typeof tT>"u")return;const n=tT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&uw(n[1]);return e&&JSON.parse(e)},Bf=()=>{try{return VN()||zN()||HN()||FN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cw=n=>Bf()?.emulatorHosts?.[n],hw=n=>{const e=cw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},dw=()=>Bf()?.config,fw=n=>Bf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xv(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Zd(JSON.stringify(t)),Zd(JSON.stringify(u)),""].join(".")}const Ju={};function GN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ju))Ju[e]?n.emulator.push(e):n.prod.push(e);return n}function QN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let nT=!1;function Zv(n,e){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||Ju[n]===e||Ju[n]||nT)return;Ju[n]=e;function t(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=GN().prod.length>0;function u(){const b=document.getElementById(r);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{nT=!0,u()},b}function g(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=QN(r),S=t("text"),R=document.getElementById(S)||document.createElement("span"),M=t("learnmore"),x=document.getElementById(M)||document.createElement("a"),O=t("preprendIcon"),H=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Z=b.element;h(Z),g(x,M);const le=p();d(H,O),Z.append(H,R,x,le),document.body.appendChild(Z)}o?(R.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function WN(){const n=Bf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $N(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZN(){const n=En();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JN(){return!WN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e2(){try{return typeof indexedDB=="object"}catch{return!1}}function t2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="FirebaseError";class pi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=n2,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?r2(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new pi(a,h,r)}}function r2(n,e){return n.replace(i2,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const i2=/\{\$([^}]+)}/g;function s2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(rT(o)&&rT(u)){if(!Hi(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function rT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function a2(n,e){const t=new o2(n,e);return t.subscribe.bind(t)}class o2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");l2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=wg),a.error===void 0&&(a.error=wg),a.complete===void 0&&(a.complete=wg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(n){return n&&n._delegate?n._delegate:n}class Gs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new qN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h2(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c2(n){return n===Va?void 0:n}function h2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new u2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const f2={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},m2=Ve.INFO,p2={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},g2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=p2[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jv{constructor(e){this.name=e,this._logLevel=m2,this._logHandler=g2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const v2=(n,e)=>e.some(t=>n instanceof t);let iT,sT;function y2(){return iT||(iT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _2(){return sT||(sT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pw=new WeakMap,sv=new WeakMap,gw=new WeakMap,Rg=new WeakMap,ey=new WeakMap;function E2(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Bs(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&pw.set(t,n)}).catch(()=>{}),ey.set(e,n),e}function b2(n){if(sv.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});sv.set(n,e)}let av={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return sv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||gw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function A2(n){av=n(av)}function T2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Cg(this),e,...t);return gw.set(r,e.sort?e.sort():[e]),Bs(r)}:_2().includes(n)?function(...e){return n.apply(Cg(this),e),Bs(pw.get(this))}:function(...e){return Bs(n.apply(Cg(this),e))}}function S2(n){return typeof n=="function"?T2(n):(n instanceof IDBTransaction&&b2(n),v2(n,y2())?new Proxy(n,av):n)}function Bs(n){if(n instanceof IDBRequest)return E2(n);if(Rg.has(n))return Rg.get(n);const e=S2(n);return e!==n&&(Rg.set(n,e),ey.set(e,n)),e}const Cg=n=>ey.get(n);function w2(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),h=Bs(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Bs(u.result),d.oldVersion,d.newVersion,Bs(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const R2=["get","getKey","getAll","getAllKeys","count"],C2=["put","add","delete","clear"],Dg=new Map;function aT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Dg.get(e))return Dg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=C2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||R2.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),a&&d.done]))[0]};return Dg.set(e,o),o}A2(n=>({...n,get:(e,t,r)=>aT(e,t)||n.get(e,t,r),has:(e,t)=>!!aT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(I2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function I2(n){return n.getComponent()?.type==="VERSION"}const ov="@firebase/app",oT="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Jv("@firebase/app"),x2="@firebase/app-compat",N2="@firebase/analytics-compat",M2="@firebase/analytics",O2="@firebase/app-check-compat",k2="@firebase/app-check",P2="@firebase/auth",V2="@firebase/auth-compat",L2="@firebase/database",j2="@firebase/data-connect",U2="@firebase/database-compat",B2="@firebase/functions",z2="@firebase/functions-compat",H2="@firebase/installations",F2="@firebase/installations-compat",q2="@firebase/messaging",G2="@firebase/messaging-compat",Q2="@firebase/performance",Y2="@firebase/performance-compat",W2="@firebase/remote-config",$2="@firebase/remote-config-compat",K2="@firebase/storage",X2="@firebase/storage-compat",Z2="@firebase/firestore",J2="@firebase/ai",eM="@firebase/firestore-compat",tM="firebase",nM="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="[DEFAULT]",rM={[ov]:"fire-core",[x2]:"fire-core-compat",[M2]:"fire-analytics",[N2]:"fire-analytics-compat",[k2]:"fire-app-check",[O2]:"fire-app-check-compat",[P2]:"fire-auth",[V2]:"fire-auth-compat",[L2]:"fire-rtdb",[j2]:"fire-data-connect",[U2]:"fire-rtdb-compat",[B2]:"fire-fn",[z2]:"fire-fn-compat",[H2]:"fire-iid",[F2]:"fire-iid-compat",[q2]:"fire-fcm",[G2]:"fire-fcm-compat",[Q2]:"fire-perf",[Y2]:"fire-perf-compat",[W2]:"fire-rc",[$2]:"fire-rc-compat",[K2]:"fire-gcs",[X2]:"fire-gcs-compat",[Z2]:"fire-fst",[eM]:"fire-fst-compat",[J2]:"fire-vertex","fire-js":"fire-js",[tM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Map,iM=new Map,uv=new Map;function lT(n,e){try{n.container.addComponent(e)}catch(t){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ga(n){const e=n.name;if(uv.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;uv.set(e,n);for(const t of Jd.values())lT(t,n);for(const t of iM.values())lT(t,n);return!0}function zf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new Cc("app","Firebase",sM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=nM;function vw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:lv,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw zs.create("bad-app-name",{appName:String(a)});if(t||(t=dw()),!t)throw zs.create("no-options");const o=Jd.get(a);if(o){if(Hi(t,o.options)&&Hi(r,o.config))return o;throw zs.create("duplicate-app",{appName:a})}const u=new d2(a);for(const d of uv.values())u.addComponent(d);const h=new aM(t,r,u);return Jd.set(a,h),h}function ty(n=lv){const e=Jd.get(n);if(!e&&n===lv&&dw())return vw();if(!e)throw zs.create("no-app",{appName:n});return e}function ti(n,e,t){let r=rM[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(u.join(" "));return}Ga(new Gs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="firebase-heartbeat-database",lM=1,hc="firebase-heartbeat-store";let Ig=null;function yw(){return Ig||(Ig=w2(oM,lM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw zs.create("idb-open",{originalErrorMessage:n.message})})),Ig}async function uM(n){try{const t=(await yw()).transaction(hc),r=await t.objectStore(hc).get(_w(n));return await t.done,r}catch(e){if(e instanceof pi)Fi.warn(e.message);else{const t=zs.create("idb-get",{originalErrorMessage:e?.message});Fi.warn(t.message)}}}async function uT(n,e){try{const r=(await yw()).transaction(hc,"readwrite");await r.objectStore(hc).put(e,_w(n)),await r.done}catch(t){if(t instanceof pi)Fi.warn(t.message);else{const r=zs.create("idb-set",{originalErrorMessage:t?.message});Fi.warn(r.message)}}}function _w(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=1024,hM=30;class dM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>hM){const a=pM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cT(),{heartbeatsToSend:t,unsentEntries:r}=fM(this._heartbeatsCache.heartbeats),a=Zd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Fi.warn(e),""}}}function cT(){return new Date().toISOString().substring(0,10)}function fM(n,e=cM){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),hT(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),hT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class mM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e2()?t2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await uM(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return uT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hT(n){return Zd(JSON.stringify({version:2,heartbeats:n})).length}function pM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(n){Ga(new Gs("platform-logger",e=>new D2(e),"PRIVATE")),Ga(new Gs("heartbeat",e=>new dM(e),"PRIVATE")),ti(ov,oT,n),ti(ov,oT,"esm2020"),ti("fire-js","")}gM("");function Ew(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vM=Ew,bw=new Cc("auth","Firebase",Ew());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Jv("@firebase/auth");function yM(n,...e){ef.logLevel<=Ve.WARN&&ef.warn(`Auth (${Ja}): ${n}`,...e)}function Vd(n,...e){ef.logLevel<=Ve.ERROR&&ef.error(`Auth (${Ja}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(n,...e){throw ny(n,...e)}function ni(n,...e){return ny(n,...e)}function Aw(n,e,t){const r={...vM(),[e]:t};return new Cc("auth","Firebase",r).create(e,{appName:n.name})}function Ui(n){return Aw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ny(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return bw.create(n,...e)}function Ae(n,e,...t){if(!n)throw ny(e,...t)}function Vi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vd(e),new Error(e)}function qi(n,e){n||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(){return typeof self<"u"&&self.location?.href||""}function _M(){return dT()==="http:"||dT()==="https:"}function dT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_M()||KN()||"connection"in navigator)?navigator.onLine:!0}function bM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t){this.shortDelay=e,this.longDelay=t,qi(t>e,"Short delay should be less than long delay!"),this.isMobile=YN()||XN()}get(){return EM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(n,e){qi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SM=new Ic(3e4,6e4);function Wi(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function $i(n,e,t,r,a={}){return Sw(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Dc({key:n.config.apiKey,...u}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:d,...o};return $N()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Za(n.emulatorConfig.host)&&(p.credentials="include"),Tw.fetch()(await ww(n,n.config.apiHost,t,h),p)})}async function Sw(n,e,t){n._canInitEmulator=!1;const r={...AM,...e};try{const a=new RM(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Ed(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Ed(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Ed(n,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Aw(n,g,p);wr(n,g)}}catch(a){if(a instanceof pi)throw a;wr(n,"network-request-failed",{message:String(a)})}}async function xc(n,e,t,r,a={}){const o=await $i(n,e,t,r,a);return"mfaPendingCredential"in o&&wr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function ww(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?ry(n.config,a):`${n.config.apiScheme}://${a}`;return TM.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function wM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),SM.get())})}}function Ed(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=ni(n,e,r);return a.customData._tokenResponse=t,a}function fT(n){return n!==void 0&&n.enterprise!==void 0}class CM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return wM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DM(n,e){return $i(n,"GET","/v2/recaptchaConfig",Wi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(n,e){return $i(n,"POST","/v1/accounts:delete",e)}async function tf(n,e){return $i(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xM(n,e=!1){const t=Kt(n),r=await t.getIdToken(e),a=iy(r);Ae(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:ec(xg(a.auth_time)),issuedAtTime:ec(xg(a.iat)),expirationTime:ec(xg(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function xg(n){return Number(n)*1e3}function iy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const a=uw(t);return a?JSON.parse(a):(Vd("Failed to decode base64 JWT payload"),null)}catch(a){return Vd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function mT(n){const e=iy(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof pi&&NM(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function NM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(n){const e=n.auth,t=await n.getIdToken(),r=await dc(n,tf(e,{idToken:t}));Ae(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?Rw(a.providerUserInfo):[],u=kM(n.providerData,o),h=n.isAnonymous,d=!(n.email&&a.passwordHash)&&!u?.length,p=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new hv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function OM(n){const e=Kt(n);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kM(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function Rw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(n,e){const t=await Sw(n,{},async()=>{const r=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await ww(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return n.emulatorConfig&&Za(n.emulatorConfig.host)&&(d.credentials="include"),Tw.fetch()(u,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function VM(n,e){return $i(n,"POST","/v2/accounts:revokeToken",Wi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=mT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await PM(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new ll;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ae(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ae(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class br{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new MM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await dc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xM(this,e)}reload(){return OM(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new br({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await dc(this,IM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,d=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:y,emailVerified:b,isAnonymous:S,providerData:R,stsTokenManager:M}=t;Ae(y&&M,e,"internal-error");const x=ll.fromJSON(this.name,M);Ae(typeof y=="string",e,"internal-error"),xs(r,e.name),xs(a,e.name),Ae(typeof b=="boolean",e,"internal-error"),Ae(typeof S=="boolean",e,"internal-error"),xs(o,e.name),xs(u,e.name),xs(h,e.name),xs(d,e.name),xs(p,e.name),xs(g,e.name);const O=new br({uid:y,auth:e,email:a,emailVerified:b,displayName:r,isAnonymous:S,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:x,createdAt:p,lastLoginAt:g});return R&&Array.isArray(R)&&(O.providerData=R.map(H=>({...H}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(e,t,r=!1){const a=new ll;a.updateFromServerResponse(t);const o=new br({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await nf(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ae(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?Rw(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,h=new ll;h.updateFromIdToken(r);const d=new br({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new hv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Map;function Li(n){qi(n instanceof Function,"Expected a class definition");let e=pT.get(n);return e?(qi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Cw.type="NONE";const gT=Cw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(n,e,t){return`firebase:${n}:${e}:${t}`}class ul{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Ld(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ld("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await tf(this.auth,{idToken:e}).catch(()=>{});return t?br._fromGetAccountInfoResponse(this.auth,t,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ul(Li(gT),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Li(gT);const u=Ld(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const g=await p._get(u);if(g){let y;if(typeof g=="string"){const b=await tf(e,{idToken:g}).catch(()=>{});if(!b)break;y=await br._fromGetAccountInfoResponse(e,b,g)}else y=br._fromJSON(e,g);p!==o&&(h=y),o=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new ul(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new ul(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ow(e))return"Blackberry";if(kw(e))return"Webos";if(Iw(e))return"Safari";if((e.includes("chrome/")||xw(e))&&!e.includes("edge/"))return"Chrome";if(Mw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Dw(n=En()){return/firefox\//i.test(n)}function Iw(n=En()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xw(n=En()){return/crios\//i.test(n)}function Nw(n=En()){return/iemobile/i.test(n)}function Mw(n=En()){return/android/i.test(n)}function Ow(n=En()){return/blackberry/i.test(n)}function kw(n=En()){return/webos/i.test(n)}function sy(n=En()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LM(n=En()){return sy(n)&&!!window.navigator?.standalone}function jM(){return ZN()&&document.documentMode===10}function Pw(n=En()){return sy(n)||Mw(n)||kw(n)||Ow(n)||/windows phone/i.test(n)||Nw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n,e=[]){let t;switch(n){case"Browser":t=vT(En());break;case"Worker":t=`${vT(En())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ja}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(n,e={}){return $i(n,"GET","/v2/passwordPolicy",Wi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=6;class HM{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??zM,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yT(this),this.idTokenSubscription=new yT(this),this.beforeStateQueue=new UM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Li(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tf(this,{idToken:e}),r=await br._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Ui(this));const t=e?Kt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BM(this),t=new HM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await VM(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Li(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[Li(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ea(n){return Kt(n)}class yT{constructor(e){this.auth=e,this.observer=null,this.addObserver=a2(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qM(n){Hf=n}function Lw(n){return Hf.loadJS(n)}function GM(){return Hf.recaptchaEnterpriseScript}function QM(){return Hf.gapiScript}function YM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class WM{constructor(){this.enterprise=new $M}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $M{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const KM="recaptcha-enterprise",jw="NO_RECAPTCHA";class XM{constructor(e){this.type=KM,this.auth=ea(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{DM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new CM(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(o,u,h){const d=window.grecaptcha;fT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(jw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WM().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&fT(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=GM();d.length!==0&&(d+=h),Lw(d).then(()=>{a(h,o,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function _T(n,e,t,r=!1,a=!1){const o=new XM(n);let u;if(a)u=jw;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function rf(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await _T(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await _T(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(n,e){const t=zf(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Hi(o,e??{}))return a;wr(a,"already-initialized")}return t.initialize({options:e})}function JM(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Li);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function eO(n,e,t){const r=ea(n);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=Uw(e),{host:u,port:h}=tO(e),d=h===null?"":`:${h}`,p={url:`${o}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(Hi(p,r.config.emulator)&&Hi(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Za(u)?(Xv(`${o}//${u}${d}`),Zv("Auth",!0)):nO()}function Uw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function tO(n){const e=Uw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:ET(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:ET(u)}}}function ET(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function nO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,t){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}async function rO(n,e){return $i(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(n,e){return xc(n,"POST","/v1/accounts:signInWithPassword",Wi(n,e))}async function sO(n,e){return $i(n,"POST","/v1/accounts:sendOobCode",Wi(n,e))}async function aO(n,e){return sO(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(n,e){return xc(n,"POST","/v1/accounts:signInWithEmailLink",Wi(n,e))}async function lO(n,e){return xc(n,"POST","/v1/accounts:signInWithEmailLink",Wi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends ay{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new fc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new fc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rf(e,t,"signInWithPassword",iO);case"emailLink":return oO(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rf(e,r,"signUpPassword",rO);case"emailLink":return lO(e,{idToken:t,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n,e){return xc(n,"POST","/v1/accounts:signInWithIdp",Wi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="http://localhost";class Qa extends ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=t;if(!r||!a)return null;const u=new Qa(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return cl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,cl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cl(e,t)}buildRequest(){const e={requestUri:uO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hO(n){const e=Yu(Wu(n)).link,t=e?Yu(Wu(e)).deep_link_id:null,r=Yu(Wu(n)).deep_link_id;return(r?Yu(Wu(r)).link:null)||r||t||e||n}class oy{constructor(e){const t=Yu(Wu(e)),r=t.apiKey??null,a=t.oobCode??null,o=cO(t.mode??null);Ae(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=hO(e);try{return new oy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.providerId=Dl.PROVIDER_ID}static credential(e,t){return fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=oy.parseLink(t);return Ae(r,"argument-error"),fc._fromEmailAndCode(e,r.code,r.tenantId)}}Dl.PROVIDER_ID="password";Dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends Bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Nc{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qa._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ms.credential(t,r)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Nc{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Nc{constructor(){super("twitter.com")}static credential(e,t){return Qa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ks.credential(t,r)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(n,e){return xc(n,"POST","/v1/accounts:signUp",Wi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await br._fromIdTokenResponse(e,r,a),u=bT(r);return new Ya({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=bT(r);return new Ya({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function bT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends pi{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,sf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new sf(e,t,r,a)}}function zw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sf._fromErrorAndOperation(n,o,e,r):o})}async function fO(n,e,t=!1){const r=await dc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ya._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(n,e,t=!1){const{auth:r}=n;if(Gn(r.app))return Promise.reject(Ui(r));const a="reauthenticate";try{const o=await dc(n,zw(r,a,e,n),t);Ae(o.idToken,r,"internal-error");const u=iy(o.idToken);Ae(u,r,"internal-error");const{sub:h}=u;return Ae(n.uid===h,r,"user-mismatch"),Ya._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&wr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(n,e,t=!1){if(Gn(n.app))return Promise.reject(Ui(n));const r="signIn",a=await zw(n,r,e),o=await Ya._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function pO(n,e){return Hw(ea(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fw(n){const e=ea(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gO(n,e,t){const r=ea(n);await rf(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",aO)}async function vO(n,e,t){if(Gn(n.app))return Promise.reject(Ui(n));const r=ea(n),u=await rf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dO).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Fw(n),d}),h=await Ya._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function yO(n,e,t){return Gn(n.app)?Promise.reject(Ui(n)):pO(Kt(n),Dl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fw(n),r})}function _O(n,e,t,r){return Kt(n).onIdTokenChanged(e,t,r)}function EO(n,e,t){return Kt(n).beforeAuthStateChanged(e,t)}function Mc(n,e,t,r){return Kt(n).onAuthStateChanged(e,t,r)}function ly(n){return Kt(n).signOut()}const af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=1e3,AO=10;class Gw extends qw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);jM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,AO):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},bO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gw.type="LOCAL";const TO=Gw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends qw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Qw.type="SESSION";const Yw=Qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(t.origin,o)),d=await SO(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const p=uy("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(y){const b=y;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function RO(n){ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function CO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DO(){return navigator?.serviceWorker?.controller||null}function IO(){return Ww()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="firebaseLocalStorageDb",xO=1,of="firebaseLocalStorage",Kw="fbase_key";class Oc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qf(n,e){return n.transaction([of],e?"readwrite":"readonly").objectStore(of)}function NO(){const n=indexedDB.deleteDatabase($w);return new Oc(n).toPromise()}function dv(){const n=indexedDB.open($w,xO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(of,{keyPath:Kw})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(of)?e(r):(r.close(),await NO(),e(await dv()))})})}async function AT(n,e,t){const r=qf(n,!0).put({[Kw]:e,value:t});return new Oc(r).toPromise()}async function MO(n,e){const t=qf(n,!1).get(e),r=await new Oc(t).toPromise();return r===void 0?null:r.value}function TT(n,e){const t=qf(n,!0).delete(e);return new Oc(t).toPromise()}const OO=800,kO=3;class Xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>kO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ww()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(IO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CO(),!this.activeServiceWorker)return;this.sender=new wO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dv();return await AT(e,af,"1"),await TT(e,af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>AT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>MO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>TT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=qf(a,!1).getAll();return new Oc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xw.type="LOCAL";const PO=Xw;new Ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(n,e){return e?Li(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends ay{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LO(n){return Hw(n.auth,new cy(n),n.bypassAuthState)}function jO(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),mO(t,new cy(n),n.bypassAuthState)}async function UO(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),fO(t,new cy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LO;case"linkViaPopup":case"linkViaRedirect":return UO;case"reauthViaPopup":case"reauthViaRedirect":return jO;default:wr(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new Ic(2e3,1e4);class al extends Zw{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BO.get())};e()}}al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="pendingRedirect",jd=new Map;class HO extends Zw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=jd.get(this.auth._key());if(!e){try{const r=await FO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}jd.set(this.auth._key(),e)}return this.bypassAuthState||jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FO(n,e){const t=QO(e),r=GO(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function qO(n,e){jd.set(n._key(),e)}function GO(n){return Li(n._redirectPersistence)}function QO(n){return Ld(zO,n.config.apiKey,n.name)}async function YO(n,e,t=!1){if(Gn(n.app))return Promise.reject(Ui(n));const r=ea(n),a=VO(r,e),u=await new HO(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=600*1e3;class $O{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Jw(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ni(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WO&&this.cachedEventUids.clear(),this.cachedEventUids.has(ST(e))}saveEventToCache(e){this.cachedEventUids.add(ST(e)),this.lastProcessedEventTime=Date.now()}}function ST(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Jw({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function KO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(n,e={}){return $i(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JO=/^https?/;async function ek(n){if(n.config.emulator)return;const{authorizedDomains:e}=await XO(n);for(const t of e)try{if(tk(t))return}catch{}wr(n,"unauthorized-domain")}function tk(n){const e=cv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!JO.test(t))return!1;if(ZO.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new Ic(3e4,6e4);function wT(){const n=ri().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function rk(n){return new Promise((e,t)=>{function r(){wT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wT(),t(ni(n,"network-request-failed"))},timeout:nk.get()})}if(ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ri().gapi?.load)r();else{const a=YM("iframefcb");return ri()[a]=()=>{gapi.load?r():t(ni(n,"network-request-failed"))},Lw(`${QM()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw Ud=null,e})}let Ud=null;function ik(n){return Ud=Ud||rk(n),Ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=new Ic(5e3,15e3),ak="__/auth/iframe",ok="emulator/auth/iframe",lk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ck(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ry(e,ok):`https://${n.config.authDomain}/${ak}`,r={apiKey:e.apiKey,appName:n.name,v:Ja},a=uk.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Dc(r).slice(1)}`}async function hk(n){const e=await ik(n),t=ri().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:ck(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lk,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=ni(n,"network-request-failed"),h=ri().setTimeout(()=>{o(u)},sk.get());function d(){ri().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fk=500,mk=600,pk="_blank",gk="http://localhost";class RT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vk(n,e,t,r=fk,a=mk){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...dk,width:r.toString(),height:a.toString(),top:o,left:u},p=En().toLowerCase();t&&(h=xw(p)?pk:t),Dw(p)&&(e=e||gk,d.scrollbars="yes");const g=Object.entries(d).reduce((b,[S,R])=>`${b}${S}=${R},`,"");if(LM(p)&&h!=="_self")return yk(e||"",h),new RT(null);const y=window.open(e||"",h,g);Ae(y,n,"popup-blocked");try{y.focus()}catch{}return new RT(y)}function yk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="__/auth/handler",Ek="emulator/auth/handler",bk=encodeURIComponent("fac");async function CT(n,e,t,r,a,o){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ja,eventId:a};if(e instanceof Bw){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",s2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof Nc){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await n._getAppCheckToken(),p=d?`#${bk}=${encodeURIComponent(d)}`:"";return`${Ak(n)}?${Dc(h).slice(1)}${p}`}function Ak({config:n}){return n.emulator?ry(n,Ek):`https://${n.authDomain}/${_k}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="webStorageSupport";class Tk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yw,this._completeRedirectFn=YO,this._overrideRedirectResult=qO}async _openPopup(e,t,r,a){qi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await CT(e,t,r,cv(),a);return vk(e,o,uy())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await CT(e,t,r,cv(),a);return RO(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(qi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await hk(e),r=new $O(e);return t.register("authEvent",a=>(Ae(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ng,{type:Ng},a=>{const o=a?.[0]?.[Ng];o!==void 0&&t(!!o),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ek(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Pw()||Iw()||sy()}}const Sk=Tk;var DT="@firebase/auth",IT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ck(n){Ga(new Gs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vw(n)},p=new FM(r,a,o,d);return JM(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ga(new Gs("auth-internal",e=>{const t=ea(e.getProvider("auth").getImmediate());return(r=>new wk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ti(DT,IT,Rk(n)),ti(DT,IT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=300,Ik=fw("authIdTokenMaxAge")||Dk;let xT=null;const xk=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Ik)return;const a=t?.token;xT!==a&&(xT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Nk(n=ty()){const e=zf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ZM(n,{popupRedirectResolver:Sk,persistence:[PO,TO,Yw]}),r=fw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=xk(o.toString());EO(t,u,()=>u(t.currentUser)),_O(t,h=>u(h))}}const a=cw("auth");return a&&eO(t,`http://${a}`),t}function Mk(){return document.getElementsByTagName("head")?.[0]??document}qM({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=ni("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",Mk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ck("Browser");var Ok="firebase",kk="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(Ok,kk,"app");var NT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,eR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function N(){}N.prototype=C.prototype,I.F=C.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(j,V,z){for(var k=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)k[dt-2]=arguments[dt];return C.prototype[V].apply(j,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,C,N){N||(N=0);const j=Array(16);if(typeof C=="string")for(var V=0;V<16;++V)j[V]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(V=0;V<16;++V)j[V]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=I.g[0],N=I.g[1],V=I.g[2];let z=I.g[3],k;k=C+(z^N&(V^z))+j[0]+3614090360&4294967295,C=N+(k<<7&4294967295|k>>>25),k=z+(V^C&(N^V))+j[1]+3905402710&4294967295,z=C+(k<<12&4294967295|k>>>20),k=V+(N^z&(C^N))+j[2]+606105819&4294967295,V=z+(k<<17&4294967295|k>>>15),k=N+(C^V&(z^C))+j[3]+3250441966&4294967295,N=V+(k<<22&4294967295|k>>>10),k=C+(z^N&(V^z))+j[4]+4118548399&4294967295,C=N+(k<<7&4294967295|k>>>25),k=z+(V^C&(N^V))+j[5]+1200080426&4294967295,z=C+(k<<12&4294967295|k>>>20),k=V+(N^z&(C^N))+j[6]+2821735955&4294967295,V=z+(k<<17&4294967295|k>>>15),k=N+(C^V&(z^C))+j[7]+4249261313&4294967295,N=V+(k<<22&4294967295|k>>>10),k=C+(z^N&(V^z))+j[8]+1770035416&4294967295,C=N+(k<<7&4294967295|k>>>25),k=z+(V^C&(N^V))+j[9]+2336552879&4294967295,z=C+(k<<12&4294967295|k>>>20),k=V+(N^z&(C^N))+j[10]+4294925233&4294967295,V=z+(k<<17&4294967295|k>>>15),k=N+(C^V&(z^C))+j[11]+2304563134&4294967295,N=V+(k<<22&4294967295|k>>>10),k=C+(z^N&(V^z))+j[12]+1804603682&4294967295,C=N+(k<<7&4294967295|k>>>25),k=z+(V^C&(N^V))+j[13]+4254626195&4294967295,z=C+(k<<12&4294967295|k>>>20),k=V+(N^z&(C^N))+j[14]+2792965006&4294967295,V=z+(k<<17&4294967295|k>>>15),k=N+(C^V&(z^C))+j[15]+1236535329&4294967295,N=V+(k<<22&4294967295|k>>>10),k=C+(V^z&(N^V))+j[1]+4129170786&4294967295,C=N+(k<<5&4294967295|k>>>27),k=z+(N^V&(C^N))+j[6]+3225465664&4294967295,z=C+(k<<9&4294967295|k>>>23),k=V+(C^N&(z^C))+j[11]+643717713&4294967295,V=z+(k<<14&4294967295|k>>>18),k=N+(z^C&(V^z))+j[0]+3921069994&4294967295,N=V+(k<<20&4294967295|k>>>12),k=C+(V^z&(N^V))+j[5]+3593408605&4294967295,C=N+(k<<5&4294967295|k>>>27),k=z+(N^V&(C^N))+j[10]+38016083&4294967295,z=C+(k<<9&4294967295|k>>>23),k=V+(C^N&(z^C))+j[15]+3634488961&4294967295,V=z+(k<<14&4294967295|k>>>18),k=N+(z^C&(V^z))+j[4]+3889429448&4294967295,N=V+(k<<20&4294967295|k>>>12),k=C+(V^z&(N^V))+j[9]+568446438&4294967295,C=N+(k<<5&4294967295|k>>>27),k=z+(N^V&(C^N))+j[14]+3275163606&4294967295,z=C+(k<<9&4294967295|k>>>23),k=V+(C^N&(z^C))+j[3]+4107603335&4294967295,V=z+(k<<14&4294967295|k>>>18),k=N+(z^C&(V^z))+j[8]+1163531501&4294967295,N=V+(k<<20&4294967295|k>>>12),k=C+(V^z&(N^V))+j[13]+2850285829&4294967295,C=N+(k<<5&4294967295|k>>>27),k=z+(N^V&(C^N))+j[2]+4243563512&4294967295,z=C+(k<<9&4294967295|k>>>23),k=V+(C^N&(z^C))+j[7]+1735328473&4294967295,V=z+(k<<14&4294967295|k>>>18),k=N+(z^C&(V^z))+j[12]+2368359562&4294967295,N=V+(k<<20&4294967295|k>>>12),k=C+(N^V^z)+j[5]+4294588738&4294967295,C=N+(k<<4&4294967295|k>>>28),k=z+(C^N^V)+j[8]+2272392833&4294967295,z=C+(k<<11&4294967295|k>>>21),k=V+(z^C^N)+j[11]+1839030562&4294967295,V=z+(k<<16&4294967295|k>>>16),k=N+(V^z^C)+j[14]+4259657740&4294967295,N=V+(k<<23&4294967295|k>>>9),k=C+(N^V^z)+j[1]+2763975236&4294967295,C=N+(k<<4&4294967295|k>>>28),k=z+(C^N^V)+j[4]+1272893353&4294967295,z=C+(k<<11&4294967295|k>>>21),k=V+(z^C^N)+j[7]+4139469664&4294967295,V=z+(k<<16&4294967295|k>>>16),k=N+(V^z^C)+j[10]+3200236656&4294967295,N=V+(k<<23&4294967295|k>>>9),k=C+(N^V^z)+j[13]+681279174&4294967295,C=N+(k<<4&4294967295|k>>>28),k=z+(C^N^V)+j[0]+3936430074&4294967295,z=C+(k<<11&4294967295|k>>>21),k=V+(z^C^N)+j[3]+3572445317&4294967295,V=z+(k<<16&4294967295|k>>>16),k=N+(V^z^C)+j[6]+76029189&4294967295,N=V+(k<<23&4294967295|k>>>9),k=C+(N^V^z)+j[9]+3654602809&4294967295,C=N+(k<<4&4294967295|k>>>28),k=z+(C^N^V)+j[12]+3873151461&4294967295,z=C+(k<<11&4294967295|k>>>21),k=V+(z^C^N)+j[15]+530742520&4294967295,V=z+(k<<16&4294967295|k>>>16),k=N+(V^z^C)+j[2]+3299628645&4294967295,N=V+(k<<23&4294967295|k>>>9),k=C+(V^(N|~z))+j[0]+4096336452&4294967295,C=N+(k<<6&4294967295|k>>>26),k=z+(N^(C|~V))+j[7]+1126891415&4294967295,z=C+(k<<10&4294967295|k>>>22),k=V+(C^(z|~N))+j[14]+2878612391&4294967295,V=z+(k<<15&4294967295|k>>>17),k=N+(z^(V|~C))+j[5]+4237533241&4294967295,N=V+(k<<21&4294967295|k>>>11),k=C+(V^(N|~z))+j[12]+1700485571&4294967295,C=N+(k<<6&4294967295|k>>>26),k=z+(N^(C|~V))+j[3]+2399980690&4294967295,z=C+(k<<10&4294967295|k>>>22),k=V+(C^(z|~N))+j[10]+4293915773&4294967295,V=z+(k<<15&4294967295|k>>>17),k=N+(z^(V|~C))+j[1]+2240044497&4294967295,N=V+(k<<21&4294967295|k>>>11),k=C+(V^(N|~z))+j[8]+1873313359&4294967295,C=N+(k<<6&4294967295|k>>>26),k=z+(N^(C|~V))+j[15]+4264355552&4294967295,z=C+(k<<10&4294967295|k>>>22),k=V+(C^(z|~N))+j[6]+2734768916&4294967295,V=z+(k<<15&4294967295|k>>>17),k=N+(z^(V|~C))+j[13]+1309151649&4294967295,N=V+(k<<21&4294967295|k>>>11),k=C+(V^(N|~z))+j[4]+4149444226&4294967295,C=N+(k<<6&4294967295|k>>>26),k=z+(N^(C|~V))+j[11]+3174756917&4294967295,z=C+(k<<10&4294967295|k>>>22),k=V+(C^(z|~N))+j[2]+718787259&4294967295,V=z+(k<<15&4294967295|k>>>17),k=N+(z^(V|~C))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+z&4294967295}r.prototype.v=function(I,C){C===void 0&&(C=I.length);const N=C-this.blockSize,j=this.C;let V=this.h,z=0;for(;z<C;){if(V==0)for(;z<=N;)a(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<C;)if(j[V++]=I.charCodeAt(z++),V==this.blockSize){a(this,j),V=0;break}}else for(;z<C;)if(j[V++]=I[z++],V==this.blockSize){a(this,j),V=0;break}}this.h=V,this.o+=C},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)I[C++]=this.g[N]>>>j&255;return I};function o(I,C){var N=h;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=C(I)}function u(I,C){this.h=C;const N=[];let j=!0;for(let V=I.length-1;V>=0;V--){const z=I[V]|0;j&&z==C||(N[V]=z,j=!1)}this.g=N}var h={};function d(I){return-128<=I&&I<128?o(I,function(C){return new u([C|0],C<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return y;if(I<0)return x(p(-I));const C=[];let N=1;for(let j=0;I>=N;j++)C[j]=I/N|0,N*=4294967296;return new u(C,0)}function g(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return x(g(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(C,8));let j=y;for(let z=0;z<I.length;z+=8){var V=Math.min(8,I.length-z);const k=parseInt(I.substring(z,z+V),C);V<8?(V=p(Math.pow(C,V)),j=j.j(V).add(p(k))):(j=j.j(N),j=j.add(p(k)))}return j}var y=d(0),b=d(1),S=d(16777216);n=u.prototype,n.m=function(){if(M(this))return-x(this).m();let I=0,C=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);I+=(j>=0?j:4294967296+j)*C,C*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R(this))return"0";if(M(this))return"-"+x(this).toString(I);const C=p(Math.pow(I,6));var N=this;let j="";for(;;){const V=le(N,C).g;N=O(N,V.j(C));let z=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=V,R(N))return z+j;for(;z.length<6;)z="0"+z;j=z+j}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function R(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function M(I){return I.h==-1}n.l=function(I){return I=O(this,I),M(I)?-1:R(I)?0:1};function x(I){const C=I.g.length,N=[];for(let j=0;j<C;j++)N[j]=~I.g[j];return new u(N,~I.h).add(b)}n.abs=function(){return M(this)?x(this):this},n.add=function(I){const C=Math.max(this.g.length,I.g.length),N=[];let j=0;for(let V=0;V<=C;V++){let z=j+(this.i(V)&65535)+(I.i(V)&65535),k=(z>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);j=k>>>16,z&=65535,k&=65535,N[V]=k<<16|z}return new u(N,N[N.length-1]&-2147483648?-1:0)};function O(I,C){return I.add(x(C))}n.j=function(I){if(R(this)||R(I))return y;if(M(this))return M(I)?x(this).j(x(I)):x(x(this).j(I));if(M(I))return x(this.j(x(I)));if(this.l(S)<0&&I.l(S)<0)return p(this.m()*I.m());const C=this.g.length+I.g.length,N=[];for(var j=0;j<2*C;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let V=0;V<I.g.length;V++){const z=this.i(j)>>>16,k=this.i(j)&65535,dt=I.i(V)>>>16,Gt=I.i(V)&65535;N[2*j+2*V]+=k*Gt,H(N,2*j+2*V),N[2*j+2*V+1]+=z*Gt,H(N,2*j+2*V+1),N[2*j+2*V+1]+=k*dt,H(N,2*j+2*V+1),N[2*j+2*V+2]+=z*dt,H(N,2*j+2*V+2)}for(I=0;I<C;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=C;I<2*C;I++)N[I]=0;return new u(N,0)};function H(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function Z(I,C){this.g=I,this.h=C}function le(I,C){if(R(C))throw Error("division by zero");if(R(I))return new Z(y,y);if(M(I))return C=le(x(I),C),new Z(x(C.g),x(C.h));if(M(C))return C=le(I,x(C)),new Z(x(C.g),C.h);if(I.g.length>30){if(M(I)||M(C))throw Error("slowDivide_ only works with positive integers.");for(var N=b,j=C;j.l(I)<=0;)N=re(N),j=re(j);var V=J(N,1),z=J(j,1);for(j=J(j,2),N=J(N,2);!R(j);){var k=z.add(j);k.l(I)<=0&&(V=V.add(N),z=k),j=J(j,1),N=J(N,1)}return C=O(I,V.j(C)),new Z(V,C)}for(V=y;I.l(C)>=0;){for(N=Math.max(1,Math.floor(I.m()/C.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),z=p(N),k=z.j(C);M(k)||k.l(I)>0;)N-=j,z=p(N),k=z.j(C);R(z)&&(z=b),V=V.add(z),I=O(I,k)}return new Z(V,I)}n.B=function(I){return le(this,I).h},n.and=function(I){const C=Math.max(this.g.length,I.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)&I.i(j);return new u(N,this.h&I.h)},n.or=function(I){const C=Math.max(this.g.length,I.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)|I.i(j);return new u(N,this.h|I.h)},n.xor=function(I){const C=Math.max(this.g.length,I.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)^I.i(j);return new u(N,this.h^I.h)};function re(I){const C=I.g.length+1,N=[];for(let j=0;j<C;j++)N[j]=I.i(j)<<1|I.i(j-1)>>>31;return new u(N,I.h)}function J(I,C){const N=C>>5;C%=32;const j=I.g.length-N,V=[];for(let z=0;z<j;z++)V[z]=C>0?I.i(z+N)>>>C|I.i(z+N+1)<<32-C:I.i(z+N);return new u(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,eR=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Hs=u}).apply(typeof NT<"u"?NT:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tR,$u,nR,Bd,fv,rR,iR,sR;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var E=0;E<f.length;++E){var T=f[E];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(f,E){if(E)e:{var T=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var q=f[D];if(!(q in T))break e;T=T[q]}f=f[f.length-1],D=T[f],E=E(D),E!=D&&E!=null&&e(T,f,{configurable:!0,writable:!0,value:E})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(E){var T=[],D;for(D in E)Object.prototype.hasOwnProperty.call(E,D)&&T.push([D,E[D]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function h(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function d(f,E,T){return f.call.apply(f.bind,arguments)}function p(f,E,T){return p=d,p.apply(null,arguments)}function g(f,E){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function y(f,E){function T(){}T.prototype=E.prototype,f.Z=E.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(D,q,W){for(var ue=Array(arguments.length-2),De=2;De<arguments.length;De++)ue[De-2]=arguments[De];return E.prototype[q].apply(D,ue)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const E=f.length;if(E>0){const T=Array(E);for(let D=0;D<E;D++)T[D]=f[D];return T}return[]}function R(f,E){for(let D=1;D<arguments.length;D++){const q=arguments[D];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=f.length||0;const W=q.length||0;f.length=T+W;for(let ue=0;ue<W;ue++)f[T+ue]=q[ue]}else f.push(q)}}class M{constructor(E,T){this.i=E,this.j=T,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(f){u.setTimeout(()=>{throw f},0)}function O(){var f=I;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class H{constructor(){this.h=this.g=null}add(E,T){const D=Z.get();D.set(E,T),this.h?this.h.next=D:this.g=D,this.h=D}}var Z=new M(()=>new le,f=>f.reset());class le{constructor(){this.next=this.g=this.h=null}set(E,T){this.h=E,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let re,J=!1,I=new H,C=()=>{const f=Promise.resolve(void 0);re=()=>{f.then(N)}};function N(){for(var f;f=O();){try{f.h.call(f.g)}catch(T){x(T)}var E=Z;E.j(f),E.h<100&&(E.h++,f.next=E.g,E.g=f)}J=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};u.addEventListener("test",T,E),u.removeEventListener("test",T,E)}catch{}return f})();function k(f){return/^[\s\xa0]*$/.test(f)}function dt(f,E){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,E)}y(dt,V),dt.prototype.init=function(f,E){const T=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget,E||(T=="mouseover"?E=f.fromElement:T=="mouseout"&&(E=f.toElement)),this.relatedTarget=E,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&dt.Z.h.call(this)},dt.prototype.h=function(){dt.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Gt="closure_listenable_"+(Math.random()*1e6|0),te=0;function ce(f,E,T,D,q){this.listener=f,this.proxy=null,this.src=E,this.type=T,this.capture=!!D,this.ha=q,this.key=++te,this.da=this.fa=!1}function _e(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function He(f,E,T){for(const D in f)E.call(T,f[D],D,f)}function Ze(f,E){for(const T in f)E.call(void 0,f[T],T,f)}function B(f){const E={};for(const T in f)E[T]=f[T];return E}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(f,E){let T,D;for(let q=1;q<arguments.length;q++){D=arguments[q];for(T in D)f[T]=D[T];for(let W=0;W<ae.length;W++)T=ae[W],Object.prototype.hasOwnProperty.call(D,T)&&(f[T]=D[T])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,E,T,D,q){const W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);const ue=xe(f,E,D,q);return ue>-1?(E=f[ue],T||(E.fa=!1)):(E=new ce(E,this.src,W,!!D,q),E.fa=T,f.push(E)),E};function Se(f,E){const T=E.type;if(T in f.g){var D=f.g[T],q=Array.prototype.indexOf.call(D,E,void 0),W;(W=q>=0)&&Array.prototype.splice.call(D,q,1),W&&(_e(E),f.g[T].length==0&&(delete f.g[T],f.h--))}}function xe(f,E,T,D){for(let q=0;q<f.length;++q){const W=f[q];if(!W.da&&W.listener==E&&W.capture==!!T&&W.ha==D)return q}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Qt={};function ft(f,E,T,D,q){if(Array.isArray(E)){for(let W=0;W<E.length;W++)ft(f,E[W],T,D,q);return null}return T=Hl(T),f&&f[Gt]?f.J(E,T,h(D)?!!D.capture:!1,q):sa(f,E,T,!1,D,q)}function sa(f,E,T,D,q,W){if(!E)throw Error("Invalid event type");const ue=h(q)?!!q.capture:!!q;let De=aa(f);if(De||(f[Be]=De=new me(f)),T=De.add(E,T,D,ue,W),T.proxy)return T;if(D=co(),T.proxy=D,D.src=f,D.listener=T,f.addEventListener)z||(q=ue),q===void 0&&(q=!1),f.addEventListener(E.toString(),D,q);else if(f.attachEvent)f.attachEvent(Nr(E.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function co(){function f(T){return E.call(f.src,f.listener,T)}const E=Bl;return f}function ho(f,E,T,D,q){if(Array.isArray(E))for(var W=0;W<E.length;W++)ho(f,E[W],T,D,q);else D=h(D)?!!D.capture:!!D,T=Hl(T),f&&f[Gt]?(f=f.i,W=String(E).toString(),W in f.g&&(E=f.g[W],T=xe(E,T,D,q),T>-1&&(_e(E[T]),Array.prototype.splice.call(E,T,1),E.length==0&&(delete f.g[W],f.h--)))):f&&(f=aa(f))&&(E=f.g[E.toString()],f=-1,E&&(f=xe(E,T,D,q)),(T=f>-1?E[f]:null)&&fo(T))}function fo(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Gt])Se(E.i,f);else{var T=f.type,D=f.proxy;E.removeEventListener?E.removeEventListener(T,D,f.capture):E.detachEvent?E.detachEvent(Nr(T),D):E.addListener&&E.removeListener&&E.removeListener(D),(T=aa(E))?(Se(T,f),T.h==0&&(T.src=null,E[Be]=null)):_e(f)}}}function Nr(f){return f in Qt?Qt[f]:Qt[f]="on"+f}function Bl(f,E){if(f.da)f=!0;else{E=new dt(E,this);const T=f.listener,D=f.ha||f.src;f.fa&&fo(f),f=T.call(D,E)}return f}function aa(f){return f=f[Be],f instanceof me?f:null}var zl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hl(f){return typeof f=="function"?f:(f[zl]||(f[zl]=function(E){return f.handleEvent(E)}),f[zl])}function Mt(){j.call(this),this.i=new me(this),this.M=this,this.G=null}y(Mt,j),Mt.prototype[Gt]=!0,Mt.prototype.removeEventListener=function(f,E,T,D){ho(this,f,E,T,D)};function Yt(f,E){var T,D=f.G;if(D)for(T=[];D;D=D.G)T.push(D);if(f=f.M,D=E.type||E,typeof E=="string")E=new V(E,f);else if(E instanceof V)E.target=E.target||f;else{var q=E;E=new V(D,f),he(E,q)}q=!0;let W,ue;if(T)for(ue=T.length-1;ue>=0;ue--)W=E.g=T[ue],q=Xi(W,D,!0,E)&&q;if(W=E.g=f,q=Xi(W,D,!0,E)&&q,q=Xi(W,D,!1,E)&&q,T)for(ue=0;ue<T.length;ue++)W=E.g=T[ue],q=Xi(W,D,!1,E)&&q}Mt.prototype.N=function(){if(Mt.Z.N.call(this),this.i){var f=this.i;for(const E in f.g){const T=f.g[E];for(let D=0;D<T.length;D++)_e(T[D]);delete f.g[E],f.h--}}this.G=null},Mt.prototype.J=function(f,E,T,D){return this.i.add(String(f),E,!1,T,D)},Mt.prototype.K=function(f,E,T,D){return this.i.add(String(f),E,!0,T,D)};function Xi(f,E,T,D){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();let q=!0;for(let W=0;W<E.length;++W){const ue=E[W];if(ue&&!ue.da&&ue.capture==T){const De=ue.listener,Rt=ue.ha||ue.src;ue.fa&&Se(f.i,ue),q=De.call(Rt,D)!==!1&&q}}return q&&!D.defaultPrevented}function _m(f,E){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:u.setTimeout(f,E||0)}function qc(f){f.g=_m(()=>{f.g=null,f.i&&(f.i=!1,qc(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class An extends j{constructor(E,T){super(),this.m=E,this.l=T,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:qc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(f){j.call(this),this.h=f,this.g={}}y(oa,j);var Fl=[];function ql(f){He(f.g,function(E,T){this.g.hasOwnProperty(T)&&fo(E)},f),f.g={}}oa.prototype.N=function(){oa.Z.N.call(this),ql(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zi=u.JSON.stringify,Em=u.JSON.parse,Gc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Qc(){}function Yc(){}var ur={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){V.call(this,"d")}y(rn,V);function Wn(){V.call(this,"c")}y(Wn,V);var wt={},Wc=null;function mo(){return Wc=Wc||new Mt}wt.Ia="serverreachability";function $c(f){V.call(this,wt.Ia,f)}y($c,V);function Mr(f){const E=mo();Yt(E,new $c(E))}wt.STAT_EVENT="statevent";function la(f,E){V.call(this,wt.STAT_EVENT,f),this.stat=E}y(la,V);function Ot(f){const E=mo();Yt(E,new la(E,f))}wt.Ja="timingevent";function Or(f,E){V.call(this,wt.Ja,f),this.size=E}y(Or,V);function kr(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},E)}function cr(){this.g=!0}cr.prototype.ua=function(){this.g=!1};function bm(f,E,T,D,q,W){f.info(function(){if(f.g)if(W){var ue="",De=W.split("&");for(let Qe=0;Qe<De.length;Qe++){var Rt=De[Qe].split("=");if(Rt.length>1){const mt=Rt[0];Rt=Rt[1];const Zn=mt.split("_");ue=Zn.length>=2&&Zn[1]=="type"?ue+(mt+"="+Rt+"&"):ue+(mt+"=redacted&")}}}else ue=null;else ue=W;return"XMLHTTP REQ ("+D+") [attempt "+q+"]: "+E+`
`+T+`
`+ue})}function Kc(f,E,T,D,q,W,ue){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+q+"]: "+E+`
`+T+`
`+W+" "+ue})}function Pr(f,E,T,D){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+Am(f,T)+(D?" "+D:"")})}function ua(f,E){f.info(function(){return"TIMEOUT: "+E})}cr.prototype.info=function(){};function Am(f,E){if(!f.g)return E;if(!E)return null;try{const W=JSON.parse(E);if(W){for(f=0;f<W.length;f++)if(Array.isArray(W[f])){var T=W[f];if(!(T.length<2)){var D=T[1];if(Array.isArray(D)&&!(D.length<1)){var q=D[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ue=1;ue<D.length;ue++)D[ue]=""}}}}return Zi(W)}catch{return E}}var ca={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ql;function ha(){}y(ha,Qc),ha.prototype.g=function(){return new XMLHttpRequest},Ql=new ha;function vi(f){return encodeURIComponent(String(f))}function Xc(f){var E=1;f=f.split(":");const T=[];for(;E>0&&f.length;)T.push(f.shift()),E--;return f.length&&T.push(f.join(":")),T}function hr(f,E,T,D){this.j=f,this.i=E,this.l=T,this.S=D||1,this.V=new oa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dr}function dr(){this.i=null,this.g="",this.h=!1}var kt={},Xt={};function Vr(f,E,T){f.M=1,f.A=da(Vt(E)),f.u=T,f.R=!0,po(f,null)}function po(f,E){f.F=Date.now(),Lr(f),f.B=Vt(f.A);var T=f.B,D=f.S;Array.isArray(D)||(D=[String(D)]),_o(T.i,"t",D),f.C=0,T=f.j.L,f.h=new dr,f.g=dh(f.j,T?E:null,!f.u),f.P>0&&(f.O=new An(p(f.Y,f,f.g),f.P)),E=f.V,T=f.g,D=f.ba;var q="readystatechange";Array.isArray(q)||(q&&(Fl[0]=q.toString()),q=Fl);for(let W=0;W<q.length;W++){const ue=ft(T,q[W],D||E.handleEvent,!1,E.h||E);if(!ue)break;E.g[ue.key]=ue}E=f.J?B(f.J):{},f.u?(f.v||(f.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,E)):(f.v="GET",f.g.ea(f.B,f.v,null,E)),Mr(),bm(f.i,f.v,f.B,f.l,f.S,f.u)}hr.prototype.ba=function(f){f=f.target;const E=this.O;E&&pr(f)==3?E.j():this.Y(f)},hr.prototype.Y=function(f){try{if(f==this.g)e:{const De=pr(this.g),Rt=this.g.ya(),Qe=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||De!=4||Rt==7||(Rt==8||Qe<=0?Mr(3):Mr(2)),jr(this);var E=this.g.ca();this.X=E;var T=Tm(this);if(this.o=E==200,Kc(this.i,this.v,this.B,this.l,this.S,De,E),this.o){if(this.U&&!this.L){t:{if(this.g){var D,q=this.g;if((D=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(D)){var W=D;break t}}W=null}if(f=W)Pr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ur(this,f);else{this.o=!1,this.m=3,Ot(12),Vn(this),$n(this);break e}}if(this.R){f=!0;let mt;for(;!this.K&&this.C<T.length;)if(mt=Jc(this,T),mt==Xt){De==4&&(this.m=4,Ot(14),f=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==kt){this.m=4,Ot(15),Pr(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Pr(this.i,this.l,mt,null),Ur(this,mt);if(Zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||T.length!=0||this.h.h||(this.m=1,Ot(16),f=!1),this.o=this.o&&f,!f)Pr(this.i,this.l,T,"[Invalid Chunked Response]"),Vn(this),$n(this);else if(T.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ou(ue),ue.P=!0,Ot(11))}}else Pr(this.i,this.l,T,null),Ur(this,T);De==4&&Vn(this),this.o&&!this.K&&(De==4?lh(this.j,this):(this.o=!1,Lr(this)))}else _i(this.g),E==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Vn(this),$n(this)}}}catch{}finally{}};function Tm(f){if(!Zc(f))return f.g.la();const E=sn(f.g);if(E==="")return"";let T="";const D=E.length,q=pr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Vn(f),$n(f),"";f.h.i=new u.TextDecoder}for(let W=0;W<D;W++)f.h.h=!0,T+=f.h.i.decode(E[W],{stream:!(q&&W==D-1)});return E.length=0,f.h.g+=T,f.C=0,f.h.g}function Zc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Jc(f,E){var T=f.C,D=E.indexOf(`
`,T);return D==-1?Xt:(T=Number(E.substring(T,D)),isNaN(T)?kt:(D+=1,D+T>E.length?Xt:(E=E.slice(D,D+T),f.C=D+T,E)))}hr.prototype.cancel=function(){this.K=!0,Vn(this)};function Lr(f){f.T=Date.now()+f.H,go(f,f.H)}function go(f,E){if(f.D!=null)throw Error("WatchDog timer not null");f.D=kr(p(f.aa,f),E)}function jr(f){f.D&&(u.clearTimeout(f.D),f.D=null)}hr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ua(this.i,this.B),this.M!=2&&(Mr(),Ot(17)),Vn(this),this.m=2,$n(this)):go(this,this.T-f)};function $n(f){f.j.I==0||f.K||lh(f.j,f)}function Vn(f){jr(f);var E=f.O;E&&typeof E.dispose=="function"&&E.dispose(),f.O=null,ql(f.V),f.g&&(E=f.g,f.g=null,E.abort(),E.dispose())}function Ur(f,E){try{var T=f.j;if(T.I!=0&&(T.g==f||zr(T.h,f))){if(!f.L&&zr(T.h,f)&&T.I==3){try{var D=T.Ba.g.parse(E)}catch{D=null}if(Array.isArray(D)&&D.length==3){var q=D;if(q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)So(T),as(T);else break e;_a(T),Ot(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=kr(p(T.Va,T),6e3));Br(T.h)<=1&&T.ta&&(T.ta=void 0)}else Yr(T,11)}else if((f.L||T.g==f)&&So(T),!k(E))for(q=T.Ba.g.parse(E),E=0;E<q.length;E++){let Qe=q[E];const mt=Qe[0];if(!(mt<=T.K))if(T.K=mt,Qe=Qe[1],T.I==2)if(Qe[0]=="c"){T.M=Qe[1],T.ba=Qe[2];const Zn=Qe[3];Zn!=null&&(T.ka=Zn,T.j.info("VER="+T.ka));const Wr=Qe[4];Wr!=null&&(T.za=Wr,T.j.info("SVER="+T.za));const gr=Qe[5];gr!=null&&typeof gr=="number"&&gr>0&&(D=1.5*gr,T.O=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const vr=f.g;if(vr){const Ea=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var W=D.h;W.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&($l(W,W.h),W.h=null))}if(D.G){const wo=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(D.wa=wo,Je(D.J,D.G,wo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),D=T;var ue=f;if(D.na=hh(D,D.L?D.ba:null,D.W),ue.L){Kl(D.h,ue);var De=ue,Rt=D.O;Rt&&(De.H=Rt),De.D&&(jr(De),Lr(De)),D.g=ue}else ah(D);T.i.length>0&&Qr(T)}else Qe[0]!="stop"&&Qe[0]!="close"||Yr(T,7);else T.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Yr(T,7):su(T):Qe[0]!="noop"&&T.l&&T.l.qa(Qe),T.A=0)}}Mr(4)}catch{}}var Pt=class{constructor(f,E){this.g=f,this.map=E}};function Yl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Br(f){return f.h?1:f.g?f.g.size:0}function zr(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function $l(f,E){f.g?f.g.add(E):f.h=E}function Kl(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Yl.prototype.cancel=function(){if(this.i=Xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Xl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const T of f.g.values())E=E.concat(T.G);return E}return S(f.i)}var eh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vo(f,E){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const D=f[T].indexOf("=");let q,W=null;D>=0?(q=f[T].substring(0,D),W=f[T].substring(D+1)):q=f[T],E(q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ln(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;f instanceof Ln?(this.l=f.l,Zt(this,f.j),this.o=f.o,this.g=f.g,Ji(this,f.u),this.h=f.h,Zl(this,ih(f.i)),this.m=f.m):f&&(E=String(f).match(eh))?(this.l=!1,Zt(this,E[1]||"",!0),this.o=Hr(E[2]||""),this.g=Hr(E[3]||"",!0),Ji(this,E[4]),this.h=Hr(E[5]||"",!0),Zl(this,E[6]||"",!0),this.m=Hr(E[7]||"")):(this.l=!1,this.i=new ts(null,this.l))}Ln.prototype.toString=function(){const f=[];var E=this.j;E&&f.push(fa(E,yo,!0),":");var T=this.g;return(T||E=="file")&&(f.push("//"),(E=this.o)&&f.push(fa(E,yo,!0),"@"),f.push(vi(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(fa(T,T.charAt(0)=="/"?Jl:th,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",fa(T,nh)),f.join("")},Ln.prototype.resolve=function(f){const E=Vt(this);let T=!!f.j;T?Zt(E,f.j):T=!!f.o,T?E.o=f.o:T=!!f.g,T?E.g=f.g:T=f.u!=null;var D=f.h;if(T)Ji(E,f.u);else if(T=!!f.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var q=E.h.lastIndexOf("/");q!=-1&&(D=E.h.slice(0,q+1)+D)}if(q=D,q==".."||q==".")D="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){D=q.lastIndexOf("/",0)==0,q=q.split("/");const W=[];for(let ue=0;ue<q.length;){const De=q[ue++];De=="."?D&&ue==q.length&&W.push(""):De==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),D&&ue==q.length&&W.push("")):(W.push(De),D=!0)}D=W.join("/")}else D=q}return T?E.h=D:T=f.i.toString()!=="",T?Zl(E,ih(f.i)):T=!!f.m,T&&(E.m=f.m),E};function Vt(f){return new Ln(f)}function Zt(f,E,T){f.j=T?Hr(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Ji(f,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);f.u=E}else f.u=null}function Zl(f,E,T){E instanceof ts?(f.i=E,Eo(f.i,f.l)):(T||(E=fa(E,es)),f.i=new ts(E,f.l))}function Je(f,E,T){f.i.set(E,T)}function da(f){return Je(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Hr(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function fa(f,E,T){return typeof f=="string"?(f=encodeURI(f).replace(E,Rn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Rn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var yo=/[#\/\?@]/g,th=/[#\?:]/g,Jl=/[#\?]/g,es=/[#\?@]/g,nh=/#/g;function ts(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function Cn(f){f.g||(f.g=new Map,f.h=0,f.i&&vo(f.i,function(E,T){f.add(decodeURIComponent(E.replace(/\+/g," ")),T)}))}n=ts.prototype,n.add=function(f,E){Cn(this),this.i=null,f=ns(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(E),this.h+=1,this};function rh(f,E){Cn(f),E=ns(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function eu(f,E){return Cn(f),E=ns(f,E),f.g.has(E)}n.forEach=function(f,E){Cn(this),this.g.forEach(function(T,D){T.forEach(function(q){f.call(E,q,D,this)},this)},this)};function tu(f,E){Cn(f);let T=[];if(typeof E=="string")eu(f,E)&&(T=T.concat(f.g.get(ns(f,E))));else for(f=Array.from(f.g.values()),E=0;E<f.length;E++)T=T.concat(f[E]);return T}n.set=function(f,E){return Cn(this),this.i=null,f=ns(this,f),eu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},n.get=function(f,E){return f?(f=tu(this,f),f.length>0?String(f[0]):E):E};function _o(f,E,T){rh(f,E),T.length>0&&(f.i=null,f.g.set(ns(f,E),S(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(let D=0;D<E.length;D++){var T=E[D];const q=vi(T);T=tu(this,T);for(let W=0;W<T.length;W++){let ue=q;T[W]!==""&&(ue+="="+vi(T[W])),f.push(ue)}}return this.i=f.join("&")};function ih(f){const E=new ts;return E.i=f.i,f.g&&(E.g=new Map(f.g),E.h=f.h),E}function ns(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Eo(f,E){E&&!f.j&&(Cn(f),f.i=null,f.g.forEach(function(T,D){const q=D.toLowerCase();D!=q&&(rh(this,D),_o(this,q,T))},f)),f.j=E}function fr(f,E){const T=new cr;if(u.Image){const D=new Image;D.onload=g(Kn,T,"TestLoadImage: loaded",!0,E,D),D.onerror=g(Kn,T,"TestLoadImage: error",!1,E,D),D.onabort=g(Kn,T,"TestLoadImage: abort",!1,E,D),D.ontimeout=g(Kn,T,"TestLoadImage: timeout",!1,E,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else E(!1)}function nu(f,E){const T=new cr,D=new AbortController,q=setTimeout(()=>{D.abort(),Kn(T,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:D.signal}).then(W=>{clearTimeout(q),W.ok?Kn(T,"TestPingServer: ok",!0,E):Kn(T,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(q),Kn(T,"TestPingServer: error",!1,E)})}function Kn(f,E,T,D,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),D(T)}catch{}}function rs(){this.g=new Gc}function Fr(f){this.i=f.Sb||null,this.h=f.ab||!1}y(Fr,Qc),Fr.prototype.g=function(){return new ma(this.i,this.h)};function ma(f,E){Mt.call(this),this.H=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(ma,Mt),n=ma.prototype,n.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=E,this.readyState=1,mr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(E.body=f),(this.H||u).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,is(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function bo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?is(this):mr(this),this.readyState==3&&bo(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,is(this))},n.Na=function(f){this.g&&(this.response=f,is(this))},n.ga=function(){this.g&&is(this)};function is(f){f.readyState=4,f.l=null,f.j=null,f.B=null,mr(f)}n.setRequestHeader=function(f,E){this.A.append(f,E)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var T=E.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=E.next();return f.join(`\r
`)};function mr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xn(f){let E="";return He(f,function(T,D){E+=D,E+=":",E+=T,E+=`\r
`}),E}function pa(f,E,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=Xn(T),typeof f=="string"?T!=null&&vi(T):Je(f,E,T))}function nt(f){Mt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(nt,Mt);var qr=/^https?$/i,ru=["POST","PUT"];n=nt.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,E,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ql.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(W){ga(this,W);return}if(f=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var q in D)T.set(q,D[q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const W of D.keys())T.set(W,D.get(W));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),q=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(ru,E,void 0)>=0)||D||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of T)this.g.setRequestHeader(W,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(W){ga(this,W)}};function ga(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.o=5,iu(f),yi(f)}function iu(f){f.A||(f.A=!0,Yt(f,"complete"),Yt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Yt(this,"complete"),Yt(this,"abort"),yi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),nt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?va(this):this.Xa())},n.Xa=function(){va(this)};function va(f){if(f.h&&typeof o<"u"){if(f.v&&pr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Yt(f,"readystatechange"),pr(f)==4){f.h=!1;try{const W=f.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var T;if(!(T=E)){var D;if(D=W===0){let ue=String(f.D).match(eh)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),D=!qr.test(ue?ue.toLowerCase():"")}T=D}if(T)Yt(f,"complete"),Yt(f,"success");else{f.o=6;try{var q=pr(f)>2?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.ca()+"]",iu(f)}}finally{yi(f)}}}}function yi(f,E){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,E||Yt(f,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function pr(f){return f.g?f.g.readyState:0}n.ca=function(){try{return pr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Em(E)}};function sn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function _i(f){const E={};f=(f.g&&pr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(k(f[D]))continue;var T=Xc(f[D]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=E[q]||[];E[q]=W,W.push(T)}Ze(E,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(f,E,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||E}function ss(f){this.za=0,this.i=[],this.j=new cr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gr("baseRetryDelayMs",5e3,f),this.Za=Gr("retryDelaySeedMs",1e4,f),this.Ta=Gr("forwardChannelMaxRetries",2,f),this.va=Gr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Yl(f&&f.concurrentRequestLimit),this.Ba=new rs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ss.prototype,n.ka=8,n.I=1,n.connect=function(f,E,T,D){Ot(0),this.W=f,this.H=E||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.J=hh(this,null,this.W),Qr(this)};function su(f){if(Ao(f),f.I==3){var E=f.V++,T=Vt(f.J);if(Je(T,"SID",f.M),Je(T,"RID",E),Je(T,"TYPE","terminate"),ya(f,T),E=new hr(f,f.j,E),E.M=2,E.A=da(Vt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(E.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=E.A,T=!0),T||(E.g=dh(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Lr(E)}ch(f)}function as(f){f.g&&(ou(f),f.g.cancel(),f.g=null)}function Ao(f){as(f),f.v&&(u.clearTimeout(f.v),f.v=null),So(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Qr(f){if(!Wl(f.h)&&!f.m){f.m=!0;var E=f.Ea;re||C(),J||(re(),J=!0),I.add(E,f),f.D=0}}function To(f,E){return Br(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=E.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=kr(p(f.Ea,f,E),uh(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const q=new hr(this,this.j,f);let W=this.o;if(this.U&&(W?(W=B(W),he(W,this.U)):W=this.U),this.u!==null||this.R||(q.J=W,W=null),this.S)e:{for(var E=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(E+=D,E>4096){E=T;break e}if(E===4096||T===this.i.length-1){E=T+1;break e}}E=1e3}else E=1e3;E=sh(this,q,E),T=Vt(this.J),Je(T,"RID",f),Je(T,"CVER",22),this.G&&Je(T,"X-HTTP-Session-Id",this.G),ya(this,T),W&&(this.R?E="headers="+vi(Xn(W))+"&"+E:this.u&&pa(T,this.u,W)),$l(this.h,q),this.Ra&&Je(T,"TYPE","init"),this.S?(Je(T,"$req",E),Je(T,"SID","null"),q.U=!0,Vr(q,T,null)):Vr(q,T,E),this.I=2}}else this.I==3&&(f?au(this,f):this.i.length==0||Wl(this.h)||au(this))};function au(f,E){var T;E?T=E.l:T=f.V++;const D=Vt(f.J);Je(D,"SID",f.M),Je(D,"RID",T),Je(D,"AID",f.K),ya(f,D),f.u&&f.o&&pa(D,f.u,f.o),T=new hr(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),E&&(f.i=E.G.concat(f.i)),E=sh(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),$l(f.h,T),Vr(T,D,E)}function ya(f,E){f.H&&He(f.H,function(T,D){Je(E,D,T)}),f.l&&He({},function(T,D){Je(E,D,T)})}function sh(f,E,T){T=Math.min(f.i.length,T);const D=f.l?p(f.l.Ka,f.l,f):null;e:{var q=f.i;let De=-1;for(;;){const Rt=["count="+T];De==-1?T>0?(De=q[0].g,Rt.push("ofs="+De)):De=0:Rt.push("ofs="+De);let Qe=!0;for(let mt=0;mt<T;mt++){var W=q[mt].g;const Zn=q[mt].map;if(W-=De,W<0)De=Math.max(0,q[mt].g-100),Qe=!1;else try{W="req"+W+"_"||"";try{var ue=Zn instanceof Map?Zn:Object.entries(Zn);for(const[Wr,gr]of ue){let vr=gr;h(gr)&&(vr=Zi(gr)),Rt.push(W+Wr+"="+encodeURIComponent(vr))}}catch(Wr){throw Rt.push(W+"type="+encodeURIComponent("_badmap")),Wr}}catch{D&&D(Zn)}}if(Qe){ue=Rt.join("&");break e}}ue=void 0}return f=f.i.splice(0,T),E.G=f,ue}function ah(f){if(!f.g&&!f.v){f.Y=1;var E=f.Da;re||C(),J||(re(),J=!0),I.add(E,f),f.A=0}}function _a(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=kr(p(f.Da,f),uh(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,oh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=kr(p(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),as(this),oh(this))};function ou(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function oh(f){f.g=new hr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var E=Vt(f.na);Je(E,"RID","rpc"),Je(E,"SID",f.M),Je(E,"AID",f.K),Je(E,"CI",f.F?"0":"1"),!f.F&&f.ia&&Je(E,"TO",f.ia),Je(E,"TYPE","xmlhttp"),ya(f,E),f.u&&f.o&&pa(E,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=da(Vt(E)),T.u=null,T.R=!0,po(T,f)}n.Va=function(){this.C!=null&&(this.C=null,as(this),_a(this),Ot(19))};function So(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function lh(f,E){var T=null;if(f.g==E){So(f),ou(f),f.g=null;var D=2}else if(zr(f.h,E))T=E.G,Kl(f.h,E),D=1;else return;if(f.I!=0){if(E.o)if(D==1){T=E.u?E.u.length:0,E=Date.now()-E.F;var q=f.D;D=mo(),Yt(D,new Or(D,T)),Qr(f)}else ah(f);else if(q=E.m,q==3||q==0&&E.X>0||!(D==1&&To(f,E)||D==2&&_a(f)))switch(T&&T.length>0&&(E=f.h,E.i=E.i.concat(T)),q){case 1:Yr(f,5);break;case 4:Yr(f,10);break;case 3:Yr(f,6);break;default:Yr(f,2)}}}function uh(f,E){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*E}function Yr(f,E){if(f.j.info("Error code "+E),E==2){var T=p(f.bb,f),D=f.Ua;const q=!D;D=new Ln(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Zt(D,"https"),da(D),q?fr(D.toString(),T):nu(D.toString(),T)}else Ot(2);f.I=0,f.l&&f.l.pa(E),ch(f),Ao(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function ch(f){if(f.I=0,f.ja=[],f.l){const E=Xl(f.h);(E.length!=0||f.i.length!=0)&&(R(f.ja,E),R(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function hh(f,E,T){var D=T instanceof Ln?Vt(T):new Ln(T);if(D.g!="")E&&(D.g=E+"."+D.g),Ji(D,D.u);else{var q=u.location;D=q.protocol,E=E?E+"."+q.hostname:q.hostname,q=+q.port;const W=new Ln(null);D&&Zt(W,D),E&&(W.g=E),q&&Ji(W,q),T&&(W.h=T),D=W}return T=f.G,E=f.wa,T&&E&&Je(D,T,E),Je(D,"VER",f.ka),ya(f,D),D}function dh(f,E,T){if(E&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Aa&&!f.ma?new nt(new Fr({ab:T})):new nt(f.ma),E.Fa(f.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fh(){}n=fh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function os(){}os.prototype.g=function(f,E){return new Tn(f,E)};function Tn(f,E){Mt.call(this),this.g=new ss(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(f?f["X-WebChannel-Client-Profile"]=E.sa:f={"X-WebChannel-Client-Profile":E.sa}),this.g.U=f,(f=E&&E.Qb)&&!k(f)&&(this.g.u=f),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!k(E)&&(this.g.G=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Ei(this)}y(Tn,Mt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){su(this.g)},Tn.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=Zi(f),f=T);E.i.push(new Pt(E.Ya++,f)),E.I==3&&Qr(E)},Tn.prototype.N=function(){this.g.l=null,delete this.j,su(this.g),delete this.g,Tn.Z.N.call(this)};function mh(f){rn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const T in E){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}y(mh,rn);function ph(){Wn.call(this),this.status=1}y(ph,Wn);function Ei(f){this.g=f}y(Ei,fh),Ei.prototype.ra=function(){Yt(this.g,"a")},Ei.prototype.qa=function(f){Yt(this.g,new mh(f))},Ei.prototype.pa=function(f){Yt(this.g,new ph)},Ei.prototype.oa=function(){Yt(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,sR=function(){return new os},iR=function(){return mo()},rR=wt,fv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ca.NO_ERROR=0,ca.TIMEOUT=8,ca.HTTP_ERROR=6,Bd=ca,Gl.COMPLETE="complete",nR=Gl,Yc.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",Mt.prototype.listen=Mt.prototype.J,$u=Yc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,tR=nt}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const MT="@firebase/firestore",OT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new Jv("@firebase/firestore");function tl(){return Wa.logLevel}function fe(n,...e){if(Wa.logLevel<=Ve.DEBUG){const t=e.map(hy);Wa.debug(`Firestore (${Il}): ${n}`,...t)}}function Gi(n,...e){if(Wa.logLevel<=Ve.ERROR){const t=e.map(hy);Wa.error(`Firestore (${Il}): ${n}`,...t)}}function pl(n,...e){if(Wa.logLevel<=Ve.WARN){const t=e.map(hy);Wa.warn(`Firestore (${Il}): ${n}`,...t)}}function hy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,aR(n,r,t)}function aR(n,e,t){let r=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Gi(r),new Error(r)}function Xe(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||aR(e,a,r)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(pn.UNAUTHENTICATED)))}shutdown(){}}class Vk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Lk{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bi,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bi)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new oR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class jk{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Uk{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new jk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const r=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=zk(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function mv(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),o=e.charAt(r);if(a!==o)return Mg(a)===Mg(o)?Le(a,o):Mg(a)?1:-1}return Le(n.length,e.length)}const Hk=55296,Fk=57343;function Mg(n){const e=n.charCodeAt(0);return e>=Hk&&e<=Fk}function gl(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="__name__";class Jr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Jr.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Le(e.length,t.length)}static compareSegments(e,t){const r=Jr.isNumericId(e),a=Jr.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Jr.extractNumericId(e).compare(Jr.extractNumericId(t)):mv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class lt extends Jr{construct(e,t,r){return new lt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new lt(t)}static emptyPath(){return new lt([])}}const qk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Jr{construct(e,t,r){return new hn(e,t,r)}static isValidIdentifier(e){return qk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PT}static keyField(){return new hn([PT])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new de(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new de(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(t)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(lt.fromString(e))}static fromName(e){return new ye(lt.fromString(e).popFirst(5))}static empty(){return new ye(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(n,e,t){if(!t)throw new de(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Gk(n,e,t,r){if(e===!0&&r===!0)throw new de(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VT(n){if(!ye.isDocumentKey(n))throw new de(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function LT(n){if(ye.isDocumentKey(n))throw new de(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Gf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function Rr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gf(n);throw new de(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n,e){const t={typeString:n};return e&&(t.value=e),t}function kc(n,e){if(!uR(n))throw new de(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new de(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=-62135596800,UT=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*UT);return new ht(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jT)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UT}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kc(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Ft("string",ht._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ht(0,0))}static max(){return new we(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=-1;function Qk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=we.fromTimestamp(r===1e9?new ht(t+1,0):new ht(t,r));return new Qs(a,ye.empty(),e)}function Yk(n){return new Qs(n.readTime,n.key,mc)}class Qs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qs(we.min(),ye.empty(),mc)}static max(){return new Qs(we.max(),ye.empty(),mc)}}function Wk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==$k)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.reject(t)}static resolve(e){return new oe(((t,r)=>{t(e)}))}static reject(e){return new oe(((t,r)=>{r(e)}))}static waitFor(e){return new oe(((t,r)=>{let a=0,o=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++o,u&&o===a&&t()}),(d=>r(d)))})),u=!0,o===a&&t()}))}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next((a=>a?oe.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,o)=>{r.push(t.call(this,a,o))})),this.waitFor(r)}static mapArray(e,t){return new oe(((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next((g=>{u[p]=g,++h,h===o&&r(u)}),(g=>a(g)))}}))}static doWhile(e,t){return new oe(((r,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):r()};o()}))}}function Xk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Nl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=-1;function Yf(n){return n==null}function lf(n){return n===0&&1/n==-1/0}function Zk(n){return typeof n=="number"&&Number.isInteger(n)&&!lf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="";function Jk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=BT(e)),e=eP(n.get(t),e);return BT(e)}function eP(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case cR:t+="";break;default:t+=o}}return t}function BT(n){return n+cR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ta(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ad(this.root,e,this.comparator,!0)}}class Ad{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??cn.RED,this.left=a??cn.EMPTY,this.right=o??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new cn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HT(this.data.getIterator())}getIteratorFrom(e){return new HT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class HT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new $t(hn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dR("Invalid base64 string: "+o):o}})(e);return new dn(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const tP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(n){if(Xe(!!n,39018),typeof n=="string"){let e=0;const t=tP.exec(n);if(Xe(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ws(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="server_timestamp",mR="__type__",pR="__previous_value__",gR="__local_write_time__";function my(n){return(n?.mapValue?.fields||{})[mR]?.stringValue===fR}function Wf(n){const e=n.mapValue.fields[pR];return my(e)?Wf(e):e}function pc(n){const e=Ys(n.mapValue.fields[gR].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t,r,a,o,u,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=g}}const uf="(default)";class gc{constructor(e,t){this.projectId=e,this.database=t||uf}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===uf}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="__type__",rP="__max__",Td={mapValue:{}},yR="__vector__",cf="value";function $s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?my(n)?4:sP(n)?9007199254740991:iP(n)?10:11:Te(28295,{value:n})}function ui(n,e){if(n===e)return!0;const t=$s(n);if(t!==$s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pc(n).isEqual(pc(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Ys(a.timestampValue),h=Ys(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return Ws(a.bytesValue).isEqual(Ws(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return It(a.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return It(a.integerValue)===It(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=It(a.doubleValue),h=It(o.doubleValue);return u===h?lf(u)===lf(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return gl(n.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(zT(u)!==zT(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!ui(u[d],h[d])))return!1;return!0})(n,e);default:return Te(52216,{left:n})}}function vc(n,e){return(n.values||[]).find((t=>ui(t,e)))!==void 0}function vl(n,e){if(n===e)return 0;const t=$s(n),r=$s(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=It(o.integerValue||o.doubleValue),d=It(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return FT(n.timestampValue,e.timestampValue);case 4:return FT(pc(n),pc(e));case 5:return mv(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=Ws(o),d=Ws(u);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const g=Le(h[p],d[p]);if(g!==0)return g}return Le(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=Le(It(o.latitude),It(u.latitude));return h!==0?h:Le(It(o.longitude),It(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return qT(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},d=u.fields||{},p=h[cf]?.arrayValue,g=d[cf]?.arrayValue,y=Le(p?.values?.length||0,g?.values?.length||0);return y!==0?y:qT(p,g)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Td.mapValue&&u===Td.mapValue)return 0;if(o===Td.mapValue)return 1;if(u===Td.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=u.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const b=mv(d[y],g[y]);if(b!==0)return b;const S=vl(h[d[y]],p[g[y]]);if(S!==0)return S}return Le(d.length,g.length)})(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function FT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Ys(n),r=Ys(e),a=Le(t.seconds,r.seconds);return a!==0?a:Le(t.nanos,r.nanos)}function qT(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=vl(t[a],r[a]);if(o)return o}return Le(t.length,r.length)}function yl(n){return pv(n)}function pv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ys(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ws(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ye.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=pv(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${pv(t.fields[u])}`;return a+"}"})(n.mapValue):Te(61005,{value:n})}function zd(n){switch($s(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wf(n);return e?16+zd(e):16;case 5:return 2*n.stringValue.length;case 6:return Ws(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+zd(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return ta(r.fields,((o,u)=>{a+=o.length+zd(u)})),a})(n.mapValue);default:throw Te(13486,{value:n})}}function GT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gv(n){return!!n&&"integerValue"in n}function py(n){return!!n&&"arrayValue"in n}function QT(n){return!!n&&"nullValue"in n}function YT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hd(n){return!!n&&"mapValue"in n}function iP(n){return(n?.mapValue?.fields||{})[vR]?.stringValue===yR}function tc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ta(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=tc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tc(n.arrayValue.values[t]);return e}return{...n}}function sP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(t)}setAll(e){let t=hn.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,a),r={},a=[],t=h.popLast()}u?r[h.lastSegment()]=tc(u):a.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Hd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Hd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ta(t,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new kn(tc(this.value))}}function _R(n){const e=[];return ta(n.fields,((t,r)=>{const a=new hn([t]);if(Hd(r)){const o=_R(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t,r,a,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new gn(e,0,we.min(),we.min(),we.min(),kn.empty(),0)}static newFoundDocument(e,t,r,a){return new gn(e,1,t,we.min(),r,a,0)}static newNoDocument(e,t){return new gn(e,2,t,we.min(),we.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new gn(e,3,t,we.min(),we.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t){this.position=e,this.inclusive=t}}function WT(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=vl(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function $T(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ui(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t="asc"){this.field=e,this.dir=t}}function aP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{}class Ht extends ER{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new lP(e,t,r):t==="array-contains"?new hP(e,r):t==="in"?new dP(e,r):t==="not-in"?new fP(e,r):t==="array-contains-any"?new mP(e,r):new Ht(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new uP(e,r):new cP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(vl(t,this.value)):t!==null&&$s(this.value)===$s(t)&&this.matchesComparison(vl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends ER{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Cr(e,t)}matches(e){return bR(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bR(n){return n.op==="and"}function AR(n){return oP(n)&&bR(n)}function oP(n){for(const e of n.filters)if(e instanceof Cr)return!1;return!0}function vv(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+yl(n.value);if(AR(n))return n.filters.map((e=>vv(e))).join(",");{const e=n.filters.map((t=>vv(t))).join(",");return`${n.op}(${e})`}}function TR(n,e){return n instanceof Ht?(function(r,a){return a instanceof Ht&&r.op===a.op&&r.field.isEqual(a.field)&&ui(r.value,a.value)})(n,e):n instanceof Cr?(function(r,a){return a instanceof Cr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,h)=>o&&TR(u,a.filters[h])),!0):!1})(n,e):void Te(19439)}function SR(n){return n instanceof Ht?(function(t){return`${t.field.canonicalString()} ${t.op} ${yl(t.value)}`})(n):n instanceof Cr?(function(t){return t.op.toString()+" {"+t.getFilters().map(SR).join(" ,")+"}"})(n):"Filter"}class lP extends Ht{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class uP extends Ht{constructor(e,t){super(e,"in",t),this.keys=wR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class cP extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=wR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wR(n,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class hP extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return py(t)&&vc(t.arrayValue,this.value)}}class dP extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&vc(this.value.arrayValue,t)}}class fP extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!vc(this.value.arrayValue,t)}}class mP extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!py(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>vc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function KT(n,e=null,t=[],r=[],a=null,o=null,u=null){return new pP(n,e,t,r,a,o,u)}function gy(n){const e=Ce(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>vv(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>yl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>yl(r))).join(",")),e.Te=t}return e.Te}function vy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!TR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$T(n.startAt,e.startAt)&&$T(n.endAt,e.endAt)}function yv(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t=null,r=[],a=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gP(n,e,t,r,a,o,u,h){return new Pc(n,e,t,r,a,o,u,h)}function yy(n){return new Pc(n)}function XT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function RR(n){return n.collectionGroup!==null}function nc(n){const e=Ce(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new $t(hn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new df(o,r))})),t.has(hn.keyField().canonicalString())||e.Ie.push(new df(hn.keyField(),r))}return e.Ie}function ii(n){const e=Ce(n);return e.Ee||(e.Ee=vP(e,nc(n))),e.Ee}function vP(n,e){if(n.limitType==="F")return KT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new df(a.field,o)}));const t=n.endAt?new hf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new hf(n.startAt.position,n.startAt.inclusive):null;return KT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _v(n,e){const t=n.filters.concat([e]);return new Pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ev(n,e,t){return new Pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $f(n,e){return vy(ii(n),ii(e))&&n.limitType===e.limitType}function CR(n){return`${gy(ii(n))}|lt:${n.limitType}`}function nl(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>SR(a))).join(", ")}]`),Yf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>yl(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>yl(a))).join(",")),`Target(${r})`})(ii(n))}; limitType=${n.limitType})`}function Kf(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of nc(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,d){const p=WT(u,h,d);return u.inclusive?p<=0:p<0})(r.startAt,nc(r),a)||r.endAt&&!(function(u,h,d){const p=WT(u,h,d);return u.inclusive?p>=0:p>0})(r.endAt,nc(r),a))})(n,e)}function yP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DR(n){return(e,t)=>{let r=!1;for(const a of nc(n)){const o=_P(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function _P(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):(function(o,u,h){const d=u.data.field(o),p=h.data.field(o);return d!==null&&p!==null?vl(d,p):Te(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,((t,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return hR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new Et(ye.comparator);function Qi(){return EP}const IR=new Et(ye.comparator);function Ku(...n){let e=IR;for(const t of n)e=e.insert(t.key,t);return e}function xR(n){let e=IR;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ba(){return rc()}function NR(){return rc()}function rc(){return new eo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const bP=new Et(ye.comparator),AP=new $t(ye.comparator);function je(...n){let e=AP;for(const t of n)e=e.add(t);return e}const TP=new $t(Le);function SP(){return TP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lf(e)?"-0":e}}function MR(n){return{integerValue:""+n}}function OR(n,e){return Zk(e)?MR(e):_y(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this._=void 0}}function wP(n,e,t){return n instanceof ff?(function(a,o){const u={fields:{[mR]:{stringValue:fR},[gR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&my(o)&&(o=Wf(o)),o&&(u.fields[pR]=o),{mapValue:u}})(t,e):n instanceof _l?PR(n,e):n instanceof El?VR(n,e):(function(a,o){const u=kR(a,o),h=ZT(u)+ZT(a.Ae);return gv(u)&&gv(a.Ae)?MR(h):_y(a.serializer,h)})(n,e)}function RP(n,e,t){return n instanceof _l?PR(n,e):n instanceof El?VR(n,e):t}function kR(n,e){return n instanceof yc?(function(r){return gv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class ff extends Xf{}class _l extends Xf{constructor(e){super(),this.elements=e}}function PR(n,e){const t=LR(e);for(const r of n.elements)t.some((a=>ui(a,r)))||t.push(r);return{arrayValue:{values:t}}}class El extends Xf{constructor(e){super(),this.elements=e}}function VR(n,e){let t=LR(e);for(const r of n.elements)t=t.filter((a=>!ui(a,r)));return{arrayValue:{values:t}}}class yc extends Xf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ZT(n){return It(n.integerValue||n.doubleValue)}function LR(n){return py(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,t){this.field=e,this.transform=t}}function CP(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof _l&&a instanceof _l||r instanceof El&&a instanceof El?gl(r.elements,a.elements,ui):r instanceof yc&&a instanceof yc?ui(r.Ae,a.Ae):r instanceof ff&&a instanceof ff})(n.transform,e.transform)}class DP{constructor(e,t){this.version=e,this.transformResults=t}}class lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Zf{}function jR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new by(n.key,lr.none()):new Vc(n.key,n.data,lr.none());{const t=n.data,r=kn.empty();let a=new $t(hn.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new na(n.key,r,new Qn(a.toArray()),lr.none())}}function IP(n,e,t){n instanceof Vc?(function(a,o,u){const h=a.value.clone(),d=eS(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof na?(function(a,o,u){if(!Fd(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=eS(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(UR(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function ic(n,e,t,r){return n instanceof Vc?(function(o,u,h,d){if(!Fd(o.precondition,u))return h;const p=o.value.clone(),g=tS(o.fieldTransforms,d,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof na?(function(o,u,h,d){if(!Fd(o.precondition,u))return h;const p=tS(o.fieldTransforms,d,u),g=u.data;return g.setAll(UR(o)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(o,u,h){return Fd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function xP(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=kR(r.transform,a||null);o!=null&&(t===null&&(t=kn.empty()),t.set(r.field,o))}return t||null}function JT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&gl(r,a,((o,u)=>CP(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vc extends Zf{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class na extends Zf{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function UR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function eS(n,e,t){const r=new Map;Xe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,RP(u,h,t[a]))}return r}function tS(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,wP(o,u,e))}return r}class by extends Zf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NP extends Zf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&IP(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ic(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ic(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=NR();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(a.key)?null:h;const d=jR(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((t,r)=>JT(t,r)))&&gl(this.baseMutations,e.baseMutations,((t,r)=>JT(t,r)))}}class Ay{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return bP})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new Ay(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,ze;function PP(n){switch(n){case se.OK:return Te(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function BR(n){if(n===void 0)return Gi("GRPC error has no .code"),se.UNKNOWN;switch(n){case zt.OK:return se.OK;case zt.CANCELLED:return se.CANCELLED;case zt.UNKNOWN:return se.UNKNOWN;case zt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case zt.INTERNAL:return se.INTERNAL;case zt.UNAVAILABLE:return se.UNAVAILABLE;case zt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case zt.NOT_FOUND:return se.NOT_FOUND;case zt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case zt.ABORTED:return se.ABORTED;case zt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case zt.DATA_LOSS:return se.DATA_LOSS;default:return Te(39323,{code:n})}}(ze=zt||(zt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new Hs([4294967295,4294967295],0);function nS(n){const e=VP().encode(n),t=new eR;return t.update(e),new Uint8Array(t.digest())}function rS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hs([t,r],0),new Hs([a,o],0)]}class Ty{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Xu(`Invalid padding: ${t}`);if(r<0)throw new Xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Hs.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Hs.fromNumber(r)));return a.compare(LP)===1&&(a=new Hs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=nS(e),[r,a]=rS(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Ty(o,a,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=nS(e),[r,a]=rS(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Jf(we.min(),a,new Et(Le),Qi(),je())}}class Lc{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Lc(r,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class zR{constructor(e,t){this.targetId=e,this.Ce=t}}class HR{constructor(e,t,r=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class iS{constructor(){this.ve=0,this.Fe=sS(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Te(38017,{changeType:o})}})),new Lc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=sS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jP{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.Je=Sd(),this.He=Sd(),this.Ye=new Et(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(yv(o))if(r===0){const u=new ye(o.path);this.et(t,u,gn.newNoDocument(u,we.min()))}else Xe(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,h;try{u=Ws(r).toUint8Array()}catch(d){if(d instanceof dR)return pl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Ty(u,a,o)}catch(d){return pl(d instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&yv(h.target)){const d=new ye(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,gn.newNoDocument(d,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let r=je();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Jf(e,t,this.Ye,this.je,r);return this.je=Qi(),this.Je=Sd(),this.He=Sd(),this.Ye=new Et(Le),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new iS,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new $t(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new $t(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Sd(){return new Et(ye.comparator)}function sS(){return new Et(ye.comparator)}const UP={asc:"ASCENDING",desc:"DESCENDING"},BP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zP={and:"AND",or:"OR"};class HP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bv(n,e){return n.useProto3Json||Yf(e)?e:{value:e}}function mf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FP(n,e){return mf(n,e.toTimestamp())}function si(n){return Xe(!!n,49232),we.fromTimestamp((function(t){const r=Ys(t);return new ht(r.seconds,r.nanos)})(n))}function Sy(n,e){return Av(n,e).canonicalString()}function Av(n,e){const t=(function(a){return new lt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function qR(n){const e=lt.fromString(n);return Xe($R(e),10190,{key:e.toString()}),e}function Tv(n,e){return Sy(n.databaseId,e.path)}function Og(n,e){const t=qR(e);if(t.get(1)!==n.databaseId.projectId)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(QR(t))}function GR(n,e){return Sy(n.databaseId,e)}function qP(n){const e=qR(n);return e.length===4?lt.emptyPath():QR(e)}function Sv(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QR(n){return Xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function aS(n,e,t){return{name:Tv(n,e),fields:t.value.mapValue.fields}}function GP(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(p,g){return p.useProto3Json?(Xe(g===void 0||typeof g=="string",58123),dn.fromBase64String(g||"")):(Xe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),dn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const g=p.code===void 0?se.UNKNOWN:BR(p.code);return new de(g,p.message||"")})(u);t=new HR(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Og(n,r.document.name),o=si(r.document.updateTime),u=r.document.createTime?si(r.document.createTime):we.min(),h=new kn({mapValue:{fields:r.document.fields}}),d=gn.newFoundDocument(a,o,u,h),p=r.targetIds||[],g=r.removedTargetIds||[];t=new qd(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Og(n,r.document),o=r.readTime?si(r.readTime):we.min(),u=gn.newNoDocument(a,o),h=r.removedTargetIds||[];t=new qd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Og(n,r.document),o=r.removedTargetIds||[];t=new qd([],o,a,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new kP(a,o),h=r.targetId;t=new zR(h,u)}}return t}function QP(n,e){let t;if(e instanceof Vc)t={update:aS(n,e.key,e.value)};else if(e instanceof by)t={delete:Tv(n,e.key)};else if(e instanceof na)t={update:aS(n,e.key,e.data),updateMask:tV(e.fieldMask)};else{if(!(e instanceof NP))return Te(16599,{Vt:e.type});t={verify:Tv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof ff)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof _l)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof El)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof yc)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:FP(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te(27497)})(n,e.precondition)),t}function YP(n,e){return n&&n.length>0?(Xe(e!==void 0,14353),n.map((t=>(function(a,o){let u=a.updateTime?si(a.updateTime):si(o);return u.isEqual(we.min())&&(u=si(o)),new DP(u,a.transformResults||[])})(t,e)))):[]}function WP(n,e){return{documents:[GR(n,e.path)]}}function $P(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=GR(n,a);const o=(function(p){if(p.length!==0)return WR(Cr.create(p,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(p){if(p.length!==0)return p.map((g=>(function(b){return{field:rl(b.field),direction:ZP(b.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=bv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function KP(n){let e=qP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Xe(r===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(y){const b=YR(y);return b instanceof Cr&&AR(b)?b.getFilters():[b]})(t.where));let u=[];t.orderBy&&(u=(function(y){return y.map((b=>(function(R){return new df(il(R.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(b)))})(t.orderBy));let h=null;t.limit&&(h=(function(y){let b;return b=typeof y=="object"?y.value:y,Yf(b)?null:b})(t.limit));let d=null;t.startAt&&(d=(function(y){const b=!!y.before,S=y.values||[];return new hf(S,b)})(t.startAt));let p=null;return t.endAt&&(p=(function(y){const b=!y.before,S=y.values||[];return new hf(S,b)})(t.endAt)),gP(e,a,u,o,h,"F",d,p)}function XP(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function YR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=il(t.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=il(t.unaryFilter.field);return Ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=il(t.unaryFilter.field);return Ht.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=il(t.unaryFilter.field);return Ht.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ht.create(il(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Cr.create(t.compositeFilter.filters.map((r=>YR(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(n):Te(30097,{filter:n})}function ZP(n){return UP[n]}function JP(n){return BP[n]}function eV(n){return zP[n]}function rl(n){return{fieldPath:n.canonicalString()}}function il(n){return hn.fromServerFormat(n.fieldPath)}function WR(n){return n instanceof Ht?(function(t){if(t.op==="=="){if(YT(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NAN"}};if(QT(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(YT(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NOT_NAN"}};if(QT(t.value))return{unaryFilter:{field:rl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(t.field),op:JP(t.op),value:t.value}}})(n):n instanceof Cr?(function(t){const r=t.getFilters().map((a=>WR(a)));return r.length===1?r[0]:{compositeFilter:{op:eV(t.op),filters:r}}})(n):Te(54877,{filter:n})}function tV(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function $R(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,r,a,o=we.min(),u=we.min(),h=dn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.yt=e}}function rV(n){const e=KP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ev(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.Cn=new sV}addToCollectionParentIndex(e,t){return this.Cn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Qs.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class sV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new $t(lt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new $t(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KR=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(KR,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bl(0)}static cr(){return new bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="LruGarbageCollector",aV=1048576;function uS([n,e],[t,r]){const a=Le(n,t);return a===0?Le(e,r):a}class oV{constructor(e){this.Ir=e,this.buffer=new $t(uS),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(lS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Nl(t)?fe(lS,"Ignoring IndexedDB error during garbage collection: ",t):await xl(t)}await this.Vr(3e5)}))}}class uV{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Qf.ce);const r=new oV(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(oS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,o,u,h,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,u=Date.now(),this.nthSequenceNumber(e,a)))).next((y=>(r=y,h=Date.now(),this.removeTargets(e,r,t)))).next((y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(p=Date.now(),tl()<=Ve.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:y}))))}}function cV(n,e){return new uV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.changes=new eo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&ic(r.mutation,a,Qn.empty(),ht.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=je()){const a=Ba();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((o=>{let u=Ku();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Ba();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,je())))}populateOverlays(e,t,r){const a=[];return r.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,a){let o=Qi();const u=rc(),h=(function(){return rc()})();return t.forEach(((d,p)=>{const g=r.get(p.key);a.has(p.key)&&(g===void 0||g.mutation instanceof na)?o=o.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),ic(g.mutation,p,g.mutation.getFieldMask(),ht.now())):u.set(p.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,g)=>u.set(p,g))),t.forEach(((p,g)=>h.set(p,new dV(g,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=rc();let a=new Et(((u,h)=>u-h)),o=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=t.get(d);if(p===null)return;let g=r.get(d)||Qn.empty();g=h.applyToLocalView(p,g),r.set(d,g);const y=(a.get(h.batchId)||je()).add(d);a=a.insert(h.batchId,y)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,g=d.value,y=NR();g.forEach((b=>{if(!o.has(b)){const S=jR(t.get(b),r.get(b));S!==null&&y.set(b,S),o=o.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,y))}return oe.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):RR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):oe.resolve(Ba());let h=mc,d=o;return u.next((p=>oe.forEach(p,((g,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),o.get(g)?oe.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{d=d.insert(g,b)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,je()))).next((g=>({batchId:h,changes:xR(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((r=>{let a=Ku();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=Ku();return this.indexManager.getCollectionParents(e,o).next((h=>oe.forEach(h,(d=>{const p=(function(y,b){return new Pc(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((g=>{g.forEach(((y,b)=>{u=u.insert(y,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a)))).next((u=>{o.forEach(((d,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,gn.newInvalidDocument(g)))}));let h=Ku();return u.forEach(((d,p)=>{const g=o.get(d);g!==void 0&&ic(g.mutation,p,Qn.empty(),ht.now()),Kf(t,p)&&(h=h.insert(d,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return oe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:si(a.createTime)}})(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:rV(a.bundledQuery),readTime:si(a.readTime)}})(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.overlays=new Et(ye.comparator),this.qr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ba();return oe.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,o)=>{this.St(e,t,o)})),oe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const a=Ba(),o=t.length+1,u=new ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Et(((p,g)=>p-g));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=o.get(p.largestBatchId);g===null&&(g=Ba(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=Ba(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,g)=>h.set(p,g))),!(h.size()>=a)););return oe.resolve(h)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new OP(t,r));let o=this.qr.get(t);o===void 0&&(o=je(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this.Qr=new $t(en.$r),this.Ur=new $t(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new en(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new en(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ye(new lt([])),r=new en(t,e),a=new en(t,e+1),o=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new lt([])),r=new en(t,e),a=new en(t,e+1);let o=je();return this.Ur.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new en(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new $t(en.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new MP(o,t,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new en(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,t){return oe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),o=a<0?0:a;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?fy:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new en(t,0),a=new en(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);o.push(h)})),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $t(Le);return t.forEach((a=>{const o=new en(a,0),u=new en(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{r=r.add(h.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const u=new en(new ye(o),0);let h=new $t(Le);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),u),oe.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(t.mutations,(a=>{const o=new en(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new en(t,0),a=this.Zr.firstAfterOrEqual(r);return oe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.ri=e,this.docs=(function(){return new Et(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let r=Qi();return t.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():gn.newInvalidDocument(a))})),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Qi();const u=t.path,h=new ye(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Wk(Yk(g),r)<=0||(a.has(g.key)||Kf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Te(9500)}ii(e,t){return oe.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new _V(this)}getSize(e){return oe.resolve(this.size)}}class _V extends hV{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),oe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.persistence=e,this.si=new eo((t=>gy(t)),vy),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new wy,this.targetCount=0,this.ai=bl.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),oe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new bl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Pr(t),oe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),oe.waitFor(o).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),oe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qf(0),this.li=!1,this.li=!0,this.hi=new gV,this.referenceDelegate=e(this),this.Pi=new EV(this),this.indexManager=new iV,this.remoteDocumentCache=(function(a){return new yV(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new nV(t),this.Ii=new mV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new vV(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const a=new bV(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,t){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class bV extends Kk{constructor(e){super(),this.currentSequenceNumber=e}}class Ry{constructor(e){this.persistence=e,this.Ri=new wy,this.Vi=null}static mi(e){return new Ry(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const a=ye.fromPath(r);return this.gi(e,a).next((o=>{o||t.removeEntry(a,we.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return oe.or([()=>oe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class pf{constructor(e,t){this.persistence=e,this.pi=new eo((r=>Jk(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=cV(this,t)}static mi(e,t){return new pf(e,t)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return oe.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?oe.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,t).next((h=>{h||(r++,o.removeEntry(u,we.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),oe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zd(e.data.value)),t}br(e,t,r){return oe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return oe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=je(),a=je();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Cy(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JN()?8:Xk(En())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new AV;return this.Ss(e,t,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>o.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(tl()<=Ve.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",nl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(tl()<=Ve.DEBUG&&fe("QueryEngine","Query:",nl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(tl()<=Ve.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",nl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):oe.resolve())}ys(e,t){if(XT(t))return oe.resolve(null);let r=ii(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Ev(t,null,"F"),r=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=je(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(t,h);return this.Cs(t,p,u,d.readTime)?this.ys(e,Ev(t,null,"F")):this.vs(e,p,t,d)}))))})))))}ws(e,t,r,a){return XT(t)||a.isEqual(we.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,r,a)?oe.resolve(null):(tl()<=Ve.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nl(t)),this.vs(e,u,t,Qk(a,mc)).next((h=>h)))}))}Ds(e,t){let r=new $t(DR(e));return t.forEach(((a,o)=>{Kf(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,r){return tl()<=Ve.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",nl(t)),this.ps.getDocumentsMatchingQuery(e,t,Qs.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="LocalStore",SV=3e8;class wV{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Et(Le),this.xs=new eo((o=>gy(o)),vy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function RV(n,e,t,r){return new wV(n,e,t,r)}async function ZR(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let d=je();for(const p of a){u.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of o){h.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function CV(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,g){const y=p.batch,b=y.keys();let S=oe.resolve();return b.forEach((R=>{S=S.next((()=>g.getEntry(d,R))).next((M=>{const x=p.docVersions.get(R);Xe(x!==null,48541),M.version.compareTo(x)<0&&(y.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),g.addEntry(M)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,y)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=je();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function JR(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function DV(n,e){const t=Ce(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const h=[];e.targetChanges.forEach(((g,y)=>{const b=a.get(y);if(!b)return;h.push(t.Pi.removeMatchingKeys(o,g.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(o,g.addedDocuments,y))));let S=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(dn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),a=a.insert(y,S),(function(M,x,O){return M.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=SV?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(b,S,g)&&h.push(t.Pi.updateTargetData(o,S))}));let d=Qi(),p=je();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),h.push(IV(o,u,e.documentUpdates).next((g=>{d=g.ks,p=g.qs}))),!r.isEqual(we.min())){const g=t.Pi.getLastRemoteSnapshotVersion(o).next((y=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(g)}return oe.waitFor(h).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(t.Ms=a,o)))}function IV(n,e,t){let r=je(),a=je();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=Qi();return t.forEach(((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(we.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):fe(Dy,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function xV(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=fy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function NV(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((o=>o?(a=o,oe.resolve(a)):t.Pi.allocateTargetId(r).next((u=>(a=new Ps(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function wv(n,e,t){const r=Ce(n),a=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Nl(u))throw u;fe(Dy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function cS(n,e,t){const r=Ce(n);let a=we.min(),o=je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,g){const y=Ce(d),b=y.xs.get(g);return b!==void 0?oe.resolve(y.Ms.get(b)):y.Pi.getTargetData(p,g)})(r,u,ii(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?a:we.min(),t?o:je()))).next((h=>(MV(r,yP(e),h),{documents:h,Qs:o})))))}function MV(n,e,t){let r=n.Os.get(e)||we.min();t.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class hS{constructor(){this.activeTargetIds=SP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OV{constructor(){this.Mo=new hS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="ConnectivityMonitor";class fS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(dS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(dS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=null;function Rv(){return wd===null?wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():wd++,"0x"+wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="RestConnection",PV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===uf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,o){const u=Rv(),h=this.zo(e,t.toUriEncodedString());fe(kg,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,o);const{host:p}=new URL(h),g=Za(p);return this.Jo(e,h,d,r,g).then((y=>(fe(kg,`Received RPC '${e}' ${u}: `,y),y)),(y=>{throw pl(kg,`RPC '${e}' ${u} failed with error: `,y,"url: ",h,"request:",r),y}))}Ho(e,t,r,a,o,u){return this.Go(e,t,r,a,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,t){const r=PV[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class jV extends VV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,o){const u=Rv();return new Promise(((h,d)=>{const p=new tR;p.setWithCredentials(!0),p.listenOnce(nR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Bd.NO_ERROR:const y=p.getResponseJson();fe(mn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),h(y);break;case Bd.TIMEOUT:fe(mn,`RPC '${e}' ${u} timed out`),d(new de(se.DEADLINE_EXCEEDED,"Request time out"));break;case Bd.HTTP_ERROR:const b=p.getStatus();if(fe(mn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S?.error;if(R&&R.status&&R.message){const M=(function(O){const H=O.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(H)>=0?H:se.UNKNOWN})(R.status);d(new de(M,R.message))}else d(new de(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new de(se.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(mn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(a);fe(mn,`RPC '${e}' ${u} sending request:`,a),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const a=Rv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=sR(),h=iR(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=o.join("");fe(mn,`Creating RPC '${e}' stream ${a}: ${g}`,d);const y=u.createWebChannel(g,d);this.I_(y);let b=!1,S=!1;const R=new LV({Yo:x=>{S?fe(mn,`Not sending because RPC '${e}' stream ${a} is closed:`,x):(b||(fe(mn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),b=!0),fe(mn,`RPC '${e}' stream ${a} sending:`,x),y.send(x))},Zo:()=>y.close()}),M=(x,O,H)=>{x.listen(O,(Z=>{try{H(Z)}catch(le){setTimeout((()=>{throw le}),0)}}))};return M(y,$u.EventType.OPEN,(()=>{S||(fe(mn,`RPC '${e}' stream ${a} transport opened.`),R.o_())})),M(y,$u.EventType.CLOSE,(()=>{S||(S=!0,fe(mn,`RPC '${e}' stream ${a} transport closed`),R.a_(),this.E_(y))})),M(y,$u.EventType.ERROR,(x=>{S||(S=!0,pl(mn,`RPC '${e}' stream ${a} transport errored. Name:`,x.name,"Message:",x.message),R.a_(new de(se.UNAVAILABLE,"The operation could not be completed")))})),M(y,$u.EventType.MESSAGE,(x=>{if(!S){const O=x.data[0];Xe(!!O,16349);const H=O,Z=H?.error||H[0]?.error;if(Z){fe(mn,`RPC '${e}' stream ${a} received error:`,Z);const le=Z.status;let re=(function(C){const N=zt[C];if(N!==void 0)return BR(N)})(le),J=Z.message;re===void 0&&(re=se.INTERNAL,J="Unknown error status: "+le+" with message "+Z.message),S=!0,R.a_(new de(re,J)),y.close()}else fe(mn,`RPC '${e}' stream ${a} received:`,O),R.u_(O)}})),M(h,rR.STAT_EVENT,(x=>{x.stat===fv.PROXY?fe(mn,`RPC '${e}' stream ${a} detected buffering proxy`):x.stat===fv.NOPROXY&&fe(mn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(n){return new HP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="PersistentStream";class tC{constructor(e,t,r,a,o,u,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Gi(t.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new de(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(mS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(mS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UV extends tC{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=GP(this.serializer,e),r=(function(o){if(!("targetChange"in o))return we.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?we.min():u.readTime?si(u.readTime):we.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Sv(this.serializer),t.addTarget=(function(o,u){let h;const d=u.target;if(h=yv(d)?{documents:WP(o,d)}:{query:$P(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=FR(o,u.resumeToken);const p=bv(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(we.min())>0){h.readTime=mf(o,u.snapshotVersion.toTimestamp());const p=bv(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=XP(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Sv(this.serializer),t.removeTarget=e,this.q_(t)}}class BV extends tC{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=YP(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Sv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>QP(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{}class HV extends zV{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,Av(t,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(se.UNKNOWN,o.toString())}))}Ho(e,t,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Av(t,r),a,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="RemoteStore";class qV{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{to(this)&&(fe($a,"Restarting streams for network reachability change."),await(async function(d){const p=Ce(d);p.Ea.add(4),await jc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await tm(p)})(this))}))})),this.Ra=new FV(r,a)}}async function tm(n){if(to(n))for(const e of n.da)await e(!0)}async function jc(n){for(const e of n.da)await e(!1)}function nC(n,e){const t=Ce(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),My(t)?Ny(t):Ml(t).O_()&&xy(t,e))}function Iy(n,e){const t=Ce(n),r=Ml(t);t.Ia.delete(e),r.O_()&&rC(t,e),t.Ia.size===0&&(r.O_()?r.L_():to(t)&&t.Ra.set("Unknown"))}function xy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ml(n).Y_(e)}function rC(n,e){n.Va.Ue(e),Ml(n).Z_(e)}function Ny(n){n.Va=new jP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ml(n).start(),n.Ra.ua()}function My(n){return to(n)&&!Ml(n).x_()&&n.Ia.size>0}function to(n){return Ce(n).Ea.size===0}function iC(n){n.Va=void 0}async function GV(n){n.Ra.set("Online")}async function QV(n){n.Ia.forEach(((e,t)=>{xy(n,e)}))}async function YV(n,e){iC(n),My(n)?(n.Ra.ha(e),Ny(n)):n.Ra.set("Unknown")}async function WV(n,e,t){if(n.Ra.set("Online"),e instanceof HR&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(n,e)}catch(r){fe($a,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gf(n,r)}else if(e instanceof qd?n.Va.Ze(e):e instanceof zR?n.Va.st(e):n.Va.tt(e),!t.isEqual(we.min()))try{const r=await JR(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(p);g&&o.Ia.set(p,g.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(dn.EMPTY_BYTE_STRING,g.snapshotVersion)),rC(o,d);const y=new Ps(g.target,d,p,g.sequenceNumber);xy(o,y)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){fe($a,"Failed to raise snapshot:",r),await gf(n,r)}}async function gf(n,e,t){if(!Nl(e))throw e;n.Ea.add(1),await jc(n),n.Ra.set("Offline"),t||(t=()=>JR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{fe($a,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await tm(n)}))}function sC(n,e){return e().catch((t=>gf(n,t,e)))}async function nm(n){const e=Ce(n),t=Ks(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fy;for(;$V(e);)try{const a=await xV(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,KV(e,a)}catch(a){await gf(e,a)}aC(e)&&oC(e)}function $V(n){return to(n)&&n.Ta.length<10}function KV(n,e){n.Ta.push(e);const t=Ks(n);t.O_()&&t.X_&&t.ea(e.mutations)}function aC(n){return to(n)&&!Ks(n).x_()&&n.Ta.length>0}function oC(n){Ks(n).start()}async function XV(n){Ks(n).ra()}async function ZV(n){const e=Ks(n);for(const t of n.Ta)e.ea(t.mutations)}async function JV(n,e,t){const r=n.Ta.shift(),a=Ay.from(r,e,t);await sC(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await nm(n)}async function eL(n,e){e&&Ks(n).X_&&await(async function(r,a){if((function(u){return PP(u)&&u!==se.ABORTED})(a.code)){const o=r.Ta.shift();Ks(r).B_(),await sC(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await nm(r)}})(n,e),aC(n)&&oC(n)}async function pS(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),fe($a,"RemoteStore received new credentials");const r=to(t);t.Ea.add(3),await jc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await tm(t)}async function tL(n,e){const t=Ce(n);e?(t.Ea.delete(2),await tm(t)):e||(t.Ea.add(2),await jc(t),t.Ra.set("Unknown"))}function Ml(n){return n.ma||(n.ma=(function(t,r,a){const o=Ce(t);return o.sa(),new UV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:GV.bind(null,n),t_:QV.bind(null,n),r_:YV.bind(null,n),H_:WV.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),My(n)?Ny(n):n.Ra.set("Unknown")):(await n.ma.stop(),iC(n))}))),n.ma}function Ks(n){return n.fa||(n.fa=(function(t,r,a){const o=Ce(t);return o.sa(),new BV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:XV.bind(null,n),r_:eL.bind(null,n),ta:ZV.bind(null,n),na:JV.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await nm(n)):(await n.fa.stop(),n.Ta.length>0&&(fe($a,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,h=new Oy(e,t,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(n,e){if(Gi("AsyncQueue",`${e}: ${n}`),Nl(n))return new de(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{static emptySet(e){return new hl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Ku(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.ga=new Et(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Al{constructor(e,t,r,a,o,u,h,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new Al(e,t,hl.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rL{constructor(){this.queries=vS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ce(t),o=a.queries;a.queries=vS(),o.forEach(((u,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new de(se.ABORTED,"Firestore shutting down"))}}function vS(){return new eo((n=>CR(n)),$f)}async function lC(n,e){const t=Ce(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new nL,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=ky(u,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Py(t)}async function uC(n,e){const t=Ce(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function iL(n,e){const t=Ce(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&Py(t)}function sL(n,e,t){const r=Ce(n),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);r.queries.delete(e)}function Py(n){n.Ca.forEach((e=>{e.next()}))}var Cv,yS;(yS=Cv||(Cv={})).Ma="default",yS.Cache="cache";class cC{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.key=e}}class dC{constructor(e){this.key=e}}class aL{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=DR(e),this.tu=new hl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new gS,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,y)=>{const b=a.get(g),S=Kf(this.query,y)?y:null,R=!!b&&this.mutatedKeys.has(b.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;b&&S?b.data.isEqual(S.data)?R!==M&&(r.track({type:3,doc:S}),x=!0):this.su(b,S)||(r.track({type:2,doc:S}),x=!0,(d&&this.eu(S,d)>0||p&&this.eu(S,p)<0)&&(h=!0)):!b&&S?(r.track({type:0,doc:S}),x=!0):b&&!S&&(r.track({type:1,doc:b}),x=!0,(d||p)&&(h=!0)),x&&(S?(u=u.add(S),o=M?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,y)=>(function(S,R){const M=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:x})}};return M(S)-M(R)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),a=a??!1;const h=t&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,u.length!==0||p?{snapshot:new Al(this.query,e.tu,o,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new dC(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new hC(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vy="SyncEngine";class oL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lL{constructor(e){this.key=e,this.hu=!1}}class uL{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new eo((h=>CR(h)),$f),this.Iu=new Map,this.Eu=new Set,this.du=new Et(ye.comparator),this.Au=new Map,this.Ru=new wy,this.Vu={},this.mu=new Map,this.fu=bl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cL(n,e,t=!0){const r=yC(n);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await fC(r,e,t,!0),a}async function hL(n,e){const t=yC(n);await fC(t,e,!0,!1)}async function fC(n,e,t,r){const a=await NV(n.localStore,ii(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await dL(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&nC(n.remoteStore,a),h}async function dL(n,e,t,r,a){n.pu=(y,b,S)=>(async function(M,x,O,H){let Z=x.view.ru(O);Z.Cs&&(Z=await cS(M.localStore,x.query,!1).then((({documents:I})=>x.view.ru(I,Z))));const le=H&&H.targetChanges.get(x.targetId),re=H&&H.targetMismatches.get(x.targetId)!=null,J=x.view.applyChanges(Z,M.isPrimaryClient,le,re);return ES(M,x.targetId,J.au),J.snapshot})(n,y,b,S);const o=await cS(n.localStore,e,!0),u=new aL(e,o.Qs),h=u.ru(o.documents),d=Lc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=u.applyChanges(h,n.isPrimaryClient,d);ES(n,t,p.au);const g=new oL(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function fL(n,e,t){const r=Ce(n),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!$f(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await wv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Iy(r.remoteStore,a.targetId),Dv(r,a.targetId)})).catch(xl)):(Dv(r,a.targetId),await wv(r.localStore,a.targetId,!0))}async function mL(n,e){const t=Ce(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Iy(t.remoteStore,r.targetId))}async function pL(n,e,t){const r=AL(n);try{const a=await(function(u,h){const d=Ce(u),p=ht.now(),g=h.reduce(((S,R)=>S.add(R.key)),je());let y,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let R=Qi(),M=je();return d.Ns.getEntries(S,g).next((x=>{R=x,R.forEach(((O,H)=>{H.isValidDocument()||(M=M.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,R))).next((x=>{y=x;const O=[];for(const H of h){const Z=xP(H,y.get(H.key).overlayedDocument);Z!=null&&O.push(new na(H.key,Z,_R(Z.value.mapValue),lr.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,O,h)})).next((x=>{b=x;const O=x.applyToLocalDocumentSet(y,M);return d.documentOverlayCache.saveOverlays(S,x.batchId,O)}))})).then((()=>({batchId:b.batchId,changes:xR(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.Vu[u.currentUser.toKey()];p||(p=new Et(Le)),p=p.insert(h,d),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,t),await Uc(r,a.changes),await nm(r.remoteStore)}catch(a){const o=ky(a,"Failed to persist write");t.reject(o)}}async function mC(n,e){const t=Ce(n);try{const r=await DV(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=t.Au.get(o);u&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Xe(u.hu,14607):a.removedDocuments.size>0&&(Xe(u.hu,42227),u.hu=!1))})),await Uc(t,r,e)}catch(r){await xl(r)}}function _S(n,e,t){const r=Ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=Ce(u);d.onlineState=h;let p=!1;d.queries.forEach(((g,y)=>{for(const b of y.Sa)b.va(h)&&(p=!0)})),p&&Py(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gL(n,e,t){const r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new Et(ye.comparator);u=u.insert(o,gn.newNoDocument(o,we.min()));const h=je().add(o),d=new Jf(we.min(),new Map,new Et(Le),u,h);await mC(r,d),r.du=r.du.remove(o),r.Au.delete(e),Ly(r)}else await wv(r.localStore,e,!1).then((()=>Dv(r,e,t))).catch(xl)}async function vL(n,e){const t=Ce(n),r=e.batch.batchId;try{const a=await CV(t.localStore,e);gC(t,r,null),pC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Uc(t,a)}catch(a){await xl(a)}}async function yL(n,e,t){const r=Ce(n);try{const a=await(function(u,h){const d=Ce(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return d.mutationQueue.lookupMutationBatch(p,h).next((y=>(Xe(y!==null,37113),g=y.keys(),d.mutationQueue.removeMutationBatch(p,y)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>d.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);gC(r,e,t),pC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Uc(r,a)}catch(a){await xl(a)}}function pC(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function gC(n,e,t){const r=Ce(n);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Dv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||vC(n,r)}))}function vC(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Iy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Ly(n))}function ES(n,e,t){for(const r of t)r instanceof hC?(n.Ru.addReference(r.key,e),_L(n,r)):r instanceof dC?(fe(Vy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||vC(n,r.key)):Te(19791,{wu:r})}function _L(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(fe(Vy,"New document in limbo: "+t),n.Eu.add(r),Ly(n))}function Ly(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(lt.fromString(e)),r=n.fu.next();n.Au.set(r,new lL(t)),n.du=n.du.insert(t,r),nC(n.remoteStore,new Ps(ii(yy(t.path)),r,"TargetPurposeLimboResolution",Qf.ce))}}async function Uc(n,e,t){const r=Ce(n),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(p){a.push(p);const g=Cy.As(d.targetId,p);o.push(g)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(d,p){const g=Ce(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>oe.forEach(p,(b=>oe.forEach(b.Es,(S=>g.persistence.referenceDelegate.addReference(y,b.targetId,S))).next((()=>oe.forEach(b.ds,(S=>g.persistence.referenceDelegate.removeReference(y,b.targetId,S)))))))))}catch(y){if(!Nl(y))throw y;fe(Dy,"Failed to update sequence numbers: "+y)}for(const y of p){const b=y.targetId;if(!y.fromCache){const S=g.Ms.get(b),R=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(R);g.Ms=g.Ms.insert(b,M)}}})(r.localStore,o))}async function EL(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){fe(Vy,"User change. New user:",e.toKey());const r=await ZR(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new de(se.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uc(t,r.Ls)}}function bL(n,e){const t=Ce(n),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let a=je();const o=t.Iu.get(e);if(!o)return a;for(const u of o){const h=t.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function yC(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gL.bind(null,e),e.Pu.H_=iL.bind(null,e.eventManager),e.Pu.yu=sL.bind(null,e.eventManager),e}function AL(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yL.bind(null,e),e}class vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=em(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return RV(this.persistence,new TV,e.initialUser,this.serializer)}Cu(e){return new XR(Ry.mi,this.serializer)}Du(e){return new OV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vf.provider={build:()=>new vf};class TL extends vf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof pf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lV(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new XR((r=>pf.mi(r,t)),this.serializer)}}class Iv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_S(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EL.bind(null,this.syncEngine),await tL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rL})()}createDatastore(e){const t=em(e.databaseInfo.databaseId),r=(function(o){return new jV(o)})(e.databaseInfo);return(function(o,u,h,d){return new HV(o,u,h,d)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,o,u,h){return new qV(r,a,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>_S(this.syncEngine,t,0)),(function(){return fS.v()?new fS:new kV})())}createSyncEngine(e,t){return(function(a,o,u,h,d,p,g){const y=new uL(a,o,u,h,d,p);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ce(t);fe($a,"RemoteStore shutting down."),r.Ea.add(5),await jc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Iv.provider={build:()=>new Iv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class SL{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=dy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{fe(Xs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(fe(Xs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ky(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Vg(n,e){n.asyncQueue.verifyOperationInProgress(),fe(Xs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await ZR(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function bS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await wL(n);fe(Xs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>pS(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>pS(e.remoteStore,a))),n._onlineComponents=e}async function wL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(Xs,"Using user provided OfflineComponentProvider");try{await Vg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;pl("Error using user provided cache. Falling back to memory cache: "+t),await Vg(n,new vf)}}else fe(Xs,"Using default OfflineComponentProvider"),await Vg(n,new TL(void 0));return n._offlineComponents}async function EC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(Xs,"Using user provided OnlineComponentProvider"),await bS(n,n._uninitializedComponentsProvider._online)):(fe(Xs,"Using default OnlineComponentProvider"),await bS(n,new Iv))),n._onlineComponents}function RL(n){return EC(n).then((e=>e.syncEngine))}async function bC(n){const e=await EC(n),t=e.eventManager;return t.onListen=cL.bind(null,e.syncEngine),t.onUnlisten=fL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mL.bind(null,e.syncEngine),t}function CL(n,e,t={}){const r=new Bi;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,p){const g=new _C({next:b=>{g.Nu(),u.enqueueAndForget((()=>uC(o,y)));const S=b.docs.has(h);!S&&b.fromCache?p.reject(new de(se.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&d&&d.source==="server"?p.reject(new de(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),y=new cC(yy(h.path),g,{includeMetadataChanges:!0,qa:!0});return lC(o,y)})(await bC(n),n.asyncQueue,e,t,r))),r.promise}function DL(n,e,t={}){const r=new Bi;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,p){const g=new _C({next:b=>{g.Nu(),u.enqueueAndForget((()=>uC(o,y))),b.fromCache&&d.source==="server"?p.reject(new de(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),y=new cC(h,g,{includeMetadataChanges:!0,qa:!0});return lC(o,y)})(await bC(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="firestore.googleapis.com",TS=!0;class SS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TC,this.ssl=TS}else this.host=e.host,this.ssl=e.ssl??TS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aV)throw new de(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rm{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Pk;switch(r.type){case"firstParty":return new Uk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=AS.get(t);r&&(fe("ComponentProvider","Removing Datastore"),AS.delete(t),r.terminate())})(this),Promise.resolve()}}function IL(n,e,t,r={}){n=Rr(n,rm);const a=Za(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(Xv(`https://${h}`),Zv("Firestore",!0)),o.host!==TC&&o.host!==h&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:a,emulatorOptions:r};if(!Hi(d,u)&&(n._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=pn.MOCK_USER;else{p=mw(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new de(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new pn(y)}n._authCredentials=new Vk(new oR(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ol(this.firestore,e,this._query)}}class xt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(kc(t,xt._jsonSchema))return new xt(e,r||null,new ye(lt.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Ft("string",xt._jsonSchemaVersion),referencePath:Ft("string")};class Fs extends Ol{constructor(e,t,r){super(e,t,yy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ye(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function wn(n,e,...t){if(n=Kt(n),lR("collection","path",e),n instanceof rm){const r=lt.fromString(e,...t);return LT(r),new Fs(n,null,r)}{if(!(n instanceof xt||n instanceof Fs))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(lt.fromString(e,...t));return LT(r),new Fs(n.firestore,null,r)}}function _n(n,e,...t){if(n=Kt(n),arguments.length===1&&(e=dy.newId()),lR("doc","path",e),n instanceof rm){const r=lt.fromString(e,...t);return VT(r),new xt(n,null,new ye(r))}{if(!(n instanceof xt||n instanceof Fs))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(lt.fromString(e,...t));return VT(r),new xt(n.firestore,n instanceof Fs?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="AsyncQueue";class RS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eC(this,"async_queue_retry"),this._c=()=>{const r=Pg();r&&fe(wS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Bi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nl(e))throw e;fe(wS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",CS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Oy.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&Te(47125,{Pc:CS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function CS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class no extends rm{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new RS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RS(e),this._firestoreClient=void 0,await e}}}function xL(n,e){const t=typeof n=="object"?n:ty(),r=typeof n=="string"?n:uf,a=zf(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=hw("firestore");o&&IL(a,...o)}return a}function jy(n){if(n._terminated)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NL(n),n._firestoreClient}function NL(n){const e=n._freezeSettings(),t=(function(a,o,u,h){return new nP(a,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,AC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new SL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new or(dn.fromBase64String(e))}catch(t){throw new de(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new or(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kc(e,or._jsonSchema))return or.fromBase64String(e.bytes)}}or._jsonSchemaVersion="firestore/bytes/1.0",or._jsonSchema={type:Ft("string",or._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ai._jsonSchemaVersion}}static fromJSON(e){if(kc(e,ai._jsonSchema))return new ai(e.latitude,e.longitude)}}ai._jsonSchemaVersion="firestore/geoPoint/1.0",ai._jsonSchema={type:Ft("string",ai._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kc(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new oi(e.vectorValues);throw new de(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Ft("string",oi._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=/^__.*__$/;class OL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vc(e,this.data,t,this.fieldTransforms)}}class SC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new na(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class sm{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wC(this.Ac)&&ML.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||em(e)}Cc(e,t,r,a=!1){return new sm({Ac:e,methodName:t,Dc:r,path:hn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function am(n){const e=n._freezeSettings(),t=em(n._databaseId);return new kL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RC(n,e,t,r,a,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,a);Hy("Data must be an object, but it was:",u,r);const h=DC(r,u);let d,p;if(o.merge)d=new Qn(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const b=xv(e,y,t);if(!u.contains(b))throw new de(se.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);xC(g,b)||g.push(b)}d=new Qn(g),p=u.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,p=u.fieldTransforms;return new OL(new kn(h),d,p)}class om extends kl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof om}}function CC(n,e,t){return new sm({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Uy extends kl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=CC(this,e,!0),r=this.vc.map((o=>ro(o,t))),a=new _l(r);return new Ey(e.path,a)}isEqual(e){return e instanceof Uy&&Hi(this.vc,e.vc)}}class By extends kl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=CC(this,e,!0),r=this.vc.map((o=>ro(o,t))),a=new El(r);return new Ey(e.path,a)}isEqual(e){return e instanceof By&&Hi(this.vc,e.vc)}}class zy extends kl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new yc(e.serializer,OR(e.serializer,this.Fc));return new Ey(e.path,t)}isEqual(e){return e instanceof zy&&this.Fc===e.Fc}}function PL(n,e,t,r){const a=n.Cc(1,e,t);Hy("Data must be an object, but it was:",a,r);const o=[],u=kn.empty();ta(r,((d,p)=>{const g=Fy(e,d,t);p=Kt(p);const y=a.yc(g);if(p instanceof om)o.push(g);else{const b=ro(p,y);b!=null&&(o.push(g),u.set(g,b))}}));const h=new Qn(o);return new SC(u,h,a.fieldTransforms)}function VL(n,e,t,r,a,o){const u=n.Cc(1,e,t),h=[xv(e,r,t)],d=[a];if(o.length%2!=0)throw new de(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)h.push(xv(e,o[b])),d.push(o[b+1]);const p=[],g=kn.empty();for(let b=h.length-1;b>=0;--b)if(!xC(p,h[b])){const S=h[b];let R=d[b];R=Kt(R);const M=u.yc(S);if(R instanceof om)p.push(S);else{const x=ro(R,M);x!=null&&(p.push(S),g.set(S,x))}}const y=new Qn(p);return new SC(g,y,u.fieldTransforms)}function LL(n,e,t,r=!1){return ro(t,n.Cc(r?4:3,e))}function ro(n,e){if(IC(n=Kt(n)))return Hy("Unsupported field value:",e,n),DC(n,e);if(n instanceof kl)return(function(r,a){if(!wC(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const h of r){let d=ro(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OR(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ht.fromDate(r);return{timestampValue:mf(a.serializer,o)}}if(r instanceof ht){const o=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mf(a.serializer,o)}}if(r instanceof ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof or)return{bytesValue:FR(a.serializer,r._byteString)};if(r instanceof xt){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Sy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof oi)return(function(u,h){return{mapValue:{fields:{[vR]:{stringValue:yR},[cf]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return _y(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Gf(r)}`)})(n,e)}function DC(n,e){const t={};return hR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(n,((r,a)=>{const o=ro(a,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function IC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof ai||n instanceof or||n instanceof xt||n instanceof kl||n instanceof oi)}function Hy(n,e,t){if(!IC(t)||!uR(t)){const r=Gf(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function xv(n,e,t){if((e=Kt(e))instanceof im)return e._internalPath;if(typeof e=="string")return Fy(n,e);throw yf("Field path arguments must be of type string or ",n,!1,void 0,t)}const jL=new RegExp("[~\\*/\\[\\]]");function Fy(n,e,t){if(e.search(jL)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new im(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yf(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new de(se.INVALID_ARGUMENT,h+n+d)}function xC(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class UL extends NC{data(){return super.data()}}function qy(n,e){return typeof e=="string"?Fy(n,e):e instanceof im?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gy{}class zL extends Gy{}function DS(n,e,...t){let r=[];e instanceof Gy&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((d=>d instanceof Qy)).length,h=o.filter((d=>d instanceof lm)).length;if(u>1||u>0&&h>0)throw new de(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class lm extends zL{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new lm(e,t,r)}_apply(e){const t=this._parse(e);return MC(e._query,t),new Ol(e.firestore,e.converter,_v(e._query,t))}_parse(e){const t=am(e.firestore);return(function(o,u,h,d,p,g,y){let b;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){xS(y,g);const R=[];for(const M of y)R.push(IS(d,o,M));b={arrayValue:{values:R}}}else b=IS(d,o,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||xS(y,g),b=LL(h,u,y,g==="in"||g==="not-in");return Ht.create(p,g,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Lg(n,e,t){const r=e,a=qy("where",n);return lm._create(a,r,t)}class Qy extends Gy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let u=a;const h=o.getFlattenedFilters();for(const d of h)MC(u,d),u=_v(u,d)})(e._query,t),new Ol(e.firestore,e.converter,_v(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function IS(n,e,t){if(typeof(t=Kt(t))=="string"){if(t==="")throw new de(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RR(e)&&t.indexOf("/")!==-1)throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(lt.fromString(t));if(!ye.isDocumentKey(r))throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GT(n,new ye(r))}if(t instanceof xt)return GT(n,t._key);throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gf(t)}.`)}function xS(n,e){if(!Array.isArray(n)||n.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MC(n,e){const t=(function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class HL{convertValue(e,t="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ta(e,((a,o)=>{r[a]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[cf].arrayValue?.values?.map((r=>It(r.doubleValue)));return new oi(t)}convertGeoPoint(e){return new ai(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Wf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const t=Ys(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=lt.fromString(e);Xe($R(r),9688,{name:e});const a=new gc(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return a.isEqual(t)||Gi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends NC{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(qy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ha._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:Ft("string",Ha._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Gd extends Ha{data(e={}){return super.data(e)}}class dl{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Zu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Gd(this._firestore,this._userDataWriter,r.key,r,new Zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Gd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Zu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Gd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Zu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,g=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:FL(h.type),doc:d,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(n){n=Rr(n,xt);const e=Rr(n.firestore,no);return CL(jy(e),n._key).then((t=>QL(e,n,t)))}dl._jsonSchemaVersion="firestore/querySnapshot/1.0",dl._jsonSchema={type:Ft("string",dl._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class kC extends HL{constructor(e){super(),this.firestore=e}convertBytes(e){return new or(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function ci(n){n=Rr(n,Ol);const e=Rr(n.firestore,no),t=jy(e),r=new kC(e);return BL(n._query),DL(t,n._query).then((a=>new dl(e,r,n,a)))}function qL(n,e,t){n=Rr(n,xt);const r=Rr(n.firestore,no),a=OC(n.converter,e);return um(r,[RC(am(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,lr.none())])}function Fa(n,e,t,...r){n=Rr(n,xt);const a=Rr(n.firestore,no),o=am(a);let u;return u=typeof(e=Kt(e))=="string"||e instanceof im?VL(o,"updateDoc",n._key,e,t,r):PL(o,"updateDoc",n._key,e),um(a,[u.toMutation(n._key,lr.exists(!0))])}function GL(n){return um(Rr(n.firestore,no),[new by(n._key,lr.none())])}function Bc(n,e){const t=Rr(n.firestore,no),r=_n(n),a=OC(n.converter,e);return um(t,[RC(am(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then((()=>r))}function um(n,e){return(function(r,a){const o=new Bi;return r.asyncQueue.enqueueAndForget((async()=>pL(await RL(r),a,o))),o.promise})(jy(n),e)}function QL(n,e,t){const r=t.docs.get(e._key),a=new kC(n);return new Ha(n,a,e._key,r,new Zu(t.hasPendingWrites,t.fromCache),e.converter)}function YL(...n){return new Uy("arrayUnion",n)}function WL(...n){return new By("arrayRemove",n)}function PC(n){return new zy("increment",n)}(function(e,t=!0){(function(a){Il=a})(Ja),Ga(new Gs("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new no(new Lk(r.getProvider("auth-internal")),new Bk(u,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(p.options.projectId,g)})(u,a),u);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),ti(MT,OT,e),ti(MT,OT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firebasestorage.googleapis.com",$L="storageBucket",KL=120*1e3,XL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends pi{constructor(e,t,r=0){super(jg(e),`Firebase Storage: ${t} (${jg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hi||(hi={}));function jg(n){return"storage/"+n}function ZL(){const n="An unknown error occurred, please check the error payload for server response.";return new gi(hi.UNKNOWN,n)}function JL(){return new gi(hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ej(){return new gi(hi.CANCELED,"User canceled the upload/download.")}function tj(n){return new gi(hi.INVALID_URL,"Invalid URL '"+n+"'.")}function nj(n){return new gi(hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function NS(n){return new gi(hi.INVALID_ARGUMENT,n)}function LC(){return new gi(hi.APP_DELETED,"The Firebase app was deleted.")}function rj(n){return new gi(hi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ar.makeFromUrl(e,t)}catch{return new Ar(e,"")}if(r.path==="")return r;throw nj(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function p(le){le.path_=decodeURIComponent(le.path)}const g="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",S=new RegExp(`^https?://${y}/${g}/b/${a}/o${b}`,"i"),R={bucket:1,path:3},M=t===VC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",O=new RegExp(`^https?://${M}/${a}/${x}`,"i"),Z=[{regex:h,indices:d,postModify:o},{regex:S,indices:R,postModify:p},{regex:O,indices:{bucket:1,path:2},postModify:p}];for(let le=0;le<Z.length;le++){const re=Z[le],J=re.regex.exec(e);if(J){const I=J[re.indices.bucket];let C=J[re.indices.path];C||(C=""),r=new Ar(I,C),re.postModify(r);break}}if(r==null)throw tj(e);return r}}class ij{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(n,e,t){let r=1,a=null,o=null,u=!1,h=0;function d(){return h===2}let p=!1;function g(...x){p||(p=!0,e.apply(null,x))}function y(x){a=setTimeout(()=>{a=null,n(S,d())},x)}function b(){o&&clearTimeout(o)}function S(x,...O){if(p){b();return}if(x){b(),g.call(null,x,...O);return}if(d()||u){b(),g.call(null,x,...O);return}r<64&&(r*=2);let Z;h===1?(h=2,Z=0):Z=(r+Math.random())*1e3,y(Z)}let R=!1;function M(x){R||(R=!0,b(),!p&&(a!==null?(x||(h=2),clearTimeout(a),y(0)):x||(h=1)))}return y(0),o=setTimeout(()=>{u=!0,M(!0)},t),M}function aj(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(n){return n!==void 0}function MS(n,e,t,r){if(r<e)throw NS(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw NS(`Invalid value for '${n}'. Expected ${t} or less.`)}function lj(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var _f;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(_f||(_f={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,t,r,a,o,u,h,d,p,g,y,b=!0,S=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=y,this.retry=b,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,M)=>{this.resolve_=R,this.reject_=M,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Rd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const d=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===_f.NO_ERROR,d=o.getStatus();if(!h||uj(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===_f.ABORT;r(!1,new Rd(!1,null,g));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new Rd(p,o))})},t=(r,a)=>{const o=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());oj(d)?o(d):o()}catch(d){u(d)}else if(h!==null){const d=ZL();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(a.canceled){const d=this.appDelete_?LC():ej();u(d)}else{const d=JL();u(d)}};this.canceled_?t(!1,new Rd(!1,null,!0)):this.backoffId_=sj(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function hj(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function dj(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fj(n,e){e&&(n["X-Firebase-GMPID"]=e)}function mj(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function pj(n,e,t,r,a,o,u=!0,h=!1){const d=lj(n.urlParams),p=n.url+d,g=Object.assign({},n.headers);return fj(g,e),hj(g,t),dj(g,o),mj(g,r),new cj(p,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function vj(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this._service=e,t instanceof Ar?this._location=t:this._location=Ar.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ef(e,t)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vj(this._location.path)}get storage(){return this._service}get parent(){const e=gj(this._location.path);if(e===null)return null;const t=new Ar(this._location.bucket,e);return new Ef(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw rj(e)}}function OS(n,e){const t=e?.[$L];return t==null?null:Ar.makeFromBucketSpec(t,n)}function yj(n,e,t,r={}){n.host=`${e}:${t}`;const a=Za(e);a&&(Xv(`https://${n.host}/b`),Zv("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:mw(o,n.app.options.projectId))}class _j{constructor(e,t,r,a,o,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=VC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KL,this._maxUploadRetryTime=XL,this._requests=new Set,a!=null?this._bucket=Ar.makeFromBucketSpec(a,this._host):this._bucket=OS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=OS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){MS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){MS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ef(this,e)}_makeRequest(e,t,r,a,o=!0){if(this._deleted)return new ij(LC());{const u=pj(e,this._appId,r,a,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const kS="@firebase/storage",PS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="storage";function Ej(n=ty(),e){n=Kt(n);const r=zf(n,jC).getImmediate({identifier:e}),a=hw("storage");return a&&bj(r,...a),r}function bj(n,e,t,r={}){yj(n,e,t,r)}function Aj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new _j(t,r,a,e,Ja)}function Tj(){Ga(new Gs(jC,Aj,"PUBLIC").setMultipleInstances(!0)),ti(kS,PS,""),ti(kS,PS,"esm2020")}Tj();const Sj={apiKey:"AIzaSyB0yV6SwgxkTZuMwpMvdLhTazreN5r0Wpo",authDomain:"webavancada3.firebaseapp.com",projectId:"webavancada3",storageBucket:"webavancada3.appspot.com",messagingSenderId:"1023653335319",appId:"1:1023653335319:web:3142f3c781b35fd21fe752"},Yy=vw(Sj),Dr=Nk(Yy),$e=xL(Yy);Ej(Yy);const Wy="/web_avancada5/assets/logo-CDyEc294.png";function wj(){const[n,e]=L.useState(""),[t,r]=L.useState(""),a=bn();L.useEffect(()=>{e(""),r("")},[]);const o=async()=>{if(!n||!t)return alert("Preencha todos os campos");try{await yO(Dr,n,t),a("/home")}catch(h){switch(h.code){case"auth/user-not-found":alert("Email no encontrado");break;case"auth/wrong-password":alert("Senha incorreta");break;case"auth/invalid-email":alert("Email invlido");break;case"auth/too-many-requests":alert("Muitas tentativas. Tente novamente mais tarde");break;default:alert("Erro ao fazer login: "+h.message)}}},u=async()=>{if(!n)return alert("Digite seu email");try{await gO(Dr,n),alert("Email de recuperao enviado!")}catch(h){switch(h.code){case"auth/user-not-found":alert("Email no encontrado");break;case"auth/invalid-email":alert("Email invlido");break;default:alert("Erro ao enviar email: "+h.message)}}};return _.jsx("div",{className:"login-container",children:_.jsxs("div",{className:"login-box",children:[_.jsxs("div",{className:"login-logo",children:[_.jsx("img",{src:Wy,alt:"Logo"}),_.jsx("h2",{children:"Creche Estrela do Oriente"})]}),_.jsx("input",{type:"email",placeholder:"username@gmail.com",value:n,onChange:h=>e(h.target.value)}),_.jsx("input",{type:"password",placeholder:"Senha",value:t,onChange:h=>r(h.target.value)}),_.jsx("div",{className:"reset-link-container",children:_.jsx("span",{className:"reset-link",onClick:u,children:"Esqueceu a senha?"})}),_.jsx("button",{onClick:o,children:"Login"})]})})}function Rj(){const[n,e]=L.useState(""),[t,r]=L.useState(""),[a,o]=L.useState(""),[u,h]=L.useState(""),d=bn(),p=async()=>{if(!n||!t||!a||!u)return alert("Preencha todos os campos");if(a!==u)return alert("As senhas no conferem");try{const y=(await vO(Dr,t,a)).user;await qL(_n($e,"usuarios",y.uid),{nome:n,email:t}),await ly(Dr),alert("Conta criada com sucesso! Faa login."),d("/")}catch(g){switch(g.code){case"auth/email-already-in-use":alert("Email j cadastrado");break;case"auth/invalid-email":alert("Email invlido");break;case"auth/weak-password":alert("Senha muito fraca (mnimo 6 caracteres)");break;default:alert("Erro ao criar conta: "+g.message)}}};return _.jsx("div",{className:"login-container",children:_.jsxs("div",{className:"login-box",children:[_.jsxs("div",{className:"login-logo",children:[_.jsx("img",{src:Wy,alt:"Logo"}),_.jsx("h1",{children:"Creche Estrela do Oriente"})]}),_.jsx("input",{type:"text",placeholder:"Nome",value:n,onChange:g=>e(g.target.value)}),_.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:g=>r(g.target.value)}),_.jsx("input",{type:"password",placeholder:"Senha",value:a,onChange:g=>o(g.target.value)}),_.jsx("input",{type:"password",placeholder:"Confirmao de Senha",value:u,onChange:g=>h(g.target.value)}),_.jsx("button",{onClick:p,children:"Criar Conta"}),_.jsx("button",{onClick:()=>d("/"),children:"Voltar ao Login"})]})})}const UC=30,Nv=UC*60,Cj=Nv*1e3;function Dj(n,e){const[t,r]=L.useState(Nv),a=L.useRef(null),o=L.useRef(null),u=L.useCallback(g=>{if(g<0)return"00:00";const y=Math.floor(g/60),b=g%60;return`${String(y).padStart(2,"0")}:${String(b).padStart(2,"0")}`},[]),h=L.useCallback(()=>{a.current&&clearTimeout(a.current),o.current&&clearInterval(o.current)},[]),d=L.useCallback(()=>{h(),console.warn(`Sesso encerrada por expirao de tempo (${UC} minutos).`),ly(Dr).then(()=>{n("/",{replace:!0})}).catch(g=>{console.error("Erro ao fazer logout por expirao de tempo:",g)})},[n,h]),p=L.useCallback(()=>{h(),a.current=setTimeout(d,Cj),r(Nv)},[d,h]);return L.useEffect(()=>(p(),h),[e.pathname,p,h]),L.useEffect(()=>(o.current=setInterval(()=>{r(g=>g<=1?(clearInterval(o.current),0):g-1)},1e3),()=>{o.current&&clearInterval(o.current)}),[]),{formattedCountdown:u(t),countdownSeconds:t,clearTimers:h}}const Ij=()=>{const[n,e]=L.useState(0),[t,r]=L.useState(!0),[a,o]=L.useState("Carregando..."),[u,h]=L.useState(null);return L.useEffect(()=>{const d=Mc(Dr,async p=>{if(p){h(p.uid);try{const g=_n($e,"usuarios",p.uid),y=await Pl(g);if(y.exists()){const b=y.data();o(b.nome);const S=typeof b.grupo=="number"?b.grupo:0;e(S)}else o("Usurio sem perfil"),e(0)}catch(g){console.error("Erro ao buscar grupo do usurio:",g),o("Erro ao carregar"),e(0)}finally{r(!1)}}else h(null),o("Visitante"),e(0),r(!1)});return()=>d()},[]),{userGroup:n,isLoadingRole:t,currentUserName:a,userId:u}};function io({text:n="Carregando..."}){return _.jsx("div",{className:"loading-container",children:_.jsx("p",{className:"loading-text",children:n})})}const xj="/web_avancada5/assets/avatar-BM9PY_FD.png";var BC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VS=Tr.createContext&&Tr.createContext(BC),Nj=["attr","size","title"];function Mj(n,e){if(n==null)return{};var t=Oj(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Oj(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function bf(){return bf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},bf.apply(this,arguments)}function LS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function Af(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(t),!0).forEach(function(r){kj(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function kj(n,e,t){return e=Pj(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Pj(n){var e=Vj(n,"string");return typeof e=="symbol"?e:e+""}function Vj(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zC(n){return n&&n.map((e,t)=>Tr.createElement(e.tag,Af({key:t},e.attr),zC(e.child)))}function qt(n){return e=>Tr.createElement(Lj,bf({attr:Af({},n.attr)},e),zC(n.child))}function Lj(n){var e=t=>{var{attr:r,size:a,title:o}=n,u=Mj(n,Nj),h=a||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Tr.createElement("svg",bf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:Af(Af({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Tr.createElement("title",null,o),n.children)};return VS!==void 0?Tr.createElement(VS.Consumer,null,t=>e(t)):e(BC)}function jj(n){return qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(n)}function HC(n){return qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(n)}function Uj(n){return qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(n)}function jS(n){return qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(n)}function FC(n){return qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(n)}function Bj(n){return qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]},{tag:"line",attr:{x1:"12",y1:"11",x2:"12",y2:"17"},child:[]},{tag:"line",attr:{x1:"9",y1:"14",x2:"15",y2:"14"},child:[]}]})(n)}function zj(n){return qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(n)}function Hj(n){return qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function Fj(n){return qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(n)}function qj(n){return qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(n)}function Gj(n){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"384",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48"},child:[]},{tag:"circle",attr:{cx:"296",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"392",r:"24"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M128 48v32m256-32v32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M464 160H48"},child:[]}]})(n)}function Qj(n){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M80 212v236a16 16 0 0 0 16 16h96V328a24 24 0 0 1 24-24h80a24 24 0 0 1 24 24v136h96a16 16 0 0 0 16-16V212"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M480 256 266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256m368-77V64h-48v69"},child:[]}]})(n)}function Yj(n){return qt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m112 112 20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M80 112h352"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M192 112V72h0a23.93 23.93 0 0 1 24-24h80a23.93 23.93 0 0 1 24 24h0v40m-64 64v224m-72-224 8 224m136-224-8 224"},child:[]}]})(n)}function Wj(n){return qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 2v4"},child:[]},{tag:"path",attr:{d:"M21 11.75V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.25"},child:[]},{tag:"path",attr:{d:"m22 22-1.875-1.875"},child:[]},{tag:"path",attr:{d:"M3 10h18"},child:[]},{tag:"path",attr:{d:"M8 2v4"},child:[]},{tag:"circle",attr:{cx:"18",cy:"18",r:"3"},child:[]}]})(n)}function $j(n){return qt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"10",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M10.3 15H7a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"17",cy:"17",r:"3"},child:[]},{tag:"path",attr:{d:"m21 21-1.9-1.9"},child:[]}]})(n)}function Kj(n){return qt({attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 16 2 C 14.74 2 13.850156 2.89 13.410156 4 L 5 4 L 5 29 L 27 29 L 27 4 L 18.589844 4 C 18.149844 2.89 17.26 2 16 2 z M 16 4 C 16.55 4 17 4.45 17 5 L 17 6 L 20 6 L 20 8 L 12 8 L 12 6 L 15 6 L 15 5 C 15 4.45 15.45 4 16 4 z M 7 6 L 10 6 L 10 10 L 22 10 L 22 6 L 25 6 L 25 27 L 7 27 L 7 6 z M 9 13 L 9 15 L 11 15 L 11 13 L 9 13 z M 13 13 L 13 15 L 23 15 L 23 13 L 13 13 z M 9 17 L 9 19 L 11 19 L 11 17 L 9 17 z M 13 17 L 13 19 L 23 19 L 23 17 L 13 17 z M 9 21 L 9 23 L 11 23 L 11 21 L 9 21 z M 13 21 L 13 23 L 23 23 L 23 21 L 13 21 z"},child:[]}]})(n)}function Xj(n){return qt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"},child:[]}]})(n)}function Zj(n){return qt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9 6h2v14H9zm4 2h2v12h-2zm4-4h2v16h-2zM5 12h2v8H5z"},child:[]}]})(n)}function Jj(n){return qt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M251.76,88.94l-120-64a8,8,0,0,0-7.52,0l-120,64a8,8,0,0,0,0,14.12L32,117.87v48.42a15.91,15.91,0,0,0,4.06,10.65C49.16,191.53,78.51,216,128,216a130,130,0,0,0,48-8.76V240a8,8,0,0,0,16,0V199.51a115.63,115.63,0,0,0,27.94-22.57A15.91,15.91,0,0,0,224,166.29V117.87l27.76-14.81a8,8,0,0,0,0-14.12ZM128,200c-43.27,0-68.72-21.14-80-33.71V126.4l76.24,40.66a8,8,0,0,0,7.52,0L176,143.47v46.34C163.4,195.69,147.52,200,128,200Zm80-33.75a97.83,97.83,0,0,1-16,14.25V134.93l16-8.53ZM188,118.94l-.22-.13-56-29.87a8,8,0,0,0-7.52,14.12L171,128l-43,22.93L25,96,128,41.07,231,96Z"},child:[]}]})(n)}function e4(n){return qt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13 2.5a1.5 1.5 0 0 1 3 0v11a1.5 1.5 0 0 1-3 0v-.214c-2.162-1.241-4.49-1.843-6.912-2.083l.405 2.712A1 1 0 0 1 5.51 15.1h-.548a1 1 0 0 1-.916-.599l-1.85-3.49-.202-.003A2.014 2.014 0 0 1 0 9V7a2.02 2.02 0 0 1 1.992-2.013 75 75 0 0 0 2.483-.075c3.043-.154 6.148-.849 8.525-2.199zm1 0v11a.5.5 0 0 0 1 0v-11a.5.5 0 0 0-1 0m-1 1.35c-2.344 1.205-5.209 1.842-8 2.033v4.233q.27.015.537.036c2.568.189 5.093.744 7.463 1.993zm-9 6.215v-4.13a95 95 0 0 1-1.992.052A1.02 1.02 0 0 0 1 7v2c0 .55.448 1.002 1.006 1.009A61 61 0 0 1 4 10.065m-.657.975 1.609 3.037.01.024h.548l-.002-.014-.443-2.966a68 68 0 0 0-1.722-.082z"},child:[]}]})(n)}function Ke({children:n}){const e=bn(),t=xr(),{userGroup:r,isLoadingRole:a,currentUserName:o}=Ij(),{formattedCountdown:u,countdownSeconds:h,clearTimers:d}=Dj(e,t),p=R=>R.some(M=>t.pathname===M),g=async()=>{d(),await ly(Dr),e("/")},y=a?"Carregando...":o,b=[{label:"Incio",icon:_.jsx(Qj,{size:20}),path:"/home",groups:[0,1,2]},{label:"Alunos",icon:_.jsx($j,{size:20}),path:"/buscar-aluno",groups:[1,2]},{label:"Cadastro",icon:_.jsx(Bj,{size:20}),path:"/cadastrar-aluno",groups:[1,2]},{label:"Relatrios",icon:_.jsx(Zj,{size:20}),path:"/relatorios",groups:[1,2],disabled:!0},{label:"Turmas",icon:_.jsx(Jj,{size:20}),path:"/coordenacao/turmas",groups:[1,2]},{label:"Matrculas",icon:_.jsx(Kj,{size:20}),path:"/coordenacao/matriculas",groups:[2]},{label:"Avisos",icon:_.jsx(e4,{size:20}),path:"/coordenacao/avisos",groups:[2]},{label:"Notas",icon:_.jsx(Xj,{size:20}),path:"/Notas",groups:[0]},{label:"Calendrio",icon:_.jsx(Gj,{size:20}),path:"/coordenacao/calendario",groups:[1,2]},{label:"Datas",icon:_.jsx(Wj,{size:20}),path:"/responsaveis/Data",groups:[0]}],S=[{label:"Suporte",icon:_.jsx(zj,{size:20}),path:"/suporte",disabled:!0},{label:"Configuraes",icon:_.jsx(qj,{size:20}),path:"/configuracoes",disabled:!0}];return _.jsxs("div",{className:"home-container",children:[_.jsxs("aside",{className:"sidebar",children:[_.jsx("div",{className:"sidebar-header",children:_.jsx("img",{src:Wy,alt:"Logo"})}),_.jsx("div",{className:`inactivity-timer ${h<=300?"warning":""}`,children:_.jsxs("p",{children:["Sesso expira em: ",_.jsx("strong",{children:u})]})}),_.jsxs("div",{className:"sidebar-menu-section",children:[_.jsx("p",{className:"sidebar-main-menu",children:"MENU"}),!a&&r!=null&&b.map((R,M)=>R.groups.includes(r)?_.jsxs("button",{className:`menu-btn ${p([R.path])?"active":""}`,onClick:()=>!R.disabled&&e(R.path),disabled:R.disabled,children:[R.icon," ",R.label]},M):null)]}),_.jsxs("div",{className:"sidebar-bottom",children:[_.jsx("p",{className:"sidebar-other",children:"OUTROS"}),S.map((R,M)=>_.jsxs("button",{className:`menu-btn ${p([R.path])?"active":""}`,onClick:()=>!R.disabled&&e(R.path),disabled:R.disabled,children:[R.icon," ",R.label]},M)),_.jsxs("button",{className:"menu-btn-sair",onClick:g,children:[_.jsx(Hj,{size:20})," Sair"]})]})]}),_.jsxs("main",{className:"home-content",children:[_.jsxs("div",{className:"top-header",children:[_.jsx("div",{className:"header-left-section"}),_.jsxs("div",{className:"user-profile",children:[_.jsx(Uj,{className:"notifications"}),_.jsx(Fj,{className:"messages"}),_.jsxs("div",{className:"user-info",children:[_.jsx("img",{src:xj,alt:"Avatar",className:"user-avatar"}),_.jsx("span",{children:y})]})]})]}),_.jsx("div",{className:"page-content",children:a?_.jsx(io,{text:"Carregando..."}):n})]})]})}function t4(){const[n,e]=L.useState([]),[t,r]=L.useState(null),[a,o]=L.useState(!1);L.useEffect(()=>{(async()=>{try{const p=(await ci(wn($e,"avisos"))).docs.map(g=>({id:g.id,...g.data()}));if(e(p),p.length>0){const g=p[Math.floor(Math.random()*p.length)];r(g),o(!0)}}catch(d){console.error("Erro ao buscar avisos:",d)}})()},[]);const u=()=>{o(!1)};return _.jsxs(Ke,{children:[_.jsx("div",{className:"alunos-page-container",children:_.jsx("div",{className:"page-header page-header-turmas",children:_.jsx("div",{className:"page-title-group",children:_.jsx("h1",{children:"Bem Vindo!"})})})}),a&&t&&_.jsx("div",{onClick:u,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:_.jsx("div",{onClick:h=>h.stopPropagation(),style:{backgroundColor:"white",borderRadius:"12px",padding:"15px",boxShadow:"0 4px 10px rgba(0,0,0,0.4)"},children:_.jsx("img",{src:t.imagem,alt:"Aviso",style:{height:"600px",width:"auto",objectFit:"contain",display:"block",borderRadius:"8px"}})})})]})}function n4({value:n,onChange:e,placeholder:t}){return _.jsx("input",{className:"search-bar",type:"text",value:n,onChange:r=>e(r.target.value),placeholder:t||"Buscar..."})}function r4({responsavel:n,onDownloadComprovante:e,onDownloadRgCnh:t,onCadastrar:r}){return _.jsxs("div",{className:"card",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Nome:"})," ",n.nome]}),_.jsxs("p",{children:[_.jsx("strong",{children:"CPF:"})," ",n.cpf]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Telefone:"})," ",n.telefone]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Endereo:"})," ",n.endereco]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Email:"})," ",n.email]}),_.jsxs("div",{className:"card-buttons",children:[e&&_.jsx("button",{onClick:()=>e(n),children:"Baixar Comprovante"}),t&&_.jsx("button",{onClick:()=>t(n),children:"Baixar RG/CNH"}),r&&_.jsx("button",{onClick:()=>r(n),children:"Cadastrar Aluno"})]})]})}function Nt({children:n,onClick:e,style:t,type:r="button",disabled:a=!1}){return _.jsx("button",{className:"app-button",onClick:e,style:t,type:r,disabled:a,children:n})}function Mv(n,e,t="application/pdf"){if(!n){alert("Arquivo no disponvel.");return}let r=n.startsWith("data:")?n:`data:${t};base64,${n}`;try{const a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch(a){console.error("Erro ao baixar arquivo:",a),alert("Falha ao baixar o arquivo.")}}function i4(){const[n,e]=L.useState(""),[t,r]=L.useState([]),a=async()=>{if(!n.trim())return alert("Digite nome ou CPF");try{const o=DS(wn($e,"responsaveis"),Lg("nome",">=",n),Lg("nome","<=",n+"")),u=DS(wn($e,"responsaveis"),Lg("cpf","==",n)),[h,d]=await Promise.all([ci(o),ci(u)]),p=[...h.docs.map(y=>({id:y.id,...y.data()})),...d.docs.map(y=>({id:y.id,...y.data()}))],g=Array.from(new Map(p.map(y=>[y.id,y])).values());r(g)}catch(o){alert("Erro ao buscar responsveis: "+o.message)}};return _.jsxs(Ke,{children:[_.jsx("h1",{children:"Buscar Responsvel"}),_.jsx(n4,{placeholder:"Digite nome ou CPF",value:n,onChange:e}),_.jsx("div",{style:{marginTop:12},children:_.jsx(Nt,{onClick:a,children:"Buscar"})}),t.length>0&&_.jsx("div",{className:"resultados-container",style:{marginTop:16},children:t.map(o=>_.jsx(r4,{responsavel:o,onDownloadComprovante:()=>Mv(o.comprovante,"comprovante.pdf"),onDownloadRgCnh:()=>Mv(o.rgCnh,"rgcnh.pdf")},o.id))})]})}function ot({label:n,type:e="text",value:t,onChange:r,placeholder:a,required:o=!1}){return _.jsxs("div",{className:"input-field",children:[n&&_.jsxs("label",{children:[n,o?" *":""]}),_.jsx("input",{type:e,value:t,onChange:u=>r(u.target.value),placeholder:a||""})]})}function Tf({label:n,accept:e=".pdf,image/*",onChange:t,required:r=!1}){const[a,o]=L.useState(""),u=h=>{const d=h.target.files&&h.target.files[0];d?(o(d.name),typeof t=="function"&&t(d)):(o(""),typeof t=="function"&&t(null))};return _.jsxs("div",{className:"input-field",style:{marginBottom:8},children:[n&&_.jsxs("label",{children:[n,r?" *":""]}),_.jsx("input",{type:"file",accept:e,onChange:u,style:{marginTop:6}}),a&&_.jsxs("div",{style:{marginTop:6,fontSize:13,color:"#333"},children:["Arquivo selecionado: ",_.jsx("strong",{children:a})]})]})}function s4(){const[n,e]=L.useState({nome:"",cpf:"",email:"",telefone:"",endereco:"",comprovante:null,rgCnh:null}),t=a=>new Promise((o,u)=>{const h=new FileReader;h.readAsDataURL(a),h.onload=()=>o(h.result),h.onerror=d=>u(d)}),r=async()=>{const{nome:a,cpf:o,email:u,telefone:h,endereco:d,comprovante:p,rgCnh:g}=n;if(!a||!o||!u||!h||!d)return alert("Preencha todos os campos obrigatrios");try{const y=p?await t(p):"",b=g?await t(g):"";await Bc(wn($e,"responsaveis"),{nome:a,cpf:o,email:u,telefone:h,endereco:d,comprovante:y,rgCnh:b,criadoEm:new Date}),alert("Responsvel cadastrado com sucesso!"),e({nome:"",cpf:"",email:"",telefone:"",endereco:"",comprovante:null,rgCnh:null})}catch(y){alert("Erro ao cadastrar responsvel: "+y.message)}};return _.jsxs(Ke,{children:[_.jsx("h1",{children:"Cadastrar Responsvel"}),_.jsx(ot,{label:"Nome",value:n.nome,onChange:a=>e({...n,nome:a})}),_.jsx(ot,{label:"CPF",value:n.cpf,onChange:a=>e({...n,cpf:a})}),_.jsx(ot,{label:"Email",value:n.email,onChange:a=>e({...n,email:a})}),_.jsx(ot,{label:"Telefone",value:n.telefone,onChange:a=>e({...n,telefone:a})}),_.jsx(ot,{label:"Endereo",value:n.endereco,onChange:a=>e({...n,endereco:a})}),_.jsx(Tf,{label:"Comprovante de residncia (PDF)",onChange:a=>e({...n,comprovante:a})}),_.jsx(Tf,{label:"RG ou CNH (PDF)",onChange:a=>e({...n,rgCnh:a})}),_.jsx(Nt,{onClick:r,children:"Salvar"})]})}function qC({headers:n=[],rows:e=[],onActionClick:t,actionLabel:r="Ao"}){if(e.length===0)return _.jsx("div",{className:"search-table-container",children:_.jsxs("table",{children:[_.jsx("thead",{children:_.jsx("tr",{children:n.map((o,u)=>_.jsx("th",{children:o},u))})}),_.jsx("tbody",{children:_.jsx("tr",{children:_.jsx("td",{colSpan:n.length,children:"Nenhum resultado encontrado."})})})]})});const a=Object.keys(e[0]).filter(o=>o!=="id"&&o!=="actionPlaceholder");return _.jsx("div",{className:"search-table-container",children:_.jsxs("table",{children:[_.jsx("thead",{children:_.jsx("tr",{children:n.map((o,u)=>_.jsx("th",{children:o},u))})}),_.jsx("tbody",{children:e.map(o=>_.jsxs("tr",{children:[a.map(u=>_.jsx("td",{style:{verticalAlign:"middle"},children:o[u]},u)),t&&_.jsx("td",{style:{verticalAlign:"middle"},children:_.jsx(Nt,{onClick:()=>t(o.id),children:r})})]},o.id))})]})})}function a4(){const[n,e]=L.useState(""),[t,r]=L.useState([]),[a,o]=L.useState([]),[u,h]=L.useState(!0),[d,p]=L.useState({idade:"",status:null,corRaca:null}),[g,y]=L.useState(!1),b=bn(),S=re=>{if(!re)return 0;const J=re.split("-");if(J.length!==3)return 0;const[I,C,N]=J.map(Number),j=new Date(I,C-1,N),V=new Date;let z=V.getFullYear()-j.getFullYear();return(V.getMonth()<j.getMonth()||V.getMonth()===j.getMonth()&&V.getDate()<j.getDate())&&z--,z>0?z:0},R=L.useCallback(()=>{let re=[...t];const J=n.toLowerCase();if(J.length>=3?re=re.filter(I=>I.alunoData?.nome?.toLowerCase().includes(J)||I.documentos?.responsavelNome?.toLowerCase().includes(J)||I.documentos?.rg?.includes(J)||I.documentos?.cpf?.includes(J)):J.length>0&&J.length<3,d.status&&(re=re.filter(I=>I.status===d.status)),d.corRaca&&(re=re.filter(I=>I.documentos?.corRaca?.toLowerCase()===d.corRaca.toLowerCase())),d.idade){const I=Number(d.idade);isNaN(I)||(re=re.filter(C=>S(C.alunoData?.dataNascimento)===I))}o(re)},[t,n,d]);L.useEffect(()=>{(async()=>{try{const I=(await ci(wn($e,"alunos"))).docs.map(C=>({id:C.id,...C.data()}));r(I)}catch(J){console.error("Erro ao carregar alunos:",J)}finally{h(!1)}})()},[]),L.useEffect(()=>{u?o(t):R()},[d,t,n,u,R]);const M=(re,J)=>{p(I=>({...I,[re]:I[re]===J?null:J})),y(!1)},x=re=>p(J=>({...J,[re]:null})),O=()=>{const re=["Branca","Preta","Parda","Indigena"],J=["Pr-matrcula","Aprovado","Cancelado","Matriculado","Rematricula"],I=({label:C,type:N,value:j})=>{const V=d[N]===j;return _.jsx("div",{onClick:()=>M(N,j),className:`filter-item ${V?"filter-item-active":""}`,children:C})};return _.jsxs("div",{className:"filter-dropdown",children:[_.jsx("p",{className:"filter-section-title",children:"STATUS"}),_.jsx("div",{className:"filter-section",children:J.map(C=>_.jsx(I,{label:C,type:"status",value:C},C))}),_.jsx("p",{className:"filter-section-title filter-section-divider",children:"RAA/COR"}),_.jsx("div",{className:"filter-section",children:re.map(C=>_.jsx(I,{label:C,type:"corRaca",value:C},C))})]})},H=re=>{b(`/aluno-perfil/${re}`)},Z=re=>{if(!re)return"";const J=re.split("-");if(J.length===3){const[I,C,N]=J;return`${N}/${C}/${I}`}return re},le=re=>{const J=re||"";let I="";const C=J.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return C==="pr-matricula"||C==="pre-matricula"?I="status-pre-matricula":C==="cancelado"?I="status-cancelado":C==="aprovado"?I="status-aprovado":C==="matriculado"?I="status-matriculado":C==="rematricula"&&(I="status-rematricula"),_.jsx("span",{className:I,children:J})};return u?_.jsx(Ke,{children:_.jsx(io,{text:"Carregando alunos..."})}):_.jsx(Ke,{children:_.jsxs("div",{className:"alunos-page-container",children:[_.jsx("div",{className:"page-header",children:_.jsx("div",{className:"page-title-group",children:_.jsx("h1",{children:"Buscar Aluno"})})}),_.jsxs("div",{className:"filter-controls-container",children:[_.jsxs("div",{className:"filter-button-wrapper",children:[_.jsx("button",{onClick:()=>y(!g),className:`filter-button ${g?"filter-button-active":"filter-button-inactive"}`,children:_.jsx(FC,{size:20})}),g&&_.jsx(O,{})]}),_.jsxs("div",{className:"busca-input-group",style:{flexGrow:1,display:"flex",gap:"10px"},children:[_.jsx("input",{type:"number",placeholder:"Idade",value:d.idade,onChange:re=>p(J=>({...J,idade:re.target.value})),className:"idade-input"}),_.jsx("input",{type:"text",className:"busca-input",placeholder:"Buscar por nome, responsvel ou RG/CPF (mn. 3 caracteres)",value:n,onChange:re=>e(re.target.value),onKeyDown:re=>{re.key==="Enter"&&R()},style:{flexGrow:1}})]})]}),_.jsx("div",{className:"active-filters-display",children:Object.entries(d).map(([re,J])=>J&&_.jsxs("div",{className:"filter-tag",children:[_.jsxs("span",{children:[re==="idade"?"Idade":re,":"]})," ",J,_.jsx("button",{onClick:()=>x(re),className:"filter-tag-remove-btn",children:""})]},re))}),a.length===0&&(n.length>0||Object.values(d).some(re=>re))&&_.jsx("p",{className:"busca-error",children:"Nenhum aluno encontrado."}),_.jsx(qC,{headers:["Nome do Aluno","CPF","Nascimento","Responsvel","Status","Aes"],rows:a.map(re=>({id:re.id,nome:re.alunoData?.nome||"",cpf:re.documentos?.cpf||"",nascimento:Z(re.alunoData?.dataNascimento),responsavel:re.documentos?.responsavelNome||"",status:le(re.status),actionPlaceholder:""})),onActionClick:re=>H(re),actionLabel:"Perfil"})]})})}function Vs({label:n,value:e,onChange:t,options:r}){return _.jsxs("div",{className:"input-field",children:[n&&_.jsx("label",{children:n}),_.jsxs("select",{value:e,onChange:a=>t(a.target.value),children:[_.jsx("option",{value:"",children:"Selecione"}),r.map(a=>_.jsx("option",{value:a.value,children:a.label},a.value))]})]})}function Vl({children:n}){return _.jsx("div",{className:"form-section",children:n})}function Ll({title:n,subtitle:e}){return _.jsxs("div",{className:"form-header",children:[_.jsx("h1",{children:n}),e&&_.jsx("p",{children:e})]})}function vn({message:n}){return n?_.jsxs("div",{className:"validation-message",children:[_.jsx(jj,{size:14,style:{marginRight:"5px"}}),n]}):null}function o4(n){if(!n)return"Informe uma data vlida";const e=new Date(n);if(isNaN(e.getTime()))return"Data invlida.";const t=new Date,r=new Date("1900-01-01");if(e>t)return"A data de nascimento no pode estar no futuro.";if(e<r)return"A data de nascimento  muito antiga.";const[a,o,u]=n.split("-").map(Number),h=new Date(a,o-1,u);return h.getFullYear()!==a||h.getMonth()!==o-1||h.getDate()!==u?"Data invlida (ex.: 31/02 no existe).":null}function l4(){const n=bn();L.useEffect(()=>{const d=Mc(Dr,p=>{p||n("/")});return()=>d()},[n]);const[e,t]=L.useState({nome:"",genero:"",dataNascimento:""}),[r,a]=L.useState({}),o=()=>{let d={};e.nome.trim()||(d.nome="O nome completo  obrigatrio."),e.genero||(d.genero="O gnero  obrigatrio.");const p=o4(e.dataNascimento);return p&&(d.dataNascimento=p),a(d),Object.keys(d).length===0},u=()=>{o()&&n("/alunos/formulario-documentos",{state:{alunoData:e}})},h=(d,p)=>{t(g=>({...g,[d]:p})),r[d]&&a(g=>({...g,[d]:null}))};return _.jsx(Ke,{children:_.jsxs(Vl,{children:[_.jsx(Ll,{title:"Novo Cadastro de Aluno"}),_.jsx(ot,{label:"Nome Completo *",value:e.nome,onChange:d=>h("nome",d),placeholder:"Nome completo do aluno",required:!0}),_.jsx(vn,{message:r.nome}),_.jsx(Vs,{label:"Gnero *",value:e.genero,onChange:d=>h("genero",d),options:[{value:"",label:"Selecione..."},{value:"masculino",label:"Masculino"},{value:"feminino",label:"Feminino"},{value:"outro",label:"Outro"}]}),_.jsx(vn,{message:r.genero}),_.jsx(ot,{label:"Data de Nascimento *",type:"date",value:e.dataNascimento,onChange:d=>h("dataNascimento",d),required:!0}),_.jsx(vn,{message:r.dataNascimento}),_.jsx(Nt,{onClick:u,style:{marginTop:20},children:"Prximo: Documentos"})]})})}function u4(){const{responsavelId:n}=wc(),e=bn(),[t,r]=L.useState("Carregando..."),[a,o]=L.useState({nome:"",genero:"",dataNascimento:""});L.useEffect(()=>{async function h(){try{const d=_n($e,"responsaveis",n),p=await Pl(d);p.exists()?r(p.data().nome||"Desconhecido"):r("No encontrado")}catch(d){console.error("Erro ao buscar responsvel:",d),r("Erro ao carregar")}}h()},[n]);const u=()=>{const{nome:h,genero:d,dataNascimento:p}=a;if(!h||!d||!p)return alert("Preencha todos os campos obrigatrios");e("/alunos/formulario-documentos",{state:{responsavelId:n,responsavelNome:t,alunoData:a}})};return _.jsx(Ke,{children:_.jsxs(Vl,{children:[_.jsx(Ll,{title:"Cadastro de Aluno",subtitle:`Responsvel selecionado: ${t}`}),_.jsx(ot,{label:"Nome",value:a.nome,onChange:h=>o({...a,nome:h}),placeholder:"Nome do aluno"}),_.jsx(Vs,{label:"Gnero",value:a.genero,onChange:h=>o({...a,genero:h}),options:[{value:"",label:"Selecione"},{value:"masculino",label:"Masculino"},{value:"feminino",label:"Feminino"},{value:"outro",label:"Outro"}]}),_.jsx(ot,{label:"Data de Nascimento",type:"date",value:a.dataNascimento,onChange:h=>o({...a,dataNascimento:h})}),_.jsx(Nt,{onClick:u,style:{marginTop:20},children:"Prximo"})]})})}const c4=n=>n.replace(/\D/g,"");function h4(){const n=xr(),e=bn(),{alunoData:t}=n.state||{};L.useEffect(()=>{const g=Mc(Dr,y=>{y||e("/")});return()=>g()},[e]);const[r,a]=L.useState({rg:"",cpf:"",sus:"",corRaca:"",nomePai:"",nomeMae:"",responsavelNome:"",responsavelRg:"",responsavelCpf:"",responsavelProfissao:"",responsavelContato:""}),[o,u]=L.useState({}),h=(g,y)=>{["rg","cpf","sus","responsavelRg","responsavelCpf","responsavelContato"].includes(g)&&(y=c4(y)),a(b=>({...b,[g]:y})),o[g]&&u(b=>({...b,[g]:null}))},d=()=>{let g={};return r.rg.trim()?r.rg.length<5&&(g.rg="O RG do aluno deve ter pelo menos 5 dgitos."):g.rg="O RG do aluno  obrigatrio.",r.corRaca||(g.corRaca="A cor/raa  obrigatria."),r.responsavelNome.trim()||(g.responsavelNome="O nome do responsvel  obrigatrio."),r.responsavelRg.trim()?r.responsavelRg.length<5&&(g.responsavelRg="O RG do responsvel deve ter pelo menos 5 dgitos."):g.responsavelRg="O RG do responsvel  obrigatrio.",r.responsavelContato.trim()?r.responsavelContato.length<8&&(g.responsavelContato="O contato do responsvel  invlido."):g.responsavelContato="O nmero de contato do responsvel  obrigatrio.",u(g),Object.keys(g).length===0},p=()=>{d()&&e("/alunos/formulario-socio-economico",{state:{alunoData:t,documentos:r}})};return _.jsx(Ke,{children:_.jsxs(Vl,{children:[_.jsx(Ll,{title:"Cadastro de Documentos",subtitle:`Aluno: ${t?.nome||"Novo Aluno"}`}),_.jsx("h3",{children:"Documentos de Identificao do Aluno"}),_.jsx(ot,{label:"RG do Aluno *",value:r.rg,onChange:g=>h("rg",g),placeholder:"Apenas nmeros (Ex: 123456789)",maxLength:15,keyboardType:"numeric"}),_.jsx(vn,{message:o.rg}),_.jsx(ot,{label:"CPF do Aluno (Opcional)",value:r.cpf,onChange:g=>h("cpf",g),placeholder:"Apenas nmeros (Ex: 12345678900)",maxLength:11,keyboardType:"numeric"}),_.jsx(ot,{label:"SUS do Aluno (Opcional)",value:r.sus,onChange:g=>h("sus",g),placeholder:"Nmero do Carto SUS",maxLength:15,keyboardType:"numeric"}),_.jsx(Vs,{label:"Cor/Raa do Aluno *",value:r.corRaca,onChange:g=>h("corRaca",g),options:[{value:"",label:"Selecione..."},{value:"branca",label:"Branca"},{value:"preta",label:"Preta"},{value:"parda",label:"Parda"},{value:"indigena",label:"Indgena"}]}),_.jsx(vn,{message:o.corRaca}),_.jsx("h3",{children:"Filiao do Aluno (Opcional)"}),_.jsx(ot,{label:"Nome do Pai",value:r.nomePai,onChange:g=>h("nomePai",g),placeholder:"Nome completo do pai"}),_.jsx(ot,{label:"Nome da Me",value:r.nomeMae,onChange:g=>h("nomeMae",g),placeholder:"Nome completo da me"}),_.jsx("h3",{style:{marginTop:40},children:"Responsvel*"}),_.jsx(ot,{label:"Nome do Responsvel *",value:r.responsavelNome,onChange:g=>h("responsavelNome",g),placeholder:"Nome completo do responsvel"}),_.jsx(vn,{message:o.responsavelNome}),_.jsx(ot,{label:"RG do Responsvel *",value:r.responsavelRg,onChange:g=>h("responsavelRg",g),placeholder:"RG do responsvel (Apenas nmeros)",maxLength:15,keyboardType:"numeric"}),_.jsx(vn,{message:o.responsavelRg}),_.jsx(ot,{label:"CPF do Responsvel (Opcional)",value:r.responsavelCpf,onChange:g=>h("responsavelCpf",g),placeholder:"CPF do responsvel (Apenas nmeros)",maxLength:11,keyboardType:"numeric"}),_.jsx(ot,{label:"Profisso do Responsvel (Opcional)",value:r.responsavelProfissao,onChange:g=>h("responsavelProfissao",g),placeholder:"Profisso"}),_.jsx(ot,{label:"Nmero para Contato do Responsvel *",value:r.responsavelContato,onChange:g=>h("responsavelContato",g),placeholder:"Ex: (00) 90000-0000",maxLength:11,keyboardType:"numeric"}),_.jsx(vn,{message:o.responsavelContato}),_.jsx(Nt,{onClick:p,style:{marginTop:20},children:"Prximo: Socioeconmico"})]})})}function d4(){const n=xr(),e=bn(),{alunoData:t,documentos:r}=n.state||{};L.useEffect(()=>{const y=Mc(Dr,b=>{b||e("/")});return()=>y()},[e]);const[a,o]=L.useState({situacao:"",valorAluguel:"",abastecimentoAgua:"",tratamentoEsgoto:"",coletaLixo:"",televisao:0,geladeira:0,computador:0,carro:0,moto:0}),[u,h]=L.useState({}),d=(y,b)=>{let S=b;if(["televisao","geladeira","computador","carro","moto"].includes(y)){const R=parseInt(b,10);S=isNaN(R)||R<0?0:R}y==="valorAluguel"&&b===""&&(S=""),o(R=>({...R,[y]:S})),u[y]&&h(R=>({...R,[y]:null}))},p=()=>{let y={};return a.situacao||(y.situacao="A situao habitacional  obrigatria."),a.abastecimentoAgua||(y.abastecimentoAgua="O tipo de abastecimento de gua  obrigatrio."),a.tratamentoEsgoto||(y.tratamentoEsgoto="O tipo de tratamento de esgoto  obrigatrio."),a.coletaLixo||(y.coletaLixo="A informao sobre a coleta de lixo  obrigatria."),h(y),Object.keys(y).length===0},g=()=>{if(!p())return;const{situacao:y,valorAluguel:b,abastecimentoAgua:S,tratamentoEsgoto:R,coletaLixo:M,...x}=a;e("/alunos/formulario-conclusao",{state:{alunoData:t,documentos:r,habitacao:{situacao:y,valorAluguel:b,abastecimentoAgua:S,tratamentoEsgoto:R,coletaLixo:M},bens:x}})};return _.jsx(Ke,{children:_.jsxs(Vl,{children:[_.jsx(Ll,{title:"Informaes Socioeconmicas",subtitle:`Aluno: ${t?.nome||"Novo Aluno"}`}),_.jsx("h3",{children:"Situao Habitacional e Saneamento *"}),_.jsx(Vs,{label:"Situao da Moradia *",value:a.situacao,onChange:y=>d("situacao",y),options:[{value:"",label:"Selecione..."},{value:"propria",label:"Prpria"},{value:"alugada",label:"Alugada"},{value:"cedida",label:"Cedida"},{value:"ocupacao",label:"Ocupao"}]}),_.jsx(vn,{message:u.situacao}),a.situacao==="alugada"&&_.jsx(ot,{label:"Valor do Aluguel (R$)",type:"number",value:a.valorAluguel,onChange:y=>d("valorAluguel",y),placeholder:"0,00",min:"0"}),_.jsx(Vs,{label:"Abastecimento de gua *",value:a.abastecimentoAgua,onChange:y=>d("abastecimentoAgua",y),options:[{value:"",label:"Selecione..."},{value:"rede",label:"Rede pblica"},{value:"poco",label:"Poo/Cisterna"},{value:"outros",label:"Outros"}]}),_.jsx(vn,{message:u.abastecimentoAgua}),_.jsx(Vs,{label:"Tratamento de Esgoto *",value:a.tratamentoEsgoto,onChange:y=>d("tratamentoEsgoto",y),options:[{value:"",label:"Selecione..."},{value:"rede",label:"Rede pblica"},{value:"fossa",label:"Fossa sptica"},{value:"outros",label:"Outros"}]}),_.jsx(vn,{message:u.tratamentoEsgoto}),_.jsx(Vs,{label:"Coleta de Lixo *",value:a.coletaLixo,onChange:y=>d("coletaLixo",y),options:[{value:"",label:"Selecione..."},{value:"coleta_direta",label:"Servio de Coleta (Caminho)"},{value:"queima",label:"Queima/Enterra"},{value:"outro",label:"Outros"}]}),_.jsx(vn,{message:u.coletaLixo}),_.jsx("h3",{children:"Bens e Equipamentos (Opcional)"}),_.jsx(ot,{label:"N de Televises",type:"number",value:a.televisao,onChange:y=>d("televisao",y),placeholder:"0",min:"0"}),_.jsx(ot,{label:"N de Geladeiras",type:"number",value:a.geladeira,onChange:y=>d("geladeira",y),placeholder:"0",min:"0"}),_.jsx(ot,{label:"N de Computadores/Notebooks",type:"number",value:a.computador,onChange:y=>d("computador",y),placeholder:"0",min:"0"}),_.jsx(ot,{label:"N de Carros",type:"number",value:a.carro,onChange:y=>d("carro",y),placeholder:"0",min:"0"}),_.jsx(ot,{label:"N de Motos",type:"number",value:a.moto,onChange:y=>d("moto",y),placeholder:"0",min:"0"}),_.jsx(Nt,{onClick:g,style:{marginTop:20},children:"Prximo: Concluso"})]})})}const US=n=>new Promise((e,t)=>{const r=new FileReader;r.readAsDataURL(n),r.onload=()=>e(r.result),r.onerror=a=>t(a)});function f4(){const n=xr(),e=bn(),{alunoData:t,documentos:r,habitacao:a,bens:o}=n.state||{},[u,h]=L.useState({certidaoNascimento:null,comprovanteResidencia:null}),[d,p]=L.useState({}),[g,y]=L.useState(!1),[b,S]=L.useState(null);L.useEffect(()=>{const O=Mc(Dr,H=>{H?S(H.uid):e("/")});return()=>O()},[e]);const R=(O,H)=>{h(Z=>({...Z,[O]:H})),d[O]&&p(Z=>({...Z,[O]:null}))},M=()=>{let O={};return u.certidaoNascimento||(O.certidaoNascimento="A Certido de Nascimento  obrigatria."),u.comprovanteResidencia||(O.comprovanteResidencia="Comprovante de Residncia  obrigatrio."),p(O),Object.keys(O).length===0},x=async()=>{if(!(!M()||!t)){if(!b){console.error("Sesso expirada ou usurio no autenticado."),alert("Sesso expirada ou usurio no autenticado. Por favor, faa login novamente."),y(!1),e("/");return}y(!0);try{const O=await US(u.certidaoNascimento),H=await US(u.comprovanteResidencia),Z={alunoData:t,documentos:r,habitacao:a,bens:o,arquivos:{certidaoNascimentoBase64:O,comprovanteResidenciaBase64:H},createdBy:b,createdAt:new Date,status:"Pr-matrcula"};await Bc(wn($e,"alunos"),Z),alert(`Aluno ${t.nome} salvo com sucesso!`),e("/home")}catch(O){console.error("Erro ao salvar aluno:",O);let H="Ocorreu um erro ao salvar os dados. Verifique o console.";O.message&&O.message.includes("exceeds the maximum allowed")||O.message.includes("cannot be written because its size (1,530,505 bytes) ")?H="O documento  muito grande! Tente reenviar arquivos menores (PDFs com menos de 700KB no total).":O.message&&O.message.includes("Permission denied")&&(H="Permisso negada. Verifique as regras do Firestore."),alert(H)}finally{y(!1)}}};return _.jsx(Ke,{children:_.jsxs(Vl,{children:[_.jsx(Ll,{title:"Concluso do Cadastro",subtitle:`Aluno: ${t?.nome||"Novo Aluno"}`}),_.jsx("h3",{children:"Envio de Documentos (Obrigatrio)"}),_.jsx(Tf,{label:"Certido de Nascimento *",accept:".pdf,image/*",required:!0,onChange:O=>R("certidaoNascimento",O)}),_.jsx(vn,{message:d.certidaoNascimento}),_.jsx(Tf,{label:"Comprovante de Residncia *",accept:".pdf,image/*",required:!0,onChange:O=>R("comprovanteResidencia",O)}),_.jsx(vn,{message:d.comprovanteResidencia}),_.jsx("p",{style:{marginTop:20,fontStyle:"italic",fontSize:"13px",color:"#6C757D"},children:"Os arquivos devem ser enviados no formato PDF e no podem exceder 700KB no total para o documento."}),_.jsx(Nt,{onClick:x,style:{marginTop:30},disabled:g,children:g?_.jsx(io,{text:"Salvando..."}):"Salvar Cadastro"})]})})}async function m4(n,e){if(!e)throw new Error("Nenhum arquivo fornecido");if(!e.type.startsWith("image/"))throw new Error("Arquivo no  uma imagem");return new Promise((t,r)=>{const a=new FileReader;a.onloadend=async()=>{const o=a.result;try{const u=_n($e,"alunos",n);await Fa(u,{fotoPerfil:o}),t(o)}catch(u){r(u)}},a.onerror=o=>r(o),a.readAsDataURL(e)})}const p4=n=>{if(!n)return"";const e=n.split("-");if(e.length===3){const[t,r,a]=e;return`${a}/${r}/${t}`}return n};function g4(){const{id:n}=wc(),e=bn(),[t,r]=L.useState(null),[a,o]=L.useState(!0),[u,h]=L.useState(null);L.useEffect(()=>{(async()=>{try{const x=_n($e,"alunos",n),O=await Pl(x);O.exists()?r(O.data()):h("Aluno no encontrado ou ID invlido.")}catch(x){console.error("Erro ao carregar aluno:",x),h("Falha ao carregar dados do aluno. Verifique sua conexo ou regras do Firestore.")}finally{o(!1)}})()},[n]);const d=(M,x)=>{M?Mv(M,x):alert("Arquivo no disponvel ou corrompido.")},p=async M=>{const x=M.target.files[0];if(x)try{const O=await m4(n,x);alert("Foto de perfil atualizada com sucesso!"),r(H=>({...H,fotoPerfil:O}))}catch(O){console.error("Erro ao atualizar foto de perfil:",O),alert("No foi possvel atualizar a foto. Tente novamente.")}};if(a)return _.jsx(Ke,{children:_.jsx("p",{children:"Carregando perfil..."})});if(u)return _.jsx(Ke,{children:_.jsxs("p",{className:"erro-mensagem",children:["Erro: ",u]})});if(!t)return _.jsx(Ke,{children:_.jsx("p",{children:"Aluno no encontrado."})});const{alunoData:g,documentos:y,habitacao:b,bens:S,arquivos:R}=t;return _.jsxs(Ke,{children:[_.jsxs("div",{className:"aluno-cabecalho",children:[_.jsxs(Nt,{onClick:()=>e("/buscar-aluno"),children:[_.jsx(HC,{})," Voltar  Busca"]}),_.jsxs("h1",{children:["Perfil de ",g?.nome||"Aluno Desconhecido"]})]}),_.jsx("hr",{}),_.jsxs("div",{className:"foto-perfil-container",children:[_.jsx("h2",{children:"Foto de Perfil"}),_.jsxs("div",{className:"foto-perfil-inner",children:[t?.fotoPerfil?_.jsx("img",{src:t.fotoPerfil,alt:"Avatar do Aluno",className:"foto-perfil-img"}):_.jsx("div",{className:"foto-perfil-placeholder",children:t?.alunoData?.nome?.charAt(0)||"?"}),_.jsx("input",{id:"foto-perfil-input",type:"file",accept:"image/*",onChange:p,style:{display:"none"}}),_.jsx("label",{htmlFor:"foto-perfil-input",className:"custom-file-button",children:"Alterar Foto"})]})]}),_.jsxs("div",{className:"perfil-section",children:[_.jsx("h2",{children:"Dados Pessoais do Aluno"}),_.jsxs("div",{className:"perfil-grid",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Nome Completo:"})," ",g?.nome||""]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Data de Nasc.:"})," ",p4(g?.dataNascimento)]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Gnero:"})," ",g?.genero||""]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Cor/Raa:"})," ",y?.corRaca||""]})]})]}),_.jsxs("div",{className:"perfil-section",children:[_.jsx("h2",{children:"Documentos e Filiao"}),_.jsxs("div",{className:"perfil-grid",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"RG do Aluno:"})," ",y?.rg||""]}),_.jsxs("p",{children:[_.jsx("strong",{children:"CPF do Aluno:"})," ",y?.cpf||"No Informado"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Carto SUS:"})," ",y?.sus||"No Informado"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Nome do Pai:"})," ",y?.nomePai||"No Informado"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Nome da Me:"})," ",y?.nomeMae||"No Informado"]})]})]}),_.jsxs("div",{className:"perfil-section",children:[_.jsx("h2",{children:"Dados do Responsvel pela Matrcula"}),_.jsxs("div",{className:"perfil-grid",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Nome:"})," ",y?.responsavelNome||""]}),_.jsxs("p",{children:[_.jsx("strong",{children:"RG:"})," ",y?.responsavelRg||""]}),_.jsxs("p",{children:[_.jsx("strong",{children:"CPF:"})," ",y?.responsavelCpf||"No Informado"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Profisso:"})," ",y?.responsavelProfissao||"No Informado"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Contato:"})," ",y?.responsavelContato||""]})]})]}),_.jsxs("div",{className:"perfil-section",children:[_.jsx("h2",{children:"Habitao e Saneamento"}),_.jsxs("div",{className:"perfil-grid",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Situao:"})," ",b?.situacao||""]}),b?.situacao==="alugada"&&_.jsxs("p",{children:[_.jsx("strong",{children:"Valor Aluguel (R$):"})," ",b?.valorAluguel||"0,00"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"gua:"})," ",b?.abastecimentoAgua||""]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Esgoto:"})," ",b?.tratamentoEsgoto||""]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Lixo:"})," ",b?.coletaLixo||""]})]})]}),_.jsxs("div",{className:"perfil-section",children:[_.jsx("h2",{children:"Bens e Equipamentos"}),_.jsxs("div",{className:"perfil-grid",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Televises:"})," ",S?.televisao||0]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Geladeiras:"})," ",S?.geladeira||0]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Computadores:"})," ",S?.computador||0]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Carros:"})," ",S?.carro||0]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Motos:"})," ",S?.moto||0]})]})]}),_.jsxs("div",{className:"perfil-section",children:[_.jsx("h2",{children:"Documentos Anexados"}),_.jsx("p",{className:"documentos-info",children:"Clique para baixar os arquivos."}),_.jsxs("div",{className:"documentos-buttons",children:[_.jsxs(Nt,{onClick:()=>d(R?.certidaoNascimentoBase64,"certidao.pdf"),disabled:!R?.certidaoNascimentoBase64,children:[_.jsx(jS,{})," Certidao"]}),_.jsxs(Nt,{onClick:()=>d(R?.comprovanteResidenciaBase64,"comprovante_residencia.pdf"),disabled:!R?.comprovanteResidenciaBase64,children:[_.jsx(jS,{})," Residencia"]})]})]})]})}function v4(n,e,t,r){let a=[...n];const o=e.toLowerCase();if(o.length>=3&&(a=a.filter(u=>u.alunoData?.nome?.toLowerCase().includes(o)||u.status?.toLowerCase().includes(o))),t.status&&(a=a.filter(u=>u.status===t.status)),t.corRaca&&(a=a.filter(u=>u.documentos?.corRaca?.toLowerCase()===t.corRaca.toLowerCase())),t.idade){const u=Number(t.idade);isNaN(u)||(a=a.filter(h=>r(h.alunoData?.dataNascimento)===u))}return a}function y4(){const[n,e]=L.useState(""),[t,r]=L.useState([]),[a,o]=L.useState([]),[u,h]=L.useState(!0),[d,p]=L.useState({idade:"",status:null,corRaca:null}),[g,y]=L.useState(!1),b=bn(),S=J=>{if(!J)return 0;const I=J.split("-");if(I.length!==3)return 0;const[C,N,j]=I.map(Number),V=new Date(C,N-1,j),z=new Date;let k=z.getFullYear()-V.getFullYear();return(z.getMonth()<V.getMonth()||z.getMonth()===V.getMonth()&&z.getDate()<V.getDate())&&k--,k>0?k:0},R=()=>{const J=v4(t,n,d,S).filter(I=>(I.status||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()!=="matriculado");o(J)};L.useEffect(()=>{(async()=>{try{const C=(await ci(wn($e,"alunos"))).docs.map(N=>({id:N.id,...N.data()})).filter(N=>(N.status||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()!=="matriculado");r(C)}catch(I){console.error("Erro ao carregar alunos para Matrculas:",I)}finally{h(!1)}})()},[]),L.useEffect(()=>{u||R()},[d,t,n,u]);const M=()=>R(),x=J=>{b(`/coordenacao/analise/${J}`)},O=J=>{if(!J)return"";const[I,C,N]=J.split("-");return`${N}/${C}/${I}`},H=J=>{const I=J||"";let C="";const N=I.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return N.toLowerCase()==="pr-matricula"||N.toLowerCase()==="pre-matricula"?C="status-pre-matricula":N.toLowerCase()==="cancelado"?C="status-cancelado":N.toLowerCase()==="aprovado"?C="status-aprovado":N.toLowerCase()==="matriculado"?C="status-matriculado":N.toLowerCase()==="rematricula"&&(C="status-rematricula"),_.jsx("span",{className:C,children:I})},Z=(J,I)=>{p(C=>({...C,[J]:C[J]===I?null:I})),y(!1)},le=J=>p(I=>({...I,[J]:null})),re=()=>{const J=["Branca","Preta","Parda","Indigena"],I=["Pr-matrcula","Aprovado","Cancelado","Matriculado","Rematricula"],C=({label:N,type:j,value:V})=>{const z=d[j]===V;return _.jsx("div",{onClick:()=>Z(j,V),className:`filter-item ${z?"filter-item-active":""}`,children:N})};return _.jsxs("div",{className:"filter-dropdown",children:[_.jsx("p",{className:"filter-section-title",children:"STATUS"}),_.jsx("div",{className:"filter-section",children:I.map(N=>_.jsx(C,{label:N,type:"status",value:N},N))}),_.jsx("p",{className:"filter-section-title filter-section-divider",children:"RAA/COR"}),_.jsx("div",{className:"filter-section",children:J.map(N=>_.jsx(C,{label:N,type:"corRaca",value:N},N))})]})};return u?_.jsx(Ke,{children:_.jsx(io,{text:"Carregando dados de matrculas..."})}):_.jsx(Ke,{children:_.jsxs("div",{className:"alunos-page-container",children:[_.jsx("div",{className:"page-header",children:_.jsx("div",{className:"page-title-group",children:_.jsx("h1",{children:"Gesto de Matrculas"})})}),_.jsxs("div",{className:"filter-controls-container",children:[_.jsxs("div",{className:"filter-button-wrapper",children:[_.jsx("button",{onClick:()=>y(!g),className:`filter-button ${g?"filter-button-active":"filter-button-inactive"}`,children:_.jsx(FC,{size:20})}),g&&_.jsx(re,{})]}),_.jsxs("div",{className:"busca-input-group",style:{flexGrow:1,display:"flex",gap:"10px"},children:[_.jsx("input",{type:"number",placeholder:"Idade",value:d.idade,onChange:J=>p(I=>({...I,idade:J.target.value})),className:"idade-input"}),_.jsx("input",{type:"text",className:"busca-input",placeholder:"Buscar por nome do aluno",value:n,onChange:J=>e(J.target.value),onKeyDown:J=>{J.key==="Enter"&&M()},style:{flexGrow:1}})]})]}),_.jsx("div",{className:"active-filters-display",children:Object.entries(d).map(([J,I])=>I&&_.jsxs("div",{className:"filter-tag",children:[_.jsxs("span",{children:[J==="idade"?"Idade":J,":"]})," ",I,_.jsx("button",{onClick:()=>le(J),className:"filter-tag-remove-btn",children:""})]},J))}),a.length===0&&(n.length>0||Object.values(d).some(J=>J))&&_.jsx("p",{className:"busca-error",children:"Nenhum aluno encontrado."}),_.jsx(qC,{headers:["Nome do Aluno","Nascimento","Idade","Raa/Cor","Status","Aes"],rows:a.map(J=>({id:J.id,nome:J.alunoData?.nome||"",nascimento:O(J.alunoData?.dataNascimento),idade:S(J.alunoData?.dataNascimento)||"",corRaca:J.documentos?.corRaca||"",status:H(J.status),actionPlaceholder:""})),onActionClick:x,actionLabel:"Analisar"})]})})}function _4(){return _.jsxs(Ke,{children:[_.jsx("h1",{children:"Calendrio Exibio"}),_.jsx("p",{children:"Aqui ser a gesto de relatrio dos alunos"}),_.jsx("p",{children:"O cone e nome no menu sero alterados"})]})}const E4=n=>{if(!n)return"";const e=n.split("-");if(e.length===3){const[t,r,a]=e;return`${a}/${r}/${t}`}return n};function b4(){const{id:n}=wc(),e=bn(),[t,r]=L.useState(null),[a,o]=L.useState(!0),[u,h]=L.useState(!1);L.useEffect(()=>{(async()=>{try{const R=await Pl(_n($e,"alunos",n));R.exists()&&r(R.data())}catch(R){console.log("Erro ao buscar aluno:",R)}o(!1)})()},[n]);const d=async S=>{if(!u){h(!0);try{await Fa(_n($e,"alunos",n),{status:S}),alert(`Status atualizado para: ${S}`),e("/coordenacao/matriculas")}catch(R){console.log("Erro ao atualizar status:",R)}finally{h(!1)}}};if(a)return _.jsx(Ke,{children:_.jsx("p",{children:"Carregando anlise..."})});if(!t)return _.jsx(Ke,{children:_.jsx("p",{children:"Aluno no encontrado."})});const{alunoData:p,documentos:g,habitacao:y,bens:b}=t;return _.jsxs(Ke,{children:[_.jsxs("div",{className:"perfil-header",children:[_.jsxs(Nt,{onClick:()=>e("/coordenacao/matriculas"),className:"btn-voltar",children:[_.jsx(HC,{})," Voltar"]}),_.jsxs("h1",{className:"perfil-titulo",children:["Anlise de ",p?.nome]})]}),_.jsx("hr",{className:"perfil-divisor"}),_.jsxs("div",{className:"perfil-section",children:[_.jsx("h2",{children:"Dados Pessoais"}),_.jsxs("div",{className:"perfil-grid",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Nome:"})," ",p?.nome]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Nascimento:"})," ",E4(p?.dataNascimento)]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Gnero:"})," ",p?.genero]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Cor/Raa:"})," ",g?.corRaca]})]})]}),_.jsxs("div",{className:"perfil-section",children:[_.jsx("h2",{children:"Documentos e Filiao"}),_.jsxs("div",{className:"perfil-grid",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"RG:"})," ",g?.rg]}),_.jsxs("p",{children:[_.jsx("strong",{children:"CPF:"})," ",g?.cpf||"No informado"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Nome do Pai:"})," ",g?.nomePai]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Nome da Me:"})," ",g?.nomeMae]})]})]}),_.jsxs("div",{className:"perfil-section",children:[_.jsx("h2",{children:"Responsvel"}),_.jsxs("div",{className:"perfil-grid",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Nome:"})," ",g?.responsavelNome]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Contato:"})," ",g?.responsavelContato]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Profisso:"})," ",g?.responsavelProfissao]})]})]}),_.jsxs("div",{className:"perfil-section",children:[_.jsx("h2",{children:"Bens"}),_.jsxs("div",{className:"perfil-grid",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Carro:"})," ",b?.carro]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Computador:"})," ",b?.computador]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Geladeira:"})," ",b?.geladeira]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Moto:"})," ",b?.moto]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Televiso:"})," ",b?.televisao]})]})]}),_.jsxs("div",{className:"perfil-section",children:[_.jsx("h2",{children:"Habitao"}),_.jsxs("div",{className:"perfil-grid",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Situao:"})," ",y?.situacao]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Abastecimento de gua:"})," ",y?.abastecimentoAgua]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Coleta de lixo:"})," ",y?.coletaLixo]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Tratamento de esgoto:"})," ",y?.tratamentoEsgoto]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Valor do aluguel:"})," ",y?.valorAluguel||""]})]})]}),_.jsxs("div",{className:"perfil-acoes",children:[_.jsx(Nt,{className:"btn-aprovar",onClick:()=>d("Aprovado"),disabled:u,children:u?"Processando...":"Aprovar Matrcula"}),_.jsx(Nt,{className:"btn-rejeitar",onClick:()=>d("Cancelado"),disabled:u,children:u?"Processando...":"Rejeitar Matrcula"})]})]})}const A4=({turma:n,onClick:e,onAddAluno:t})=>{const r=n.membros||[],a=n.totalMembros||0;return _.jsxs("div",{className:"turma-card",children:[_.jsx("div",{className:"turma-card-header",children:_.jsx("h2",{className:"turma-card-title",children:n.nome||`Turma ${n.id.substring(0,4)}`})}),_.jsxs("div",{className:"turma-card-members-info",children:[a," Membros"]}),_.jsxs("ul",{className:"turma-card-members-list",children:[r.slice(0,5).map((o,u)=>_.jsxs("li",{className:"turma-card-member-item",onClick:()=>e(n.id),children:[o.fotoPerfil?_.jsx("img",{src:o.fotoPerfil,alt:o.nome,className:"member-avatar-img"}):_.jsx("div",{className:"member-avatar",children:o.nome.charAt(0)}),_.jsx("span",{className:"member-name",children:o.nome})]},u)),a===0&&_.jsx("li",{className:"turma-card-member-item",style:{justifyContent:"center",color:"#6b7280",padding:"15px 0"},children:_.jsx("span",{children:"Turma vazia"})})]}),_.jsxs("div",{style:{marginTop:"10px",display:"flex",gap:"10px",justifyContent:"center"},children:[_.jsx(Nt,{variant:"azul",onClick:()=>t(n.id),children:"Adicionar Aluno"}),_.jsx(Nt,{variant:"cinza",onClick:()=>e(`editar:${n.id}`),children:"Editar Turma"})]})]})};function BS(){const[n,e]=L.useState([]),[t,r]=L.useState(""),[a,o]=L.useState([]),[u,h]=L.useState(!0),d=bn();L.useEffect(()=>{(async()=>{try{const R=await ci(wn($e,"turmas"));let M=[];for(const x of R.docs){const O=x.data();let H=[];if(Array.isArray(O.membros))for(const Z of O.membros){const le=_n($e,"alunos",Z),re=await Pl(le);if(re.exists()){const J=re.data(),I=J?.alunoData?.nome||"Aluno sem nome",C=J?.fotoPerfil||null;H.push({id:Z,nome:I,fotoPerfil:C})}}M.push({id:x.id,...O,membros:H,totalMembros:H.length})}e(M),o(M)}catch(R){console.error("Erro ao carregar turmas:",R)}finally{h(!1)}})()},[]);const p=()=>d("/coordenacao/criarTurma"),g=S=>d(`/coordenacao/turmas/${S}`),y=S=>d(`/coordenacao/turmas/${S}/adicionar-aluno`),b=S=>{r(S);const R=S.toLowerCase();o(n.filter(M=>(M.nome||"").toLowerCase().includes(R)))};return u?_.jsx(Ke,{children:_.jsx(io,{text:"Carregando turmas..."})}):_.jsx(Ke,{children:_.jsxs("div",{className:"alunos-page-container",children:[_.jsxs("div",{className:"page-header page-header-turmas",children:[_.jsx("div",{className:"page-title-group",children:_.jsx("h1",{children:"Gesto de Turmas"})}),_.jsx(Nt,{variant:"verde",onClick:p,children:"+ Criar Turma"})]}),_.jsx("div",{className:"filter-controls-container",children:_.jsx("div",{className:"busca-input-group",style:{flexGrow:1},children:_.jsx("input",{type:"text",className:"busca-input",placeholder:"Buscar turma por nome...",value:t,onChange:S=>b(S.target.value)})})}),a.length===0?_.jsx("p",{className:"busca-error",children:"Nenhuma turma encontrada."}):_.jsx("div",{className:"turmas-grid",children:a.map(S=>_.jsx(A4,{turma:S,onClick:R=>{if(R.startsWith("editar:")){const M=R.replace("editar:","");d(`/coordenacao/turmas/${M}/editar`)}else g(R)},onAddAluno:y},S.id))})]})})}function T4(){const[n,e]=L.useState({nome:"",turno:""}),[t,r]=L.useState({}),[a,o]=L.useState(!1),u=bn(),h=()=>{let g={};return n.nome.trim()||(g.nome="O nome da turma  obrigatrio."),n.turno||(g.turno="O turno  obrigatrio."),r(g),Object.keys(g).length===0},d=(g,y)=>{e(b=>({...b,[g]:y})),t[g]&&r(b=>({...b,[g]:null}))},p=async()=>{if(h()){o(!0);try{await Bc(wn($e,"turmas"),{nome:n.nome,turno:n.turno,membros:[],totalMembros:0}),u("/coordenacao/turmas")}catch(g){console.error("Erro ao criar turma:",g),alert("Erro ao criar turma, tente novamente.")}finally{o(!1)}}};return _.jsx(Ke,{children:_.jsxs(Vl,{children:[_.jsx(Ll,{title:"Criar Nova Turma"}),_.jsx(ot,{label:"Nome da Turma *",value:n.nome,onChange:g=>d("nome",g),placeholder:"Ex: 1 Ano A",required:!0}),_.jsx(vn,{message:t.nome}),_.jsx(Vs,{label:"Turno *",value:n.turno,onChange:g=>d("turno",g),options:[{value:"",label:"Selecione..."},{value:"Manh",label:"Manh"},{value:"Tarde",label:"Tarde"}]}),_.jsx(vn,{message:t.turno}),_.jsx(Nt,{variant:"azul",onClick:p,disabled:a,style:{marginTop:20},children:a?"Salvando...":"Confirmar"})]})})}function S4(){const[n,e]=L.useState([]),[t,r]=L.useState(""),[a,o]=L.useState(!0),{turmaId:u}=wc();L.useEffect(()=>{(async()=>{try{const b=(await ci(wn($e,"alunos"))).docs.map(S=>({id:S.id,...S.data()})).filter(S=>(S.status||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()==="aprovado");e(b)}finally{o(!1)}})()},[]);const h=n.filter(g=>(g.alunoData?.nome||"").toLowerCase().includes(t.toLowerCase())),d=async g=>{if(!u)return;const y=_n($e,"turmas",u),b=_n($e,"alunos",g);await Fa(y,{membros:YL(g),totalMembros:PC(1)}),await Fa(b,{status:"Matriculado"}),e(S=>S.filter(R=>R.id!==g))};if(a)return _.jsx(Ke,{children:_.jsx(io,{text:"Carregando alunos aprovados..."})});const p=g=>{const y=(g||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();let b="";return y==="aprovado"?b="status-aprovado":y==="matriculado"?b="status-matriculado":y==="pre-matricula"||y==="pr-matricula"?b="status-pre-matricula":y==="rematricula"?b="status-rematricula":y==="cancelado"&&(b="status-cancelado"),_.jsx("span",{className:b,children:g||""})};return _.jsx(Ke,{children:_.jsxs("div",{className:"alunos-page-container",children:[_.jsx("div",{className:"page-header",children:_.jsx("div",{className:"page-title-group",children:_.jsx("h1",{children:"Adicionar Aluno  Turma"})})}),_.jsx("div",{className:"busca-input-group",style:{marginBottom:"15px"},children:_.jsx("input",{type:"text",className:"busca-input",placeholder:"Buscar aluno pelo nome...",value:t,onChange:g=>r(g.target.value)})}),h.length===0?_.jsx("p",{className:"busca-error",children:"Nenhum aluno aprovado encontrado."}):_.jsxs("table",{className:"tabela-padrao",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Nome"}),_.jsx("th",{children:"Responsvel"}),_.jsx("th",{children:"Status"}),_.jsx("th",{children:"Ao"})]})}),_.jsx("tbody",{children:h.map(g=>_.jsxs("tr",{children:[_.jsx("td",{children:g.alunoData?.nome||""}),_.jsx("td",{children:g.documentos?.responsavelNome||""}),_.jsx("td",{children:p(g.status)}),_.jsx("td",{children:_.jsx(Nt,{onClick:()=>d(g.id),children:"Adicionar"})})]},g.id))})]})]})})}function w4({title:n,message:e,onConfirm:t,onCancel:r,confirmText:a="Confirmar",cancelText:o="Cancelar"}){return _.jsx("div",{className:"modal-overlay",onClick:r,children:_.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[n&&_.jsx("h3",{className:"modal-title",children:n}),e&&_.jsx("p",{className:"modal-message",dangerouslySetInnerHTML:{__html:e}}),_.jsxs("div",{className:"modal-buttons",children:[_.jsx("button",{className:"cancelar",onClick:r,children:o}),_.jsx("button",{className:"remover",onClick:t,children:a})]})]})})}function R4(){const{turmaId:n}=wc(),e=bn(),[t,r]=L.useState([]),[a,o]=L.useState(!0),[u,h]=L.useState(""),[d,p]=L.useState(!1),[g,y]=L.useState(null);L.useEffect(()=>{(async()=>{try{if(!n)return;const M=_n($e,"turmas",n),x=await Pl(M);if(!x.exists()){console.error("Turma no encontrada."),o(!1);return}h(x.data().nome||"");const O=x.data().membros||[];if(O.length===0){r([]),o(!1);return}const Z=(await ci(wn($e,"alunos"))).docs.filter(le=>O.includes(le.id)).map(le=>({id:le.id,...le.data()}));r(Z)}finally{o(!1)}})()},[n]);const b=async()=>{if(u.trim())try{await Fa(_n($e,"turmas",n),{nome:u.trim()}),alert("Nome da turma salvo com sucesso!"),e("/turmas")}catch(R){console.error("Erro ao salvar o nome da turma:",R),alert("Ocorreu um erro ao salvar o nome da turma.")}},S=async R=>{const M=_n($e,"turmas",n),x=_n($e,"alunos",R);await Fa(M,{membros:WL(R),totalMembros:PC(-1)}),await Fa(x,{status:"Rematricula"}),r(O=>O.filter(H=>H.id!==R))};return a?_.jsx(Ke,{children:_.jsx(io,{text:"Carregando dados da turma..."})}):_.jsxs(Ke,{children:[_.jsxs("div",{className:"alunos-page-container",children:[_.jsxs("div",{className:"page-header",children:[_.jsx("div",{className:"page-title-group",children:_.jsx("h1",{children:"Editar Turma"})}),_.jsxs("div",{style:{marginTop:"15px",display:"flex",gap:"10px"},children:[_.jsx("input",{value:u,onChange:R=>h(R.target.value),className:"busca-input",placeholder:"Nome da Turma",style:{maxWidth:"350px"}}),_.jsx(Nt,{onClick:b,children:"Salvar Nome"})]})]}),t.length===0?_.jsx("p",{className:"busca-error",children:"Nenhum aluno matriculado nesta turma."}):_.jsxs("table",{className:"tabela-padrao",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Nome"}),_.jsx("th",{children:"Responsvel"}),_.jsx("th",{children:"Status"}),_.jsx("th",{children:"Ao"})]})}),_.jsx("tbody",{children:t.map(R=>_.jsxs("tr",{children:[_.jsx("td",{children:R.alunoData?.nome||""}),_.jsx("td",{children:R.documentos?.responsavelNome||""}),_.jsx("td",{children:R.status||""}),_.jsx("td",{children:_.jsx(Nt,{onClick:()=>{y(R),p(!0)},children:"Remover da Turma"})})]},R.id))})]})]}),d&&g&&_.jsx(w4,{title:"Remover aluno da turma?",message:`Tem certeza que deseja remover <strong>${g?.alunoData?.nome}</strong> desta turma?`,onConfirm:()=>{S(g.id),p(!1)},onCancel:()=>p(!1),confirmText:"Remover",cancelText:"Cancelar"})]})}function C4(){const[n,e]=L.useState([]),[t,r]=L.useState(!0);L.useEffect(()=>{a()},[]);const a=async()=>{r(!0);try{const d=(await ci(wn($e,"avisos"))).docs.map(p=>({id:p.id,...p.data()}));e(d)}catch(h){console.error("Erro ao buscar avisos:",h)}finally{r(!1)}},o=async h=>{const d=h.target.files?.[0];if(!d)return;const p=new FileReader;p.onloadend=async()=>{const g=p.result;try{await Bc(wn($e,"avisos"),{imagem:g,criadoEm:new Date().toISOString()}),await a()}catch(y){console.error("Erro ao adicionar aviso:",y)}},p.readAsDataURL(d),h.target.value=""},u=async h=>{try{await GL(_n($e,"avisos",h)),e(d=>d.filter(p=>p.id!==h))}catch(d){console.error("Erro ao remover aviso:",d)}};return _.jsx(Ke,{children:_.jsxs("div",{className:"alunos-page-container",children:[_.jsxs("div",{className:"page-header page-header-turmas",children:[_.jsx("div",{className:"page-title-group",children:_.jsx("h1",{children:"Avisos"})}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[_.jsx("label",{htmlFor:"inputAviso",className:"botao-adicionar-aviso",children:"+ Adicionar aviso"}),_.jsx("input",{id:"inputAviso",type:"file",accept:"image/*",onChange:o,style:{display:"none"}})]})]}),t?_.jsx("p",{className:"busca-error",children:"Carregando avisos..."}):n.length===0?_.jsx("p",{className:"busca-error",children:"Nenhum aviso encontrado."}):_.jsx("div",{className:"avisos-grid",children:n.map(h=>_.jsxs("div",{className:"aviso-card",children:[_.jsx("div",{className:"aviso-thumb-wrap",children:_.jsx("img",{className:"aviso-thumb",src:h.imagem,alt:"Aviso"})}),_.jsx("div",{className:"aviso-actions",children:_.jsx("button",{className:"icon-btn",title:"Remover aviso",onClick:()=>u(h.id),children:_.jsx(Yj,{size:18})})})]},h.id))})]})})}var cm,Ee,GC,QC,Tl,Ua,zS,YC,WC,Sf={},$C=[],D4=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ls(n,e){for(var t in e)n[t]=e[t];return n}function KC(n){var e=n.parentNode;e&&e.removeChild(n)}function X(n,e,t){var r,a,o,u={};for(o in e)o=="key"?r=e[o]:o=="ref"?a=e[o]:u[o]=e[o];if(arguments.length>2&&(u.children=arguments.length>3?cm.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)u[o]===void 0&&(u[o]=n.defaultProps[o]);return Qd(n,u,r,a,null)}function Qd(n,e,t,r,a){var o={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++GC};return a==null&&Ee.vnode!=null&&Ee.vnode(o),o}function Yi(){return{current:null}}function St(n){return n.children}function I4(n,e,t,r,a){var o;for(o in t)o==="children"||o==="key"||o in e||wf(n,o,null,t[o],r);for(o in e)a&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||t[o]===e[o]||wf(n,o,e[o],t[o],r)}function HS(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||D4.test(e)?t:t+"px"}function wf(n,e,t,r,a){var o;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||HS(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||HS(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=t,t?r||n.addEventListener(e,o?qS:FS,o):n.removeEventListener(e,o?qS:FS,o);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function FS(n){Tl=!0;try{return this.l[n.type+!1](Ee.event?Ee.event(n):n)}finally{Tl=!1}}function qS(n){Tl=!0;try{return this.l[n.type+!0](Ee.event?Ee.event(n):n)}finally{Tl=!1}}function Yn(n,e){this.props=n,this.context=e}function _c(n,e){if(e==null)return n.__?_c(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?_c(n):null}function XC(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return XC(n)}}function x4(n){Tl?setTimeout(n):YC(n)}function Ov(n){(!n.__d&&(n.__d=!0)&&Ua.push(n)&&!Rf.__r++||zS!==Ee.debounceRendering)&&((zS=Ee.debounceRendering)||x4)(Rf)}function Rf(){var n,e,t,r,a,o,u,h;for(Ua.sort(function(d,p){return d.__v.__b-p.__v.__b});n=Ua.shift();)n.__d&&(e=Ua.length,r=void 0,a=void 0,u=(o=(t=n).__v).__e,(h=t.__P)&&(r=[],(a=Ls({},o)).__v=o.__v+1,$y(h,o,a,t.__n,h.ownerSVGElement!==void 0,o.__h!=null?[u]:null,r,u??_c(o),o.__h),n1(r,o),o.__e!=u&&XC(o)),Ua.length>e&&Ua.sort(function(d,p){return d.__v.__b-p.__v.__b}));Rf.__r=0}function ZC(n,e,t,r,a,o,u,h,d,p){var g,y,b,S,R,M,x,O=r&&r.__k||$C,H=O.length;for(t.__k=[],g=0;g<e.length;g++)if((S=t.__k[g]=(S=e[g])==null||typeof S=="boolean"?null:typeof S=="string"||typeof S=="number"||typeof S=="bigint"?Qd(null,S,null,null,S):Array.isArray(S)?Qd(St,{children:S},null,null,null):S.__b>0?Qd(S.type,S.props,S.key,S.ref?S.ref:null,S.__v):S)!=null){if(S.__=t,S.__b=t.__b+1,(b=O[g])===null||b&&S.key==b.key&&S.type===b.type)O[g]=void 0;else for(y=0;y<H;y++){if((b=O[y])&&S.key==b.key&&S.type===b.type){O[y]=void 0;break}b=null}$y(n,S,b=b||Sf,a,o,u,h,d,p),R=S.__e,(y=S.ref)&&b.ref!=y&&(x||(x=[]),b.ref&&x.push(b.ref,null,S),x.push(y,S.__c||R,S)),R!=null?(M==null&&(M=R),typeof S.type=="function"&&S.__k===b.__k?S.__d=d=JC(S,d,n):d=e1(n,S,b,O,R,d),typeof t.type=="function"&&(t.__d=d)):d&&b.__e==d&&d.parentNode!=n&&(d=_c(b))}for(t.__e=M,g=H;g--;)O[g]!=null&&(typeof t.type=="function"&&O[g].__e!=null&&O[g].__e==t.__d&&(t.__d=t1(r).nextSibling),i1(O[g],O[g]));if(x)for(g=0;g<x.length;g++)r1(x[g],x[++g],x[++g])}function JC(n,e,t){for(var r,a=n.__k,o=0;a&&o<a.length;o++)(r=a[o])&&(r.__=n,e=typeof r.type=="function"?JC(r,e,t):e1(t,r,r,a,r.__e,e));return e}function Cf(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){Cf(t,e)}):e.push(n)),e}function e1(n,e,t,r,a,o){var u,h,d;if(e.__d!==void 0)u=e.__d,e.__d=void 0;else if(t==null||a!=o||a.parentNode==null)e:if(o==null||o.parentNode!==n)n.appendChild(a),u=null;else{for(h=o,d=0;(h=h.nextSibling)&&d<r.length;d+=1)if(h==a)break e;n.insertBefore(a,o),u=o}return u!==void 0?u:a.nextSibling}function t1(n){var e,t,r;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(r=t1(t)))return r}return null}function $y(n,e,t,r,a,o,u,h,d){var p,g,y,b,S,R,M,x,O,H,Z,le,re,J,I,C=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(d=t.__h,h=e.__e=t.__e,e.__h=null,o=[h]),(p=Ee.__b)&&p(e);try{e:if(typeof C=="function"){if(x=e.props,O=(p=C.contextType)&&r[p.__c],H=p?O?O.props.value:p.__:r,t.__c?M=(g=e.__c=t.__c).__=g.__E:("prototype"in C&&C.prototype.render?e.__c=g=new C(x,H):(e.__c=g=new Yn(x,H),g.constructor=C,g.render=M4),O&&O.sub(g),g.props=x,g.state||(g.state={}),g.context=H,g.__n=r,y=g.__d=!0,g.__h=[],g._sb=[]),g.__s==null&&(g.__s=g.state),C.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=Ls({},g.__s)),Ls(g.__s,C.getDerivedStateFromProps(x,g.__s))),b=g.props,S=g.state,g.__v=e,y)C.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(C.getDerivedStateFromProps==null&&x!==b&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(x,H),!g.__e&&g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(x,g.__s,H)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(g.props=x,g.state=g.__s,g.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(N){N&&(N.__=e)}),Z=0;Z<g._sb.length;Z++)g.__h.push(g._sb[Z]);g._sb=[],g.__h.length&&u.push(g);break e}g.componentWillUpdate!=null&&g.componentWillUpdate(x,g.__s,H),g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(b,S,R)})}if(g.context=H,g.props=x,g.__P=n,le=Ee.__r,re=0,"prototype"in C&&C.prototype.render){for(g.state=g.__s,g.__d=!1,le&&le(e),p=g.render(g.props,g.state,g.context),J=0;J<g._sb.length;J++)g.__h.push(g._sb[J]);g._sb=[]}else do g.__d=!1,le&&le(e),p=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++re<25);g.state=g.__s,g.getChildContext!=null&&(r=Ls(Ls({},r),g.getChildContext())),y||g.getSnapshotBeforeUpdate==null||(R=g.getSnapshotBeforeUpdate(b,S)),I=p!=null&&p.type===St&&p.key==null?p.props.children:p,ZC(n,Array.isArray(I)?I:[I],e,t,r,a,o,u,h,d),g.base=e.__e,e.__h=null,g.__h.length&&u.push(g),M&&(g.__E=g.__=null),g.__e=!1}else o==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=N4(t.__e,e,t,r,a,o,u,d);(p=Ee.diffed)&&p(e)}catch(N){e.__v=null,(d||o!=null)&&(e.__e=h,e.__h=!!d,o[o.indexOf(h)]=null),Ee.__e(N,e,t)}}function n1(n,e){Ee.__c&&Ee.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(r){r.call(t)})}catch(r){Ee.__e(r,t.__v)}})}function N4(n,e,t,r,a,o,u,h){var d,p,g,y=t.props,b=e.props,S=e.type,R=0;if(S==="svg"&&(a=!0),o!=null){for(;R<o.length;R++)if((d=o[R])&&"setAttribute"in d==!!S&&(S?d.localName===S:d.nodeType===3)){n=d,o[R]=null;break}}if(n==null){if(S===null)return document.createTextNode(b);n=a?document.createElementNS("http://www.w3.org/2000/svg",S):document.createElement(S,b.is&&b),o=null,h=!1}if(S===null)y===b||h&&n.data===b||(n.data=b);else{if(o=o&&cm.call(n.childNodes),p=(y=t.props||Sf).dangerouslySetInnerHTML,g=b.dangerouslySetInnerHTML,!h){if(o!=null)for(y={},R=0;R<n.attributes.length;R++)y[n.attributes[R].name]=n.attributes[R].value;(g||p)&&(g&&(p&&g.__html==p.__html||g.__html===n.innerHTML)||(n.innerHTML=g&&g.__html||""))}if(I4(n,b,y,a,h),g)e.__k=[];else if(R=e.props.children,ZC(n,Array.isArray(R)?R:[R],e,t,r,a&&S!=="foreignObject",o,u,o?o[0]:t.__k&&_c(t,0),h),o!=null)for(R=o.length;R--;)o[R]!=null&&KC(o[R]);h||("value"in b&&(R=b.value)!==void 0&&(R!==n.value||S==="progress"&&!R||S==="option"&&R!==y.value)&&wf(n,"value",R,y.value,!1),"checked"in b&&(R=b.checked)!==void 0&&R!==n.checked&&wf(n,"checked",R,y.checked,!1))}return n}function r1(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(r){Ee.__e(r,t)}}function i1(n,e,t){var r,a;if(Ee.unmount&&Ee.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||r1(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Ee.__e(o,e)}r.base=r.__P=null,n.__c=void 0}if(r=n.__k)for(a=0;a<r.length;a++)r[a]&&i1(r[a],e,t||typeof n.type!="function");t||n.__e==null||KC(n.__e),n.__=n.__e=n.__d=void 0}function M4(n,e,t){return this.constructor(n,t)}function Ec(n,e,t){var r,a,o;Ee.__&&Ee.__(n,e),a=(r=!1)?null:e.__k,o=[],$y(e,n=e.__k=X(St,null,[n]),a||Sf,Sf,e.ownerSVGElement!==void 0,a?null:e.firstChild?cm.call(e.childNodes):null,o,a?a.__e:e.firstChild,r),n1(o,n)}function O4(n,e){var t={__c:e="__cC"+WC++,__:n,Consumer:function(r,a){return r.children(a)},Provider:function(r){var a,o;return this.getChildContext||(a=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&a.some(function(h){h.__e=!0,Ov(h)})},this.sub=function(u){a.push(u);var h=u.componentWillUnmount;u.componentWillUnmount=function(){a.splice(a.indexOf(u),1),h&&h.call(u)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}cm=$C.slice,Ee={__e:function(n,e,t,r){for(var a,o,u;e=e.__;)if((a=e.__c)&&!a.__)try{if((o=a.constructor)&&o.getDerivedStateFromError!=null&&(a.setState(o.getDerivedStateFromError(n)),u=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(n,r||{}),u=a.__d),u)return a.__E=a}catch(h){n=h}throw n}},GC=0,QC=function(n){return n!=null&&n.constructor===void 0},Tl=!1,Yn.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ls({},this.state),typeof n=="function"&&(n=n(Ls({},t),this.props)),n&&Ls(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),Ov(this))},Yn.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Ov(this))},Yn.prototype.render=St,Ua=[],YC=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Rf.__r=0,WC=0;var ei,Ug,GS,s1=[],Bg=[],QS=Ee.__b,YS=Ee.__r,WS=Ee.diffed,$S=Ee.__c,KS=Ee.unmount;function k4(){for(var n;n=s1.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Yd),n.__H.__h.forEach(kv),n.__H.__h=[]}catch(e){n.__H.__h=[],Ee.__e(e,n.__v)}}Ee.__b=function(n){ei=null,QS&&QS(n)},Ee.__r=function(n){YS&&YS(n);var e=(ei=n.__c).__H;e&&(Ug===ei?(e.__h=[],ei.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Bg,t.__N=t.i=void 0})):(e.__h.forEach(Yd),e.__h.forEach(kv),e.__h=[])),Ug=ei},Ee.diffed=function(n){WS&&WS(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(s1.push(e)!==1&&GS===Ee.requestAnimationFrame||((GS=Ee.requestAnimationFrame)||P4)(k4)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Bg&&(t.__=t.__V),t.i=void 0,t.__V=Bg})),Ug=ei=null},Ee.__c=function(n,e){e.some(function(t){try{t.__h.forEach(Yd),t.__h=t.__h.filter(function(r){return!r.__||kv(r)})}catch(r){e.some(function(a){a.__h&&(a.__h=[])}),e=[],Ee.__e(r,t.__v)}}),$S&&$S(n,e)},Ee.unmount=function(n){KS&&KS(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{Yd(r)}catch(a){e=a}}),t.__H=void 0,e&&Ee.__e(e,t.__v))};var XS=typeof requestAnimationFrame=="function";function P4(n){var e,t=function(){clearTimeout(r),XS&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,100);XS&&(e=requestAnimationFrame(t))}function Yd(n){var e=ei,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),ei=e}function kv(n){var e=ei;n.__c=n.__(),ei=e}function V4(n,e){for(var t in e)n[t]=e[t];return n}function ZS(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function JS(n){this.props=n}(JS.prototype=new Yn).isPureReactComponent=!0,JS.prototype.shouldComponentUpdate=function(n,e){return ZS(this.props,n)||ZS(this.state,e)};var e0=Ee.__b;Ee.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),e0&&e0(n)};var L4=Ee.__e;Ee.__e=function(n,e,t,r){if(n.then){for(var a,o=e;o=o.__;)if((a=o.__c)&&a.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),a.__c(n,e)}L4(n,e,t,r)};var t0=Ee.unmount;function a1(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),n.__c.__H=null),(n=V4({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(r){return a1(r,e,t)})),n}function o1(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(r){return o1(r,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function zg(){this.__u=0,this.t=null,this.__b=null}function l1(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function Cd(){this.u=null,this.o=null}Ee.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),t0&&t0(n)},(zg.prototype=new Yn).__c=function(n,e){var t=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(t);var a=l1(r.__v),o=!1,u=function(){o||(o=!0,t.__R=null,a?a(h):h())};t.__R=u;var h=function(){if(!--r.__u){if(r.state.__a){var p=r.state.__a;r.__v.__k[0]=o1(p,p.__c.__P,p.__c.__O)}var g;for(r.setState({__a:r.__b=null});g=r.t.pop();)g.forceUpdate()}},d=e.__h===!0;r.__u++||d||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(u,u)},zg.prototype.componentWillUnmount=function(){this.t=[]},zg.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=a1(this.__b,t,r.__O=r.__P)}this.__b=null}var a=e.__a&&X(St,null,n.fallback);return a&&(a.__h=null),[X(St,null,e.__a?null:n.children),a]};var n0=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function j4(n){return this.getChildContext=function(){return n.context},n.children}function U4(n){var e=this,t=n.i;e.componentWillUnmount=function(){Ec(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,a){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Ec(X(j4,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function B4(n,e){var t=X(U4,{__v:n,i:e});return t.containerInfo=e,t}(Cd.prototype=new Yn).__a=function(n){var e=this,t=l1(e.__v),r=e.o.get(n);return r[0]++,function(a){var o=function(){e.props.revealOrder?(r.push(a),n0(e,n,r)):a()};t?t(o):o()}},Cd.prototype.render=function(n){this.u=null,this.o=new Map;var e=Cf(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},Cd.prototype.componentDidUpdate=Cd.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){n0(n,t,e)})};var z4=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,H4=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,F4=typeof document<"u",q4=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};Yn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Yn.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var r0=Ee.event;function G4(){}function Q4(){return this.cancelBubble}function Y4(){return this.defaultPrevented}Ee.event=function(n){return r0&&(n=r0(n)),n.persist=G4,n.isPropagationStopped=Q4,n.isDefaultPrevented=Y4,n.nativeEvent=n};var i0={configurable:!0,get:function(){return this.class}},s0=Ee.vnode;Ee.vnode=function(n){var e=n.type,t=n.props,r=t;if(typeof e=="string"){var a=e.indexOf("-")===-1;for(var o in r={},t){var u=t[o];F4&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in t&&u==null||(o==="defaultValue"&&"value"in t&&t.value==null?o="value":o==="download"&&u===!0?u="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!q4(t.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():a&&H4.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():u===null&&(u=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),r[o]&&(o="oninputCapture")),r[o]=u)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Cf(t.children).forEach(function(h){h.props.selected=r.value.indexOf(h.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Cf(t.children).forEach(function(h){h.props.selected=r.multiple?r.defaultValue.indexOf(h.props.value)!=-1:r.defaultValue==h.props.value})),n.props=r,t.class!=t.className&&(i0.enumerable="className"in t,t.className!=null&&(r.class=t.className),Object.defineProperty(r,"className",i0))}n.$$typeof=z4,s0&&s0(n)};var a0=Ee.__r;Ee.__r=function(n){a0&&a0(n),n.__c};const u1=[],Pv=new Map;function c1(n){u1.push(n),Pv.forEach(e=>{d1(e,n)})}function W4(n){n.isConnected&&n.getRootNode&&h1(n.getRootNode())}function h1(n){let e=Pv.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=K4();t&&(e.nonce=t);const r=n===document?document.head:n,a=n===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,a)}Pv.set(n,e),$4(e)}}function $4(n){for(const e of u1)d1(n,e)}function d1(n,e){const{sheet:t}=n,r=t.cssRules.length;e.split("}").forEach((a,o)=>{a=a.trim(),a&&t.insertRule(a+"}",r+o)})}let Hg;function K4(){return Hg===void 0&&(Hg=X4()),Hg}function X4(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&h1(document);var Z4=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';c1(Z4);class Ky{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:r}=this;e in r&&(t?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Xy(n){n.parentNode&&n.parentNode.removeChild(n)}function yn(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(J4(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function J4(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function eU(n,e){let t=n instanceof HTMLElement?[n]:n,r=[];for(let a=0;a<t.length;a+=1){let o=t[a].querySelectorAll(e);for(let u=0;u<o.length;u+=1)r.push(o[u])}return r}const tU=/(top|left|right|bottom|width|height)$/i;function sc(n,e){for(let t in e)f1(n,t,e[t])}function f1(n,e,t){t==null?n.style[e]="":typeof t=="number"&&tU.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function m1(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let o0=0;function hm(){return o0+=1,"fc-dom-"+o0}function dm(n){n.preventDefault()}function nU(n,e){return t=>{let r=yn(t.target,n);r&&e.call(r,t,r)}}function p1(n,e,t,r){let a=nU(t,r);return n.addEventListener(e,a),()=>{n.removeEventListener(e,a)}}function rU(n,e,t,r){let a;return p1(n,"mouseover",e,(o,u)=>{if(u!==a){a=u,t(o,u);let h=d=>{a=null,r(d,u),u.removeEventListener("mouseleave",h)};u.addEventListener("mouseleave",h)}})}const l0=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function iU(n,e){let t=r=>{e(r),l0.forEach(a=>{n.removeEventListener(a,t)})};l0.forEach(r=>{n.addEventListener(r,t)})}function g1(n){return Object.assign({onClick:n},v1(n))}function v1(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let u0=0;function so(){return u0+=1,String(u0)}function Zy(){document.body.classList.add("fc-not-allowed")}function Jy(){document.body.classList.remove("fc-not-allowed")}function sU(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",dm)}function aU(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",dm)}function oU(n){n.addEventListener("contextmenu",dm)}function lU(n){n.removeEventListener("contextmenu",dm)}function uU(n){let e=[],t=[],r,a;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),r=0;r<t.length;r+=1)a=t[r],typeof a=="string"?e.push(a.charAt(0)==="-"?{field:a.substring(1),order:-1}:{field:a,order:1}):typeof a=="function"&&e.push({func:a});return e}function cU(n,e,t){let r,a;for(r=0;r<t.length;r+=1)if(a=hU(n,e,t[r]),a)return a;return 0}function hU(n,e,t){return t.func?t.func(n,e):dU(n[t.field],e[t.field])*(t.order||1)}function dU(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function Fg(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function ac(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((r,a,o)=>r.replace("$"+o,a||""),n):t}function fU(n,e){return n-e}function qg(n){return n%1===0}function mU(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const pU=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function We(n,e){return typeof n=="string"?gU(n):typeof n=="object"&&n?c0(n):typeof n=="number"?c0({[e||"milliseconds"]:n}):null}function gU(n){let e=pU.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function c0(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function vU(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function yU(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function _U(n){return fl(n)/365}function EU(n){return fl(n)/30}function fl(n){return bc(n)/864e5}function bc(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function Vv(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function Zs(n,e,t){if(n===e)return!0;let r=n.length,a;if(r!==e.length)return!1;for(a=0;a<r;a+=1)if(!(t?t(n[a],e[a]):n[a]===e[a]))return!1;return!0}const bU=["sun","mon","tue","wed","thu","fri","sat"];function h0(n,e){let t=js(n);return t[2]+=e*7,Pn(t)}function nn(n,e){let t=js(n);return t[2]+=e,Pn(t)}function Js(n,e){let t=js(n);return t[6]+=e,Pn(t)}function AU(n,e){return jl(n,e)/7}function jl(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function TU(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function SU(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function wU(n,e){return(e.valueOf()-n.valueOf())/1e3}function RU(n,e){let t=vt(n),r=vt(e);return{years:0,months:0,days:Math.round(jl(t,r)),milliseconds:e.valueOf()-r.valueOf()-(n.valueOf()-t.valueOf())}}function CU(n,e){let t=Df(n,e);return t!==null&&t%7===0?t/7:null}function Df(n,e){return Us(n)===Us(e)?Math.round(jl(n,e)):null}function vt(n){return Pn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function DU(n){return Pn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function IU(n){return Pn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function xU(n){return Pn([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function NU(n,e,t){let r=n.getUTCFullYear(),a=Gg(n,r,e,t);if(a<1)return Gg(n,r-1,e,t);let o=Gg(n,r+1,e,t);return o>=1?Math.min(a,o):a}function Gg(n,e,t,r){let a=Pn([e,0,1+MU(e,t,r)]),o=vt(n),u=Math.round(jl(a,o));return Math.floor(u/7)+1}function MU(n,e,t){let r=7+e-t;return-((7+Pn([n,0,r]).getUTCDay()-e)%7)+r-1}function d0(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function f0(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function js(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Pn(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function y1(n){return!isNaN(n.valueOf())}function Us(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function OU(n,e,t=!1){let r=n.toISOString();return r=r.replace(".000",""),t&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",t_(e,!0)))),r}function e_(n){return n.toISOString().replace(/T.*$/,"")}function kU(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function t_(n,e=!1){let t=n<0?"-":"+",r=Math.abs(n),a=Math.floor(r/60),o=Math.round(r%60);return e?`${t+Fg(a,2)}:${Fg(o,2)}`:`GMT${t}${a}${o?`:${Fg(o,2)}`:""}`}function Ge(n,e,t){let r,a;return function(...o){if(!r)a=n.apply(this,o);else if(!Zs(r,o)){let u=n.apply(this,o);(!e||!e(u,a))&&(a=u)}return r=o,a}}function Wd(n,e,t){let r,a;return o=>(r?Ir(r,o)||(a=n.call(this,o)):a=n.call(this,o),r=o,a)}const Qg={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},If={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Dd=/\s*([ap])\.?m\.?/i,PU=/,/g,VU=/\s+/g,LU=/\u200e/g,jU=/UTC|GMT/;class UU{constructor(e){let t={},r={},a=9;for(let o in e)o in Qg?(r[o]=e[o],Qg[o]<9&&(a=Math.min(Qg[o],a))):(t[o]=e[o],o in If&&(a=Math.min(If[o],a)));this.standardDateProps=t,this.extendedSettings=r,this.smallestUnitNum=a,this.buildFormattingFunc=Ge(m0)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,r,a){let{standardDateProps:o,extendedSettings:u}=this,h=GU(e.marker,t.marker,r.calendarSystem);if(!h)return this.format(e,r);let d=h;d>1&&(o.year==="numeric"||o.year==="2-digit")&&(o.month==="numeric"||o.month==="2-digit")&&(o.day==="numeric"||o.day==="2-digit")&&(d=1);let p=this.format(e,r),g=this.format(t,r);if(p===g)return p;let y=QU(o,d),b=m0(y,u,r),S=b(e),R=b(t),M=YU(p,S,g,R),x=u.separator||a||r.defaultSeparator||"";return M?M.before+S+x+R+M.after:p+x+g}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function m0(n,e,t){let r=Object.keys(n).length;return r===1&&n.timeZoneName==="short"?a=>t_(a.timeZoneOffset):r===0&&e.week?a=>qU(t.computeWeekNumber(a.marker),t.weekText,t.weekTextLong,t.locale,e.week):BU(n,e,t)}function BU(n,e,t){n=Object.assign({},n),e=Object.assign({},e),zU(n,e),n.timeZone="UTC";let r=new Intl.DateTimeFormat(t.locale.codes,n),a;if(e.omitZeroMinute){let o=Object.assign({},n);delete o.minute,a=new Intl.DateTimeFormat(t.locale.codes,o)}return o=>{let{marker:u}=o,h;a&&!u.getUTCMinutes()?h=a:h=r;let d=h.format(u);return HU(d,o,n,e,t)}}function zU(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function HU(n,e,t,r,a){return n=n.replace(LU,""),t.timeZoneName==="short"&&(n=FU(n,a.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":t_(e.timeZoneOffset))),r.omitCommas&&(n=n.replace(PU,"").trim()),r.omitZeroMinute&&(n=n.replace(":00","")),r.meridiem===!1?n=n.replace(Dd,"").trim():r.meridiem==="narrow"?n=n.replace(Dd,(o,u)=>u.toLocaleLowerCase()):r.meridiem==="short"?n=n.replace(Dd,(o,u)=>`${u.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(n=n.replace(Dd,o=>o.toLocaleLowerCase())),n=n.replace(VU," "),n=n.trim(),n}function FU(n,e){let t=!1;return n=n.replace(jU,()=>(t=!0,e)),t||(n+=` ${e}`),n}function qU(n,e,t,r,a){let o=[];return a==="long"?o.push(t):(a==="short"||a==="narrow")&&o.push(e),(a==="long"||a==="short")&&o.push(" "),o.push(r.simpleNumberFormat.format(n)),r.options.direction==="rtl"&&o.reverse(),o.join("")}function GU(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:Us(n)!==Us(e)?1:0}function QU(n,e){let t={};for(let r in n)(!(r in If)||If[r]<=e)&&(t[r]=n[r]);return t}function YU(n,e,t,r){let a=0;for(;a<n.length;){let o=n.indexOf(e,a);if(o===-1)break;let u=n.substr(0,o);a=o+e.length;let h=n.substr(a),d=0;for(;d<t.length;){let p=t.indexOf(r,d);if(p===-1)break;let g=t.substr(0,p);d=p+r.length;let y=t.substr(d);if(u===g&&h===y)return{before:u,after:h}}}return null}function p0(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function xf(n,e,t,r){let a=p0(n,t.calendarSystem),o=e?p0(e,t.calendarSystem):null;return{date:a,start:a,end:o,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:r||t.defaultSeparator}}class WU{constructor(e){this.cmdStr=e}format(e,t,r){return t.cmdFormatter(this.cmdStr,xf(e,null,t,r))}formatRange(e,t,r,a){return r.cmdFormatter(this.cmdStr,xf(e,t,r,a))}}class $U{constructor(e){this.func=e}format(e,t,r){return this.func(xf(e,null,t,r))}formatRange(e,t,r,a){return this.func(xf(e,t,r,a))}}function tn(n){return typeof n=="object"&&n?new UU(n):typeof n=="string"?new WU(n):typeof n=="function"?new $U(n):null}const g0={navLinkDayClick:$,navLinkWeekClick:$,duration:We,bootstrapFontAwesome:$,buttonIcons:$,customButtons:$,defaultAllDayEventDuration:We,defaultTimedEventDuration:We,nextDayThreshold:We,scrollTime:We,scrollTimeReset:Boolean,slotMinTime:We,slotMaxTime:We,dayPopoverFormat:tn,slotDuration:We,snapDuration:We,headerToolbar:$,footerToolbar:$,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:tn,dayHeaderClassNames:$,dayHeaderContent:$,dayHeaderDidMount:$,dayHeaderWillUnmount:$,dayCellClassNames:$,dayCellContent:$,dayCellDidMount:$,dayCellWillUnmount:$,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:$,weekNumbers:Boolean,weekNumberClassNames:$,weekNumberContent:$,weekNumberDidMount:$,weekNumberWillUnmount:$,editable:Boolean,viewClassNames:$,viewDidMount:$,viewWillUnmount:$,nowIndicator:Boolean,nowIndicatorSnap:$,nowIndicatorClassNames:$,nowIndicatorContent:$,nowIndicatorDidMount:$,nowIndicatorWillUnmount:$,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:$,locale:$,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:$,eventOrder:uU,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:$,contentHeight:$,direction:String,weekNumberFormat:tn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:$,initialDate:$,now:$,eventDataTransform:$,stickyHeaderDates:$,stickyFooterScrollbar:$,viewHeight:$,defaultAllDay:Boolean,eventSourceFailure:$,eventSourceSuccess:$,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:$,eventConstraint:$,eventAllow:$,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:$,eventContent:$,eventDidMount:$,eventWillUnmount:$,selectConstraint:$,selectOverlap:$,selectAllow:$,droppable:Boolean,unselectCancel:String,slotLabelFormat:$,slotLaneClassNames:$,slotLaneContent:$,slotLaneDidMount:$,slotLaneWillUnmount:$,slotLabelClassNames:$,slotLabelContent:$,slotLabelDidMount:$,slotLabelWillUnmount:$,dayMaxEvents:$,dayMaxEventRows:$,dayMinWidth:Number,slotLabelInterval:We,allDayText:String,allDayClassNames:$,allDayContent:$,allDayDidMount:$,allDayWillUnmount:$,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:tn,rerenderDelay:Number,moreLinkText:$,moreLinkHint:$,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:$,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:We,hiddenDays:$,fixedWeekCount:Boolean,validRange:$,visibleRange:$,titleFormat:$,eventInteractive:Boolean,noEventsText:String,viewHint:$,navLinkHint:$,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:$,moreLinkClassNames:$,moreLinkContent:$,moreLinkDidMount:$,moreLinkWillUnmount:$,monthStartFormat:tn,handleCustomRendering:$,customRenderingMetaMap:$,customRenderingReplaces:Boolean},oc={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},v0={datesSet:$,eventsSet:$,eventAdd:$,eventChange:$,eventRemove:$,windowResize:$,eventClick:$,eventMouseEnter:$,eventMouseLeave:$,select:$,unselect:$,loading:$,_unmount:$,_beforeprint:$,_afterprint:$,_noEventDrop:$,_noEventResize:$,_resize:$,_scrollRequest:$},y0={buttonText:$,buttonHints:$,views:$,plugins:$,initialEvents:$,events:$,eventSources:$},La={headerToolbar:ja,footerToolbar:ja,buttonText:ja,buttonHints:ja,buttonIcons:ja,dateIncrement:ja,plugins:Id,events:Id,eventSources:Id,resources:Id};function ja(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?Ir(n,e):n===e}function Id(n,e){return Array.isArray(n)&&Array.isArray(e)?Zs(n,e):n===e}const KU={type:String,component:$,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:$,usesMinMaxTime:Boolean,classNames:$,content:$,didMount:$,willUnmount:$};function Yg(n){return r_(n,La)}function n_(n,e){let t={},r={};for(let a in e)a in n&&(t[a]=e[a](n[a]));for(let a in n)a in e||(r[a]=n[a]);return{refined:t,extra:r}}function $(n){return n}const{hasOwnProperty:Nf}=Object.prototype;function r_(n,e){let t={};if(e){for(let r in e)if(e[r]===ja){let a=[];for(let o=n.length-1;o>=0;o-=1){let u=n[o][r];if(typeof u=="object"&&u)a.unshift(u);else if(u!==void 0){t[r]=u;break}}a.length&&(t[r]=r_(a))}}for(let r=n.length-1;r>=0;r-=1){let a=n[r];for(let o in a)o in t||(t[o]=a[o])}return t}function Ka(n,e){let t={};for(let r in n)e(n[r],r)&&(t[r]=n[r]);return t}function ao(n,e){let t={};for(let r in n)t[r]=e(n[r],r);return t}function _1(n){let e={};for(let t of n)e[t]=!0;return e}function i_(n){let e=[];for(let t in n)e.push(n[t]);return e}function Ir(n,e){if(n===e)return!0;for(let t in n)if(Nf.call(n,t)&&!(t in e))return!1;for(let t in e)if(Nf.call(e,t)&&n[t]!==e[t])return!1;return!0}const XU=/^on[A-Z]/;function ZU(n,e){const t=JU(n,e);for(let r of t)if(!XU.test(r))return!1;return!0}function JU(n,e){let t=[];for(let r in n)Nf.call(n,r)&&(r in e||t.push(r));for(let r in e)Nf.call(e,r)&&n[r]!==e[r]&&t.push(r);return t}function Wg(n,e,t={}){if(n===e)return!0;for(let r in e)if(!(r in n&&e3(n[r],e[r],t[r])))return!1;for(let r in n)if(!(r in e))return!1;return!0}function e3(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function t3(n,e=0,t,r=1){let a=[];t==null&&(t=Object.keys(n).length);for(let o=e;o<t;o+=r){let u=n[o];u!==void 0&&a.push(u)}return a}let E1={};function n3(n,e){E1[n]=e}function r3(n){return new E1[n]}class i3{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Pn(e)}markerToArray(e){return js(e)}}n3("gregory",i3);const s3=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function a3(n){let e=s3.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(y1(t)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class o3{constructor(e){let t=this.timeZone=e.timeZone,r=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=r3(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Pn(d0(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Pn(e)),t===null||!y1(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=a3(e);if(t===null)return null;let{marker:r}=t,a=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-t.timeZoneOffset*60*1e3):a=t.timeZoneOffset),{marker:r,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:a}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t.years,r[1]+=t.months,r[2]+=t.days,r[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]-=t.years,r[1]-=t.months,r[2]-=t.days,r[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t,this.calendarSystem.arrayToMarker(r)}addMonths(e,t){let r=this.calendarSystem.markerToArray(e);return r[1]+=t,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,t){let{calendarSystem:r}=this;return Us(e)===Us(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)&&r.getMarkerMonth(e)===r.getMarkerMonth(t)?r.getMarkerYear(t)-r.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:r}=this;return Us(e)===Us(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)?r.getMarkerMonth(t)-r.getMarkerMonth(e)+(r.getMarkerYear(t)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let r=this.diffWholeYears(e,t);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,t),r!==null?{unit:"month",value:r}:(r=CU(e,t),r!==null?{unit:"week",value:r}:(r=Df(e,t),r!==null?{unit:"day",value:r}:(r=TU(e,t),qg(r)?{unit:"hour",value:r}:(r=SU(e,t),qg(r)?{unit:"minute",value:r}:(r=wU(e,t),qg(r)?{unit:"second",value:r}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,r){let a;return r.years&&(a=this.diffWholeYears(e,t),a!==null)?a/_U(r):r.months&&(a=this.diffWholeMonths(e,t),a!==null)?a/EU(r):r.days&&(a=Df(e,t),a!==null)?a/fl(r):(t.valueOf()-e.valueOf())/bc(r)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?vt(e):t==="hour"?DU(e):t==="minute"?IU(e):t==="second"?xU(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):NU(e,this.weekDow,this.weekDoy)}format(e,t,r={}){return t.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,r,a={}){return a.isEndExclusive&&(t=Js(t,-1)),r.formatRange({marker:e,timeZoneOffset:a.forcedStartTzo!=null?a.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:a.forcedEndTzo!=null?a.forcedEndTzo:this.offsetForMarker(t)},this,a.defaultSeparator)}formatIso(e,t={}){let r=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?r=t.forcedTzo:r=this.offsetForMarker(e)),OU(e,r,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Pn(d0(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Pn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-f0(js(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(js(e)):null}toDate(e,t){return this.timeZone==="local"?f0(js(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(js(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class zc{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,r;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(r in e)t[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let r;return t&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}zc.prototype.classes={};zc.prototype.iconClasses={};zc.prototype.baseIconClass="";zc.prototype.iconOverridePrefix="";function Mf(n){n();let e=Ee.debounceRendering,t=[];function r(a){t.push(a)}for(Ee.debounceRendering=r,Ec(X(l3,{}),document.createElement("div"));t.length;)t.shift()();Ee.debounceRendering=e}class l3 extends Yn{render(){return X("div",{})}componentDidMount(){this.setState({})}}function b1(n){let e=O4(n),t=e.Provider;return e.Provider=function(){let r=!this.getChildContext,a=t.apply(this,arguments);if(r){let o=[];this.shouldComponentUpdate=u=>{this.props.value!==u.value&&o.forEach(h=>{h.context=u.value,h.forceUpdate()})},this.sub=u=>{o.push(u);let h=u.componentWillUnmount;u.componentWillUnmount=()=>{o.splice(o.indexOf(u),1),h&&h.call(u)}}}return a},e}class u3{constructor(e,t,r,a){this.execFunc=e,this.emitter=t,this.scrollTime=r,this.scrollTimeReset=a,this.handleScrollRequest=o=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},o),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const oo=b1({});function c3(n,e,t,r,a,o,u,h,d,p,g,y,b,S){return{dateEnv:a,nowManager:o,options:t,pluginHooks:h,emitter:g,dispatch:d,getCurrentData:p,calendarApi:y,viewSpec:n,viewApi:e,dateProfileGenerator:r,theme:u,isRtl:t.direction==="rtl",addResizeHandler(R){g.on("_resize",R)},removeResizeHandler(R){g.off("_resize",R)},createScrollResponder(R){return new u3(R,g,We(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:b,unregisterInteractiveComponent:S}}class lo extends Yn{shouldComponentUpdate(e,t){return!Wg(this.props,e,this.propEquality)||!Wg(this.state,t,this.stateEquality)}safeSetState(e){Wg(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}lo.addPropsEquality=h3;lo.addStateEquality=d3;lo.contextType=oo;lo.prototype.propEquality={};lo.prototype.stateEquality={};class bt extends lo{}bt.contextType=oo;function h3(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function d3(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function di(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class s_ extends bt{constructor(){super(...arguments),this.id=so(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:r}=this.props;(!t.customRenderingReplaces||!Lv(r,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&di(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:r}=t,{customGenerator:a,defaultGenerator:o,renderProps:u}=e,h=A1(e,[],this.handleEl);let d=!1,p,g=[],y;if(a!=null){const b=typeof a=="function"?a(u,X):a;if(b===!0)d=!0;else{const S=b&&typeof b=="object";S&&"html"in b?h.dangerouslySetInnerHTML={__html:b.html}:S&&"domNodes"in b?g=Array.prototype.slice.call(b.domNodes):(S?QC(b):typeof b!="function")?p=b:y=b}}else d=!Lv(e.generatorName,r);return d&&o&&(p=o(u)),this.queuedDomNodes=g,this.currentGeneratorMeta=y,X(e.elTag,h,p)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:r,context:a}=this,{handleCustomRendering:o,customRenderingMetaMap:u}=a.options;if(o){const h=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:u?.[r.generatorName];h&&o(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:h},r),{elClasses:(r.elClasses||[]).filter(f3)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,r=this.base;if(!Zs(e,t)){t.forEach(Xy);for(let a of e)r.appendChild(a);this.currentDomNodes=e}}}s_.addPropsEquality({elClasses:Zs,elStyle:Ir,elAttrs:ZU,renderProps:Ir});function Lv(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function A1(n,e,t){const r=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(r.className=(n.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),n.elStyle&&(r.style=n.elStyle),r}function f3(n){return!!n}const T1=b1(0);class Ki extends Yn{constructor(){super(...arguments),this.InnerContent=m3.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(di(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=p3(e.classNameGenerator,e.renderProps);if(e.children){const r=A1(e,t,this.handleEl),a=e.children(this.InnerContent,e.renderProps,r);return e.elTag?X(e.elTag,r,a):a}else return X(s_,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Ki.contextType=T1;function m3(n,e){const t=n.props;return X(s_,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function p3(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class _0 extends bt{render(){let{props:e,context:t}=this,{options:r}=t,a={view:t.viewApi};return X(Ki,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...S1(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function S1(n){return[`fc-${n.type}-view`,"fc-view"]}function g3(n,e){let t=null,r=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(r=e.createMarker(n.end)),!t&&!r||t&&r&&r<t?null:{start:t,end:r}}function E0(n,e){let t=[],{start:r}=e,a,o;for(n.sort(v3),a=0;a<n.length;a+=1)o=n[a],o.start>r&&t.push({start:r,end:o.start}),o.end>r&&(r=o.end);return r<e.end&&t.push({start:r,end:e.end}),t}function v3(n,e){return n.start.valueOf()-e.start.valueOf()}function Sl(n,e){let{start:t,end:r}=n,a=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(t===null||r===null||t<r)&&(a={start:t,end:r}),a}function y3(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function a_(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function fm(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function qs(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function _3(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function w1(n){let e=Math.floor(jl(n.start,n.end))||1,t=vt(n.start),r=nn(t,e);return{start:t,end:r}}function R1(n,e=We(0)){let t=null,r=null;if(n.end){r=vt(n.end);let a=n.end.valueOf()-r.valueOf();a&&a>=bc(e)&&(r=nn(r,1))}return n.start&&(t=vt(n.start),r&&r<=t&&(r=nn(t,1))),{start:t,end:r}}function ol(n,e,t,r){return r==="year"?We(t.diffWholeYears(n,e),"year"):r==="month"?We(t.diffWholeMonths(n,e),"month"):RU(n,e)}class C1{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,r){let{dateEnv:a}=this.props,o=a.subtract(a.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,r)}buildNext(e,t,r){let{dateEnv:a}=this.props,o=a.add(a.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,r)}build(e,t,r=!0){let{props:a}=this,o,u,h,d,p,g;return o=this.buildValidRange(),o=this.trimHiddenDays(o),r&&(e=_3(e,o)),u=this.buildCurrentRangeInfo(e,t),h=/^(year|month|week|day)$/.test(u.unit),d=this.buildRenderRange(this.trimHiddenDays(u.range),u.unit,h),d=this.trimHiddenDays(d),p=d,a.showNonCurrentDates||(p=Sl(p,u.range)),p=this.adjustActiveRange(p),p=Sl(p,o),g=a_(u.range,o),qs(d,e)||(e=d.start),{currentDate:e,validRange:o,currentRange:u.range,currentRangeUnit:u.unit,isRangeAllDay:h,activeRange:p,renderRange:d,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,isValid:g,dateIncrement:this.buildDateIncrement(u.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:r}=this,a=null,o=null,u=null,h;return r.duration?(a=r.duration,o=r.durationUnit,u=this.buildRangeFromDuration(e,t,a,o)):(h=this.props.dayCount)?(o="day",u=this.buildRangeFromDayCount(e,t,h)):(u=this.buildCustomVisibleRange(e))?o=r.dateEnv.greatestWholeUnit(u.start,u.end).unit:(a=this.getFallbackDuration(),o=Vv(a).unit,u=this.buildRangeFromDuration(e,t,a,o)),{duration:a,unit:o,range:u}}getFallbackDuration(){return We({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:r,slotMinTime:a,slotMaxTime:o}=this.props,{start:u,end:h}=e;return r&&(fl(a)<0&&(u=vt(u),u=t.add(u,a)),fl(o)>1&&(h=vt(h),h=nn(h,-1),h=t.add(h,o))),{start:u,end:h}}buildRangeFromDuration(e,t,r,a){let{dateEnv:o,dateAlignment:u}=this.props,h,d,p;if(!u){let{dateIncrement:y}=this.props;y&&bc(y)<bc(r)?u=Vv(y).unit:u=a}fl(r)<=1&&this.isHiddenDay(h)&&(h=this.skipHiddenDays(h,t),h=vt(h));function g(){h=o.startOf(e,u),d=o.add(h,r),p={start:h,end:d}}return g(),this.trimHiddenDays(p)||(e=this.skipHiddenDays(e,t),g()),p}buildRangeFromDayCount(e,t,r){let{dateEnv:a,dateAlignment:o}=this.props,u=0,h=e,d;o&&(h=a.startOf(h,o)),h=vt(h),h=this.skipHiddenDays(h,t),d=h;do d=nn(d,1),this.isHiddenDay(d)||(u+=1);while(u<r);return{start:h,end:d}}buildCustomVisibleRange(e){let{props:t}=this,r=t.visibleRangeInput,a=typeof r=="function"?r.call(t.calendarApi,t.dateEnv.toDate(e)):r,o=this.refineRange(a);return o&&(o.start==null||o.end==null)?null:o}buildRenderRange(e,t,r){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,r;return t||((r=this.props.dateAlignment)?We(1,r):e||We({days:1}))}refineRange(e){if(e){let t=g3(e,this.props.dateEnv);return t&&(t=R1(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],r=0,a;for(this.props.weekends===!1&&e.push(0,6),a=0;a<7;a+=1)(t[a]=e.indexOf(a)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:r}=e;return t&&(t=this.skipHiddenDays(t)),r&&(r=this.skipHiddenDays(r,-1,!0)),t==null||r==null||t<r?{start:t,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?t:0)+7)%7];)e=nn(e,t);return e}}function o_(n,e,t,r){return{instanceId:so(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:r??null}}function E3(n,e,t,r){for(let a=0;a<r.length;a+=1){let o=r[a].parse(n,t);if(o){let{allDay:u}=n;return u==null&&(u=e,u==null&&(u=o.allDayGuess,u==null&&(u=!1))),{allDay:u,duration:o.duration,typeData:o.typeData,typeId:a}}}return null}function Xa(n,e,t){let{dateEnv:r,pluginHooks:a,options:o}=t,{defs:u,instances:h}=n;h=Ka(h,d=>!u[d.defId].recurringDef);for(let d in u){let p=u[d];if(p.recurringDef){let{duration:g}=p.recurringDef;g||(g=p.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);let y=b3(p,g,e,r,a.recurringTypes);for(let b of y){let S=o_(d,{start:b,end:r.add(b,g)});h[S.instanceId]=S}}}return{defs:u,instances:h}}function b3(n,e,t,r,a){let u=a[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:r.subtract(t.start,e),end:t.end},r);return n.allDay&&(u=u.map(vt)),u}const $d={id:String,groupId:String,title:String,url:String,interactive:Boolean},D1={start:$,end:$,date:$,allDay:Boolean},A3=Object.assign(Object.assign(Object.assign({},$d),D1),{extendedProps:$});function I1(n,e,t,r,a=l_(t),o,u){let{refined:h,extra:d}=x1(n,t,a),p=S3(e,t),g=E3(h,p,t.dateEnv,t.pluginHooks.recurringTypes);if(g){let b=jv(h,d,e?e.sourceId:"",g.allDay,!!g.duration,t,o);return b.recurringDef={typeId:g.typeId,typeData:g.typeData,duration:g.duration},{def:b,instance:null}}let y=T3(h,p,t,r);if(y){let b=jv(h,d,e?e.sourceId:"",y.allDay,y.hasEnd,t,o),S=o_(b.defId,y.range,y.forcedStartTzo,y.forcedEndTzo);return u&&b.publicId&&u[b.publicId]&&(S.instanceId=u[b.publicId]),{def:b,instance:S}}return null}function x1(n,e,t=l_(e)){return n_(n,t)}function l_(n){return Object.assign(Object.assign(Object.assign({},Of),A3),n.pluginHooks.eventRefiners)}function jv(n,e,t,r,a,o,u){let h={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(u&&n.id?u[n.id]:"")||so(),sourceId:t,allDay:r,hasEnd:a,interactive:n.interactive,ui:kf(n,o),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let d of o.pluginHooks.eventDefMemberAdders)Object.assign(h,d(n));return Object.freeze(h.ui.classNames),Object.freeze(h.extendedProps),h}function T3(n,e,t,r){let{allDay:a}=n,o,u=null,h=!1,d,p=null,g=n.start!=null?n.start:n.date;if(o=t.dateEnv.createMarkerMeta(g),o)u=o.marker;else if(!r)return null;return n.end!=null&&(d=t.dateEnv.createMarkerMeta(n.end)),a==null&&(e!=null?a=e:a=(!o||o.isTimeUnspecified)&&(!d||d.isTimeUnspecified)),a&&u&&(u=vt(u)),d&&(p=d.marker,a&&(p=vt(p)),u&&p<=u&&(p=null)),p?h=!0:r||(h=t.options.forceEventDuration||!1,p=t.dateEnv.add(u,a?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:a,hasEnd:h,range:{start:u,end:p},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:d?d.forcedTzo:null}}function S3(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function Ac(n,e,t,r,a,o){let u=Sr(),h=l_(t);for(let d of n){let p=I1(d,e,t,r,h,a,o);p&&Uv(p,u)}return u}function Uv(n,e=Sr()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function u_(n,e){let t=n.instances[e];if(t){let r=n.defs[t.defId],a=mm(n,o=>w3(r,o));return a.defs[r.defId]=r,a.instances[t.instanceId]=t,a}return Sr()}function w3(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function Sr(){return{defs:{},instances:{}}}function c_(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function mm(n,e){let t=Ka(n.defs,e),r=Ka(n.instances,a=>t[a.defId]);return{defs:t,instances:r}}function R3(n,e){let{defs:t,instances:r}=n,a={},o={};for(let u in t)e.defs[u]||(a[u]=t[u]);for(let u in r)!e.instances[u]&&a[r[u].defId]&&(o[u]=r[u]);return{defs:a,instances:o}}function C3(n,e){return Array.isArray(n)?Ac(n,null,e,!0):typeof n=="object"&&n?Ac([n],null,e,!0):n!=null?String(n):null}function b0(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const Of={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:$,overlap:$,allow:$,className:b0,classNames:b0,color:String,backgroundColor:String,borderColor:String,textColor:String},D3={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function kf(n,e){let t=C3(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function I3(n){return n.reduce(x3,D3)}function x3(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const N3={id:String,defaultAllDay:Boolean,url:String,format:String,events:$,eventDataTransform:$,success:$,failure:$};function N1(n,e,t=M1(e)){let r;if(typeof n=="string"?r={url:n}:typeof n=="function"||Array.isArray(n)?r={events:n}:typeof n=="object"&&n&&(r=n),r){let{refined:a,extra:o}=n_(r,t),u=M3(a,e);if(u)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:so(),sourceDefId:u.sourceDefId,meta:u.meta,ui:kf(a,e),extendedProps:o}}return null}function M1(n){return Object.assign(Object.assign(Object.assign({},Of),N3),n.pluginHooks.eventSourceRefiners)}function M3(n,e){let t=e.pluginHooks.eventSourceDefs;for(let r=t.length-1;r>=0;r-=1){let o=t[r].parseMeta(n);if(o)return{sourceDefId:r,meta:o}}return null}function O3(n,e,t,r,a){switch(e.type){case"RECEIVE_EVENTS":return k3(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,a);case"RESET_RAW_EVENTS":return P3(n,t[e.sourceId],e.rawEvents,r.activeRange,a);case"ADD_EVENTS":return V3(n,e.eventStore,r?r.activeRange:null,a);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return c_(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Xa(n,r.activeRange,a):n;case"REMOVE_EVENTS":return R3(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return k1(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return mm(n,o=>!o.sourceId);case"REMOVE_ALL_EVENTS":return Sr();default:return n}}function k3(n,e,t,r,a,o){if(e&&t===e.latestFetchId){let u=Ac(O1(a,e,o),e,o);return r&&(u=Xa(u,r,o)),c_(k1(n,e.sourceId),u)}return n}function P3(n,e,t,r,a){const{defIdMap:o,instanceIdMap:u}=j3(n);let h=Ac(O1(t,e,a),e,a,!1,o,u);return Xa(h,r,a)}function O1(n,e,t){let r=t.options.eventDataTransform,a=e?e.eventDataTransform:null;return a&&(n=A0(n,a)),r&&(n=A0(n,r)),n}function A0(n,e){let t;if(!e)t=n;else{t=[];for(let r of n){let a=e(r);a?t.push(a):a==null&&t.push(r)}}return t}function V3(n,e,t,r){return t&&(e=Xa(e,t,r)),c_(n,e)}function T0(n,e,t){let{defs:r}=n,a=ao(n.instances,o=>r[o.defId].allDay?o:Object.assign(Object.assign({},o),{range:{start:t.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:t.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:o.forcedEndTzo}));return{defs:r,instances:a}}function k1(n,e){return mm(n,t=>t.sourceId!==e)}function L3(n,e){return{defs:n.defs,instances:Ka(n.instances,t=>!e[t.instanceId])}}function j3(n){const{defs:e,instances:t}=n,r={},a={};for(let o in e){const u=e[o],{publicId:h}=u;h&&(r[h]=o)}for(let o in t){const u=t[o],h=e[u.defId],{publicId:d}=h;d&&(a[d]=o)}return{defIdMap:r,instanceIdMap:a}}class pm{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){U3(this.handlers,e,t)}off(e,t){B3(this.handlers,e,t)}trigger(e,...t){let r=this.handlers[e]||[],a=this.options&&this.options[e],o=[].concat(a||[],r);for(let u of o)u.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function U3(n,e,t){(n[e]||(n[e]=[])).push(t)}function B3(n,e,t){t?n[e]&&(n[e]=n[e].filter(r=>r!==t)):delete n[e]}const z3={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function H3(n,e){return Ac(F3(n),null,e)}function F3(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},z3),t)),e}function P1(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},h_(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function q3(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function h_(n,e){let t={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(t,r(n,e));return Object.assign(t,s6(n,e.dateEnv)),t}function S0(n,e,t){let{dateEnv:r,options:a}=t,o=e;return n?(o=vt(o),o=r.add(o,a.defaultAllDayEventDuration)):o=r.add(o,a.defaultTimedEventDuration),o}function d_(n,e,t,r){let a=Pf(n.defs,e),o=Sr();for(let u in n.defs){let h=n.defs[u];o.defs[u]=G3(h,a[u],t,r)}for(let u in n.instances){let h=n.instances[u],d=o.defs[h.defId];o.instances[u]=Q3(h,d,a[h.defId],t,r)}return o}function G3(n,e,t,r){let a=t.standardProps||{};a.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(a.hasEnd=!0);let o=Object.assign(Object.assign(Object.assign({},n),a),{ui:Object.assign(Object.assign({},n.ui),a.ui)});t.extendedProps&&(o.extendedProps=Object.assign(Object.assign({},o.extendedProps),t.extendedProps));for(let u of r.pluginHooks.eventDefMutationAppliers)u(o,t,r);return!o.hasEnd&&r.options.forceEventDuration&&(o.hasEnd=!0),o}function Q3(n,e,t,r,a){let{dateEnv:o}=a,u=r.standardProps&&r.standardProps.allDay===!0,h=r.standardProps&&r.standardProps.hasEnd===!1,d=Object.assign({},n);return u&&(d.range=w1(d.range)),r.datesDelta&&t.startEditable&&(d.range={start:o.add(d.range.start,r.datesDelta),end:o.add(d.range.end,r.datesDelta)}),r.startDelta&&t.durationEditable&&(d.range={start:o.add(d.range.start,r.startDelta),end:d.range.end}),r.endDelta&&t.durationEditable&&(d.range={start:d.range.start,end:o.add(d.range.end,r.endDelta)}),h&&(d.range={start:d.range.start,end:S0(e.allDay,d.range.start,a)}),e.allDay&&(d.range={start:vt(d.range.start),end:vt(d.range.end)}),d.range.end<d.range.start&&(d.range.end=S0(e.allDay,d.range.start,a)),d}class sl{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class yt{constructor(e,t,r){this._context=e,this._def=t,this._instance=r||null}setProp(e,t){if(e in D1)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=$d[e](t),this.mutate({standardProps:{publicId:t}});else if(e in $d)t=$d[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Of){let r=Of[e](t);e==="color"?r={backgroundColor:t,borderColor:t}:e==="editable"?r={startEditable:t,durationEditable:t}:r={[e]:t},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:r}=this._context,a=r.createMarker(e);if(a&&this._instance){let o=this._instance.range,u=ol(o.start,a,r,t.granularity);t.maintainDuration?this.mutate({datesDelta:u}):this.mutate({startDelta:u})}}setEnd(e,t={}){let{dateEnv:r}=this._context,a;if(!(e!=null&&(a=r.createMarker(e),!a))&&this._instance)if(a){let o=ol(this._instance.range.end,a,r,t.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,r={}){let{dateEnv:a}=this._context,o={allDay:r.allDay},u=a.createMarker(e),h;if(u&&!(t!=null&&(h=a.createMarker(t),!h))&&this._instance){let d=this._instance.range;r.allDay===!0&&(d=w1(d));let p=ol(d.start,u,a,r.granularity);if(h){let g=ol(d.end,h,a,r.granularity);vU(p,g)?this.mutate({datesDelta:p,standardProps:o}):this.mutate({startDelta:p,endDelta:g,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:p,standardProps:o})}}moveStart(e){let t=We(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=We(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=We(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let r={allDay:e},{maintainDuration:a}=t;a==null&&(a=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=a),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:t}=this._context,r=this._instance,a=tn(e);return this._def.hasEnd?t.formatRange(r.range.start,r.range.end,a,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):t.format(r.range.start,a,{forcedTzo:r.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let r=this._def,a=this._context,{eventStore:o}=a.getCurrentData(),u=u_(o,t.instanceId);u=d_(u,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,a);let d=new yt(a,r,t);this._def=u.defs[r.defId],this._instance=u.instances[t.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:u}),a.emitter.trigger("eventChange",{oldEvent:d,event:this,relatedEvents:qa(u,a,t),revert(){a.dispatch({type:"RESET_EVENTS",eventStore:o})}})}}remove(){let e=this._context,t=V1(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new sl(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:r}=t,{startStr:a,endStr:o}=this,u={allDay:t.allDay};return t.title&&(u.title=t.title),a&&(u.start=a),o&&(u.end=o),t.publicId&&(u.id=t.publicId),t.groupId&&(u.groupId=t.groupId),t.url&&(u.url=t.url),r.display&&r.display!=="auto"&&(u.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?u.color=r.backgroundColor:(r.backgroundColor&&(u.backgroundColor=r.backgroundColor),r.borderColor&&(u.borderColor=r.borderColor)),r.textColor&&(u.textColor=r.textColor),r.classNames.length&&(u.classNames=r.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(u,t.extendedProps):u.extendedProps=t.extendedProps),u}toJSON(){return this.toPlainObject()}}function V1(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function qa(n,e,t){let{defs:r,instances:a}=n,o=[],u=t?t.instanceId:"";for(let h in a){let d=a[h],p=r[d.defId];d.instanceId!==u&&o.push(new yt(e,p,d))}return o}function w0(n,e,t,r){let a={},o={},u={},h=[],d=[],p=Pf(n.defs,e);for(let g in n.defs){let y=n.defs[g];p[y.defId].display==="inverse-background"&&(y.groupId?(a[y.groupId]=[],u[y.groupId]||(u[y.groupId]=y)):o[g]=[])}for(let g in n.instances){let y=n.instances[g],b=n.defs[y.defId],S=p[b.defId],R=y.range,M=!b.allDay&&r?R1(R,r):R,x=Sl(M,t);x&&(S.display==="inverse-background"?b.groupId?a[b.groupId].push(x):o[y.defId].push(x):S.display!=="none"&&(S.display==="background"?h:d).push({def:b,ui:S,instance:y,range:x,isStart:M.start&&M.start.valueOf()===x.start.valueOf(),isEnd:M.end&&M.end.valueOf()===x.end.valueOf()}))}for(let g in a){let y=a[g],b=E0(y,t);for(let S of b){let R=u[g],M=p[R.defId];h.push({def:R,ui:M,instance:null,range:S,isStart:!1,isEnd:!1})}}for(let g in o){let y=o[g],b=E0(y,t);for(let S of b)h.push({def:n.defs[g],ui:p[g],instance:null,range:S,isStart:!1,isEnd:!1})}return{bg:h,fg:d}}function R0(n,e){n.fcSeg=e}function wl(n){return n.fcSeg||n.parentNode.fcSeg||null}function Pf(n,e){return ao(n,t=>L1(t,e))}function L1(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),I3(t)}function Y3(n,e){let t=n.map(W3);return t.sort((r,a)=>cU(r,a,e)),t.map(r=>r._seg)}function W3(n){let{eventRange:e}=n,t=e.def,r=e.instance?e.instance.range:e.range,a=r.start?r.start.valueOf():0,o=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:a,end:o,duration:o-a,allDay:Number(t.allDay),_seg:n})}function $3(n,e){let{pluginHooks:t}=e,r=t.isDraggableTransformers,{def:a,ui:o}=n.eventRange,u=o.startEditable;for(let h of r)u=h(u,a,o,e);return u}function K3(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function X3(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function j1(n,e,t,r,a,o,u){let{dateEnv:h,options:d}=t,{displayEventTime:p,displayEventEnd:g}=d,y=n.eventRange.def,b=n.eventRange.instance;p==null&&(p=r!==!1),g==null&&(g=a!==!1);let S=b.range.start,R=b.range.end,M=n.start||n.eventRange.range.start,x=n.end||n.eventRange.range.end,O=vt(S).valueOf()===vt(M).valueOf(),H=vt(Js(R,-1)).valueOf()===vt(Js(x,-1)).valueOf();return p&&!y.allDay&&(O||H)?(M=O?S:M,x=H?R:x,g&&y.hasEnd?h.formatRange(M,x,e,{forcedStartTzo:b.forcedStartTzo,forcedEndTzo:b.forcedEndTzo}):h.format(M,e,{forcedTzo:b.forcedStartTzo})):""}function lc(n,e,t){let r=n.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&qs(e,r.start)}}function Z3(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function J3(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function U1(n,e){let{def:t,instance:r}=n.eventRange,{url:a}=t;if(a)return{href:a};let{emitter:o,options:u}=e,{eventInteractive:h}=u;return h==null&&(h=t.interactive,h==null&&(h=!!o.hasHandlers("eventClick"))),h?v1(d=>{o.trigger("eventClick",{el:d.target,event:new yt(e,t,r),jsEvent:d,view:e.viewApi})}):{}}const e6={start:$,end:$,allDay:Boolean};function t6(n,e,t){let r=n6(n,e),{range:a}=r;if(!a.start)return null;if(!a.end){if(t==null)return null;a.end=e.add(a.start,t)}return r}function n6(n,e){let{refined:t,extra:r}=n_(n,e6),a=t.start?e.createMarkerMeta(t.start):null,o=t.end?e.createMarkerMeta(t.end):null,{allDay:u}=t;return u==null&&(u=a&&a.isTimeUnspecified&&(!o||o.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:o?o.marker:null},allDay:u},r)}function r6(n,e){return y3(n.range,e.range)&&n.allDay===e.allDay&&i6(n,e)}function i6(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function s6(n,e){return Object.assign(Object.assign({},z1(n.range,e,n.allDay)),{allDay:n.allDay})}function B1(n,e,t){return Object.assign(Object.assign({},z1(n,e,t)),{timeZone:e.timeZone})}function z1(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function a6(n,e,t){let r=x1({editable:!1},t),a=jv(r.refined,r.extra,"",n.allDay,!0,t);return{def:a,ui:L1(a,e),instance:o_(a.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function o6(n,e,t){let r=!1,a=function(h){r||(r=!0,e(h))},o=function(h){r||(r=!0,t(h))},u=n(a,o);u&&typeof u.then=="function"&&u.then(a,o)}class C0 extends Error{constructor(e,t){super(e),this.response=t}}function l6(n,e,t){n=n.toUpperCase();const r={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(r.body=new URLSearchParams(t),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(a=>{if(a.ok)return a.json().then(o=>[o,a],()=>{throw new C0("Failure parsing JSON",a)});throw new C0("Request failed",a)})}let $g;function H1(){return $g==null&&($g=u6()),$g}function u6(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class c6 extends bt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Mf(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Mf(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:r}=this.state,a=r||t.height==="auto"||t.contentHeight==="auto",o=!a&&t.height!=null?t.height:"",u=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return H1()||u.push("fc-liquid-hack"),e.children(u,o,a,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Ul{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function h6(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function f_(n){return{[n.component.uid]:n}}const Bv={};class gm extends Yn{constructor(e,t){super(e,t),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:t}=this,r=t.nowManager.getDateMarker(),{nowIndicatorSnap:a}=t.options;a==="auto"&&(a=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let o,u;return a?(o=t.dateEnv.startOf(r,e.unit),u=t.dateEnv.add(o,We(1,e.unit)).valueOf()-r.valueOf()):(o=r,u=1e3*60),u=Math.min(1e3*60*60*24,u),{state:{nowDate:o,todayRange:d6(o)},waitMs:u}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const t=this.computeTiming();this.setState(t.state,()=>{this.setTimeout(t.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}gm.contextType=oo;function d6(n){let e=vt(n),t=nn(e,1);return{start:e,end:t}}class f6{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let r=this.getCurrentData(),a;t=t||"day",a=r.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),a?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:r}=this.getCurrentData(),a=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),o,u;for(let h in t)a.push(h);for(o=0;o<a.length;o+=1)if(u=t[a[o]],u&&u.singleUnit===e)return u;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),r=We(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),tn(t))}formatRange(e,t,r){let{dateEnv:a}=this.getCurrentData();return a.formatRange(a.createMarker(e),a.createMarker(t),tn(r),r)}formatIso(e,t){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:t})}select(e,t){let r;t==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:t};let a=this.getCurrentData(),o=t6(r,a.dateEnv,We({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),P1(o,null,a))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),q3(e,t))}addEvent(e,t){if(e instanceof yt){let u=e._def,h=e._instance;return this.getCurrentData().eventStore.defs[u.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Uv({def:u,instance:h})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),a;if(t instanceof sl)a=t.internalEventSource;else if(typeof t=="boolean")t&&([a]=i_(r.eventSources));else if(t!=null){let u=this.getEventSourceById(t);if(!u)return console.warn(`Could not find an event source with ID "${t}"`),null;a=u.internalEventSource}let o=I1(e,a,r,!1);if(o){let u=new yt(r,o.def,o.def.recurringDef?null:o.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Uv(o)}),this.triggerEventAdd(u),u}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:V1(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:r,instances:a}=t.eventStore;e=String(e);for(let o in r){let u=r[o];if(u.publicId===e){if(u.recurringDef)return new yt(t,u,null);for(let h in a){let d=a[h];if(d.defId===u.defId)return new yt(t,u,d)}}}return null}getEvents(){let e=this.getCurrentData();return qa(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,r=[];for(let a in t)r.push(new sl(e,t[a]));return r}getEventSourceById(e){let t=this.getCurrentData(),r=t.eventSources;e=String(e);for(let a in r)if(r[a].publicId===e)return new sl(t,r[a]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof sl)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=N1(e,t);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new sl(t,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=We(e);t&&this.trigger("_scrollRequest",{time:t})}}function m6(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function F1(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function p6(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function g6(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function v6(n,e){return{left:n.left-e.left,top:n.top-e.top}}function q1(n,e,t,r){return{dow:n.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!qs(r.activeRange,n))),isOther:!!(r&&!qs(r.currentRange,n)),isToday:!!(e&&qs(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function m_(n,e){let t=["fc-day",`fc-day-${bU[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const y6=tn({year:"numeric",month:"long",day:"numeric"}),_6=tn({week:"long"});function zv(n,e,t="day",r=!0){const{dateEnv:a,options:o,calendarApi:u}=n;let h=a.format(e,t==="week"?_6:y6);if(o.navLinks){let d=a.toDate(e);const p=g=>{let y=t==="day"?o.navLinkDayClick:t==="week"?o.navLinkWeekClick:null;typeof y=="function"?y.call(u,a.toDate(e),g):(typeof y=="string"&&(t=y),u.zoomTo(e,t))};return Object.assign({title:ac(o.navLinkHint,[h,d],h),"data-navlink":""},r?g1(p):{onClick:p})}return{"aria-label":h}}let Kg=null;function E6(){return Kg===null&&(Kg=b6()),Kg}function b6(){let n=document.createElement("div");sc(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return Xy(n),t}let Xg;function A6(){return Xg||(Xg=T6()),Xg}function T6(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=G1(n);return document.body.removeChild(n),e}function G1(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function S6(n,e=!1){let t=window.getComputedStyle(n),r=parseInt(t.borderLeftWidth,10)||0,a=parseInt(t.borderRightWidth,10)||0,o=parseInt(t.borderTopWidth,10)||0,u=parseInt(t.borderBottomWidth,10)||0,h=G1(n),d=h.y-r-a,p=h.x-o-u,g={borderLeft:r,borderRight:a,borderTop:o,borderBottom:u,scrollbarBottom:p,scrollbarLeft:0,scrollbarRight:0};return E6()&&t.direction==="rtl"?g.scrollbarLeft=d:g.scrollbarRight=d,e&&(g.paddingLeft=parseInt(t.paddingLeft,10)||0,g.paddingRight=parseInt(t.paddingRight,10)||0,g.paddingTop=parseInt(t.paddingTop,10)||0,g.paddingBottom=parseInt(t.paddingBottom,10)||0),g}function w6(n,e=!1,t){let r=p_(n),a=S6(n,e),o={left:r.left+a.borderLeft+a.scrollbarLeft,right:r.right-a.borderRight-a.scrollbarRight,top:r.top+a.borderTop,bottom:r.bottom-a.borderBottom-a.scrollbarBottom};return e&&(o.left+=a.paddingLeft,o.right-=a.paddingRight,o.top+=a.paddingTop,o.bottom-=a.paddingBottom),o}function p_(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function R6(n){let e=Q1(n),t=n.getBoundingClientRect();for(let r of e){let a=F1(t,r.getBoundingClientRect());if(a)t=a;else return null}return t}function Q1(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class Vf{constructor(e,t,r,a){this.els=t;let o=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(o.left),a&&this.buildElVerticals(o.top)}buildElHorizontals(e){let t=[],r=[];for(let a of this.els){let o=a.getBoundingClientRect();t.push(o.left-e),r.push(o.right-e)}this.lefts=t,this.rights=r}buildElVerticals(e){let t=[],r=[];for(let a of this.els){let o=a.getBoundingClientRect();t.push(o.top-e),r.push(o.bottom-e)}this.tops=t,this.bottoms=r}leftToIndex(e){let{lefts:t,rights:r}=this,a=t.length,o;for(o=0;o<a;o+=1)if(e>=t[o]&&e<r[o])return o}topToIndex(e){let{tops:t,bottoms:r}=this,a=t.length,o;for(o=0;o<a;o+=1)if(e>=t[o]&&e<r[o])return o}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return xd(this.tops||[],e.tops||[])&&xd(this.bottoms||[],e.bottoms||[])&&xd(this.lefts||[],e.lefts||[])&&xd(this.rights||[],e.rights||[])}}function xd(n,e){const t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(Math.round(n[r])!==Math.round(e[r]))return!1;return!0}class g_{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class C6 extends g_{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class D6 extends g_{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class uo extends bt{constructor(){super(...arguments),this.uid=so()}prepareHits(){}queryHit(e,t,r,a){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!yn(e,".fc-event-mirror")}isValidDateDownEl(e){return!yn(e,".fc-event:not(.fc-bg-event)")&&!yn(e,".fc-more-link")&&!yn(e,"a[data-navlink]")&&!yn(e,".fc-popover")}}class I6{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let r of e)this.insertEntry(r,t);return t}insertEntry(e,t){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,r){if(this.allowReslicing&&e.touchingEntry){const a=Object.assign(Object.assign({},t),{span:Y1(t.span,e.touchingEntry.span)});r.push(a),this.splitEntry(t,e.touchingEntry,r)}else r.push(t)}splitEntry(e,t,r){let a=e.span,o=t.span;a.start<o.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:o.start}},r),a.end>o.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.end,end:a.end}},r)}insertEntryAt(e,t){let{entriesByLevel:r,levelCoords:a}=this;t.lateral===-1?(Zg(a,t.level,t.levelCoord),Zg(r,t.level,[e])):Zg(r[t.level],t.lateral,e),this.stackCnts[uc(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:r,strictOrder:a,stackCnts:o}=this,u=t.length,h=0,d=-1,p=-1,g=null,y=0;for(let R=0;R<u;R+=1){const M=t[R];if(!a&&M>=h+this.getEntryThickness(e))break;let x=r[R],O,H=I0(x,e.span.start,D0),Z=H[0]+H[1];for(;(O=x[Z])&&O.span.start<e.span.end;){let le=M+this.getEntryThickness(O);le>h&&(h=le,g=O,d=R,p=Z),le===h&&(y=Math.max(y,o[uc(O)]+1)),Z+=1}}let b=0;if(g)for(b=d+1;b<u&&t[b]<h;)b+=1;let S=-1;return b<u&&t[b]===h&&(S=I0(r[b],e.span.end,D0)[0]),{touchingLevel:d,touchingLateral:p,touchingEntry:g,stackCnt:y,levelCoord:h,level:b,lateral:S}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,r=e.length,a=[];for(let o=0;o<r;o+=1){let u=e[o],h=t[o];for(let d of u)a.push(Object.assign(Object.assign({},d),{thickness:this.getEntryThickness(d),levelCoord:h}))}return a}}function D0(n){return n.span.end}function uc(n){return n.index+":"+n.span.start}function Y1(n,e){let t=Math.max(n.start,e.start),r=Math.min(n.end,e.end);return t<r?{start:t,end:r}:null}function Zg(n,e,t){n.splice(e,0,t)}function I0(n,e,t){let r=0,a=n.length;if(!a||e<t(n[r]))return[0,0];if(e>t(n[a-1]))return[a,0];for(;r<a;){let o=Math.floor(r+(a-r)/2),u=t(n[o]);if(e<u)a=o;else if(e>u)r=o+1;else return[o,1]}return[r,0]}class x6{constructor(e,t){this.emitter=new pm}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const v_={};function N6(n,e){return!n||e>10?tn({weekday:"short"}):e>1?tn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):tn({weekday:"long"})}const W1="fc-col-header-cell";function $1(n){return n.text}class M6 extends bt{render(){let{dateEnv:e,options:t,theme:r,viewApi:a}=this.context,{props:o}=this,{date:u,dateProfile:h}=o,d=q1(u,o.todayRange,null,h),p=[W1].concat(m_(d,r)),g=e.format(u,o.dayHeaderFormat),y=!d.isDisabled&&o.colCnt>1?zv(this.context,u):{},b=e.toDate(u);e.namedTimeZoneImpl&&(b=Js(b,36e5));let S=Object.assign(Object.assign(Object.assign({date:b,view:a},o.extraRenderProps),{text:g}),d);return X(Ki,{elTag:"th",elClasses:p,elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan,"data-date":d.isDisabled?void 0:e_(u)},o.extraDataAttrs),renderProps:S,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:$1,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},R=>X("div",{className:"fc-scrollgrid-sync-inner"},!d.isDisabled&&X(R,{elTag:"a",elAttrs:y,elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"]})))}}const O6=tn({weekday:"long"});class k6 extends bt{render(){let{props:e}=this,{dateEnv:t,theme:r,viewApi:a,options:o}=this.context,u=nn(new Date(2592e5),e.dow),h={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},d=t.format(u,e.dayHeaderFormat),p=Object.assign(Object.assign(Object.assign(Object.assign({date:u},h),{view:a}),e.extraRenderProps),{text:d});return X(Ki,{elTag:"th",elClasses:[W1,...m_(h,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:$1,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},g=>X("div",{className:"fc-scrollgrid-sync-inner"},X(g,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(u,O6)}})))}}class P6 extends bt{constructor(){super(...arguments),this.createDayHeaderFormatter=Ge(V6)}render(){let{context:e}=this,{dates:t,dateProfile:r,datesRepDistinctDays:a,renderIntro:o}=this.props,u=this.createDayHeaderFormatter(e.options.dayHeaderFormat,a,t.length);return X(gm,{unit:"day"},(h,d)=>X("tr",{role:"row"},o&&o("day"),t.map(p=>a?X(M6,{key:p.toISOString(),date:p,dateProfile:r,todayRange:d,colCnt:t.length,dayHeaderFormat:u}):X(k6,{key:p.getUTCDay(),dow:p.getUTCDay(),dayHeaderFormat:u}))))}}function V6(n,e,t){return n||N6(e,t)}class L6{constructor(e,t){let r=e.start,{end:a}=e,o=[],u=[],h=-1;for(;r<a;)t.isHiddenDay(r)?o.push(h+.5):(h+=1,o.push(h),u.push(r)),r=nn(r,1);this.dates=u,this.indices=o,this.cnt=u.length}sliceRange(e){let t=this.getDateDayIndex(e.start),r=this.getDateDayIndex(nn(e.end,-1)),a=Math.max(0,t),o=Math.min(this.cnt-1,r);return a=Math.ceil(a),o=Math.floor(o),a<=o?{firstIndex:a,lastIndex:o,isStart:t===a,isEnd:r===o}:null}getDateDayIndex(e){let{indices:t}=this,r=Math.floor(jl(this.dates[0],e));return r<0?t[0]-1:r>=t.length?t[t.length-1]+1:t[r]}}class j6{constructor(e,t){let{dates:r}=e,a,o,u;if(t){for(o=r[0].getUTCDay(),a=1;a<r.length&&r[a].getUTCDay()!==o;a+=1);u=Math.ceil(r.length/a)}else u=1,a=r.length;this.rowCnt=u,this.colCnt=a,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let r=[];for(let a=0;a<this.colCnt;a+=1)r.push(this.buildCell(t,a));e.push(r)}return e}buildCell(e,t){let r=this.daySeries.dates[e*this.colCnt+t];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,r=this.daySeries.sliceRange(e),a=[];if(r){let{firstIndex:o,lastIndex:u}=r,h=o;for(;h<=u;){let d=Math.floor(h/t),p=Math.min((d+1)*t,u+1);a.push({row:d,firstCol:h%t,lastCol:(p-1)%t,isStart:r.isStart&&h===o,isEnd:r.isEnd&&p-1===u}),h=p}}return a}}class U6{constructor(){this.sliceBusinessHours=Ge(this._sliceBusinessHours),this.sliceDateSelection=Ge(this._sliceDateSpan),this.sliceEventStore=Ge(this._sliceEventStore),this.sliceEventDrag=Ge(this._sliceInteraction),this.sliceEventResize=Ge(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,r,a,...o){let{eventUiBases:u}=e,h=this.sliceEventStore(e.eventStore,u,t,r,...o);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,r,u,a,...o),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,r,a,...o),fgEventSegs:h.fg,bgEventSegs:h.bg,eventDrag:this.sliceEventDrag(e.eventDrag,u,t,r,...o),eventResize:this.sliceEventResize(e.eventResize,u,t,r,...o),eventSelection:e.eventSelection}}sliceNowDate(e,t,r,a,...o){return this._sliceDateSpan({range:{start:e,end:Js(e,1)},allDay:!1},t,r,{},a,...o)}_sliceBusinessHours(e,t,r,a,...o){return e?this._sliceEventStore(Xa(e,Nd(t,!!r),a),{},t,r,...o).bg:[]}_sliceEventStore(e,t,r,a,...o){if(e){let u=w0(e,t,Nd(r,!!a),a);return{bg:this.sliceEventRanges(u.bg,o),fg:this.sliceEventRanges(u.fg,o)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,r,a,...o){if(!e)return null;let u=w0(e.mutatedEvents,t,Nd(r,!!a),a);return{segs:this.sliceEventRanges(u.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,r,a,o,...u){if(!e)return[];let h=Nd(t,!!r),d=Sl(e.range,h);if(d){e=Object.assign(Object.assign({},e),{range:d});let p=a6(e,a,o),g=this.sliceRange(e.range,...u);for(let y of g)y.eventRange=p;return g}return[]}sliceEventRanges(e,t){let r=[];for(let a of e)r.push(...this.sliceEventRange(a,t));return r}sliceEventRange(e,t){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:nn(r.start,1)});let a=this.sliceRange(r,...t);for(let o of a)o.eventRange=e,o.isStart=e.isStart&&o.isStart,o.isEnd=e.isEnd&&o.isEnd;return a}}function Nd(n,e){let t=n.activeRange;return e?t:{start:Js(t.start,n.slotMinTime.milliseconds),end:Js(t.end,n.slotMaxTime.milliseconds-864e5)}}function K1(n,e,t){let{instances:r}=n.mutatedEvents;for(let a in r)if(!fm(e.validRange,r[a].range))return!1;return X1({eventDrag:n},t)}function B6(n,e,t){return fm(e.validRange,n.range)?X1({dateSelection:n},t):!1}function X1(n,e){let t=e.getCurrentData(),r=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||z6)(r,e)}function z6(n,e,t={},r){return!(n.eventDrag&&!H6(n,e,t,r)||n.dateSelection&&!F6(n,e,t,r))}function H6(n,e,t,r){let a=e.getCurrentData(),o=n.eventDrag,u=o.mutatedEvents,h=u.defs,d=u.instances,p=Pf(h,o.isEvent?n.eventUiBases:{"":a.selectionConfig});r&&(p=ao(p,r));let g=L3(n.eventStore,o.affectedEvents.instances),y=g.defs,b=g.instances,S=Pf(y,n.eventUiBases);for(let R in d){let M=d[R],x=M.range,O=p[M.defId],H=h[M.defId];if(!Z1(O.constraints,x,g,n.businessHours,e))return!1;let{eventOverlap:Z}=e.options,le=typeof Z=="function"?Z:null;for(let J in b){let I=b[J];if(a_(x,I.range)&&(S[I.defId].overlap===!1&&o.isEvent||O.overlap===!1||le&&!le(new yt(e,y[I.defId],I),new yt(e,H,M))))return!1}let re=a.eventStore;for(let J of O.allows){let I=Object.assign(Object.assign({},t),{range:M.range,allDay:H.allDay}),C=re.defs[H.defId],N=re.instances[R],j;if(C?j=new yt(e,C,N):j=new yt(e,H),!J(h_(I,e),j))return!1}}return!0}function F6(n,e,t,r){let a=n.eventStore,o=a.defs,u=a.instances,h=n.dateSelection,d=h.range,{selectionConfig:p}=e.getCurrentData();if(r&&(p=r(p)),!Z1(p.constraints,d,a,n.businessHours,e))return!1;let{selectOverlap:g}=e.options,y=typeof g=="function"?g:null;for(let b in u){let S=u[b];if(a_(d,S.range)&&(p.overlap===!1||y&&!y(new yt(e,o[S.defId],S),null)))return!1}for(let b of p.allows){let S=Object.assign(Object.assign({},t),h);if(!b(h_(S,e),null))return!1}return!0}function Z1(n,e,t,r,a){for(let o of n)if(!G6(q6(o,e,t,r,a),e))return!1;return!0}function q6(n,e,t,r,a){return n==="businessHours"?Jg(Xa(r,e,a)):typeof n=="string"?Jg(mm(t,o=>o.groupId===n)):typeof n=="object"&&n?Jg(Xa(n,e,a)):[]}function Jg(n){let{instances:e}=n,t=[];for(let r in e)t.push(e[r].range);return t}function G6(n,e){for(let t of n)if(fm(t,e))return!0;return!1}const Md=/^(visible|hidden)$/;class Q6 extends bt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,di(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:r}=e,a=t&&r,o=["fc-scroller"];return t&&(r?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),X("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:a&&-(e.overcomeLeft||0)||"",right:a&&-(e.overcomeRight||0)||"",bottom:a&&-(e.overcomeBottom||0)||"",marginLeft:!a&&-(e.overcomeLeft||0)||"",marginRight:!a&&-(e.overcomeRight||0)||"",marginBottom:!a&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Md.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let a=0;a<r.length;a+=1)if(r[a].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Md.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let a=0;a<r.length;a+=1)if(r[a].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Md.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Md.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class za{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,r)=>{let{depths:a,currentMap:o}=this,u=!1,h=!1;t!==null?(u=r in o,o[r]=t,a[r]=(a[r]||0)+1,h=!0):(a[r]-=1,a[r]||(delete o[r],delete this.callbackMap[r],u=!0)),this.masterCallback&&(u&&this.masterCallback(null,String(r)),h&&this.masterCallback(t,String(r)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),t}collect(e,t,r){return t3(this.currentMap,e,t,r)}getAll(){return i_(this.currentMap)}}function Y6(n){let e=eU(n,".fc-scrollgrid-shrink"),t=0;for(let r of e)t=Math.max(t,mU(r));return Math.ceil(t)}function J1(n,e){return n.liquid&&e.liquid}function W6(n,e){return e.maxHeight!=null||J1(n,e)}function $6(n,e,t,r){let{expandRows:a}=t;return typeof e.content=="function"?e.content(t):X("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:a?t.clientHeight:""}},t.tableColGroupNode,X(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function K6(n,e){return Zs(n,e,Ir)}function X6(n,e){let t=[];for(let r of n){let a=r.span||1;for(let o=0;o<a;o+=1)t.push(X("col",{style:{width:r.width==="shrink"?Z6(e):r.width||"",minWidth:r.minWidth||""}}))}return X("colgroup",{},...t)}function Z6(n){return n??4}function J6(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function eB(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function tB(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function nB(n){return X("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function x0(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function rB(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class eD extends bt{constructor(){super(...arguments),this.processCols=Ge(e=>e,K6),this.renderMicroColGroup=Ge(X6),this.scrollerRefs=new za,this.scrollerElRefs=new za(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:r}=this,a=e.sections||[],o=this.processCols(e.cols),u=this.renderMicroColGroup(o,t.shrinkWidth),h=eB(e.liquid,r);e.collapsibleWidth&&h.push("fc-scrollgrid-collapsible");let d=a.length,p=0,g,y=[],b=[],S=[];for(;p<d&&(g=a[p]).type==="header";)y.push(this.renderSection(g,u,!0)),p+=1;for(;p<d&&(g=a[p]).type==="body";)b.push(this.renderSection(g,u,!1)),p+=1;for(;p<d&&(g=a[p]).type==="footer";)S.push(this.renderSection(g,u,!0)),p+=1;let R=!H1();const M={role:"rowgroup"};return X("table",{role:"grid",className:h.join(" "),style:{height:e.height}},!!(!R&&y.length)&&X("thead",M,...y),!!(!R&&b.length)&&X("tbody",M,...b),!!(!R&&S.length)&&X("tfoot",M,...S),R&&X("tbody",M,...y,...b,...S))}renderSection(e,t,r){return"outerContent"in e?X(St,{key:e.key},e.outerContent):X("tr",{key:e.key,role:"presentation",className:tB(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,r))}renderChunkTd(e,t,r,a){if("outerContent"in r)return r.outerContent;let{props:o}=this,{forceYScrollbars:u,scrollerClientWidths:h,scrollerClientHeights:d}=this.state,p=W6(o,e),g=J1(o,e),y=o.liquid?u?"scroll":p?"auto":"hidden":"visible",b=e.key,S=$6(e,r,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&h[b]!==void 0?h[b]:null,clientHeight:d[b]!==void 0?d[b]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},a);return X(a?"th":"td",{ref:r.elRef,role:"presentation"},X("div",{className:`fc-scroller-harness${g?" fc-scroller-harness-liquid":""}`},X(Q6,{ref:this.scrollerRefs.createRef(b),elRef:this.scrollerElRefs.createRef(b),overflowY:y,overflowX:o.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:g,liquidIsAbsolute:!0},S)))}_handleScrollerEl(e,t){let r=iB(this.props.sections,t);r&&di(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return J6(this.props.cols)?Y6(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=A6(),{scrollerRefs:t,scrollerElRefs:r}=this,a=!1,o={},u={};for(let h in t.currentMap){let d=t.currentMap[h];if(d&&d.needsYScrolling()){a=!0;break}}for(let h of this.props.sections){let d=h.key,p=r.currentMap[d];if(p){let g=p.parentNode;o[d]=Math.floor(g.getBoundingClientRect().width-(a?e.y:0)),u[d]=Math.floor(g.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:o,scrollerClientHeights:u}}}eD.addStateEquality({scrollerClientWidths:Ir,scrollerClientHeights:Ir});function iB(n,e){for(let t of n)if(t.key===e)return t;return null}class y_ extends bt{constructor(){super(...arguments),this.buildPublicEvent=Ge((e,t,r)=>new yt(e,t,r)),this.handleEl=e=>{this.el=e,di(this.props.elRef,e),e&&R0(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:r}=t,{seg:a}=e,{eventRange:o}=a,{ui:u}=o,h={event:this.buildPublicEvent(t,o.def,o.instance),view:t.viewApi,timeText:e.timeText,textColor:u.textColor,backgroundColor:u.backgroundColor,borderColor:u.borderColor,isDraggable:!e.disableDragging&&$3(a,t),isStartResizable:!e.disableResizing&&K3(a,t),isEndResizable:!e.disableResizing&&X3(a),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!a.isStart,isEnd:!!a.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return X(Ki,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...Z3(h),...a.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:h,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&R0(this.el,this.props.seg)}}class tD extends bt{render(){let{props:e,context:t}=this,{options:r}=t,{seg:a}=e,{ui:o}=a.eventRange,u=r.eventTimeFormat||e.defaultTimeFormat,h=j1(a,u,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return X(y_,Object.assign({},e,{elTag:"a",elStyle:{borderColor:o.borderColor,backgroundColor:o.backgroundColor},elAttrs:U1(a,t),defaultGenerator:sB,timeText:h}),(d,p)=>X(St,null,X(d,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:p.textColor}}),!!p.isStartResizable&&X("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!p.isEndResizable&&X("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}tD.addPropsEquality({seg:Ir});function sB(n){return X("div",{className:"fc-event-main-frame"},n.timeText&&X("div",{className:"fc-event-time"},n.timeText),X("div",{className:"fc-event-title-container"},X("div",{className:"fc-event-title fc-sticky"},n.event.title||X(St,null,""))))}const aB=tn({day:"numeric"});class nD extends bt{constructor(){super(...arguments),this.refineRenderProps=Wd(oB)}render(){let{props:e,context:t}=this,{options:r}=t,a=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:r.monthStartFormat});return X(Ki,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),a.isDisabled?{}:{"data-date":e_(e.date)}),elClasses:[...m_(a,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:a.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function rD(n){return!!(n.dayCellContent||Lv("dayCellContent",n))}function oB(n){let{date:e,dateEnv:t,dateProfile:r,isMonthStart:a}=n,o=q1(e,n.todayRange,null,r),u=n.showDayNumber?t.format(e,a?n.monthStartFormat:aB):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},o),{isMonthStart:a,dayNumberText:u}),n.extraRenderProps)}class lB extends bt{render(){let{props:e}=this,{seg:t}=e;return X(y_,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:uB,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function uB(n){let{title:e}=n.event;return e&&X("div",{className:"fc-event-title"},n.event.title)}function cB(n){return X("div",{className:`fc-${n}`})}const hB=n=>X(oo.Consumer,null,e=>{let{dateEnv:t,options:r}=e,{date:a}=n,o=r.weekNumberFormat||n.defaultFormat,u=t.computeWeekNumber(a),h=t.format(a,o),d={num:u,text:h,date:a};return X(Ki,{elRef:n.elRef,elTag:n.elTag,elAttrs:n.elAttrs,elClasses:n.elClasses,elStyle:n.elStyle,renderProps:d,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:dB,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},n.children)});function dB(n){return n.text}const ev=10;class fB extends bt{constructor(){super(...arguments),this.state={titleId:hm()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&di(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=m1(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:r,state:a}=this,o=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return B4(X("div",Object.assign({},r.extraAttrs,{id:r.id,className:o.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),X("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},X("span",{className:"fc-popover-title",id:a.titleId},r.title),X("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),X("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:r}=this.props,{rootEl:a}=this,o=R6(t);if(o){let u=a.getBoundingClientRect(),h=r?yn(t,".fc-scrollgrid").getBoundingClientRect().top:o.top,d=e?o.right-u.width:o.left;h=Math.max(h,ev),d=Math.min(d,document.documentElement.clientWidth-ev-u.width),d=Math.max(d,ev);let p=a.offsetParent.getBoundingClientRect();sc(a,{top:h-p.top,left:d-p.left})}}}class mB extends uo{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:r}=this,{startDate:a,todayRange:o,dateProfile:u}=r,h=t.format(a,e.dayPopoverFormat);return X(nD,{elRef:this.handleRootEl,date:a,dateProfile:u,todayRange:o},(d,p,g)=>X(fB,{elRef:g.ref,id:r.id,title:h,extraClassNames:["fc-more-popover"].concat(g.className||[]),extraAttrs:g,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},rD(e)&&X(d,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,t,r,a){let{rootEl:o,props:u}=this;return e>=0&&e<r&&t>=0&&t<a?{dateProfile:u.dateProfile,dateSpan:Object.assign({allDay:!u.forceTimed,range:{start:u.startDate,end:u.endDate}},u.extraDateSpan),dayEl:o,rect:{left:0,top:0,right:r,bottom:a},layer:1}:null}}class pB extends bt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:hm()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&di(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:r}=this,{moreLinkClick:a}=r.options,o=N0(t).start;function u(h){let{def:d,instance:p,range:g}=h.eventRange;return{event:new yt(r,d,p),start:r.dateEnv.toDate(g.start),end:r.dateEnv.toDate(g.end),isStart:h.isStart,isEnd:h.isEnd}}typeof a=="function"&&(a=a({date:o,allDay:!!t.allDayDate,allSegs:t.allSegs.map(u),hiddenSegs:t.hiddenSegs.map(u),jsEvent:e,view:r.viewApi})),!a||a==="popover"?this.setState({isPopoverOpen:!0}):typeof a=="string"&&r.calendarApi.zoomTo(o,a)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return X(oo.Consumer,null,r=>{let{viewApi:a,options:o,calendarApi:u}=r,{moreLinkText:h}=o,{moreCnt:d}=e,p=N0(e),g=typeof h=="function"?h.call(u,d):`+${d} ${h}`,y=ac(o.moreLinkHint,[d],g),b={num:d,shortText:`+${d}`,text:g,view:a};return X(St,null,!!e.moreCnt&&X(Ki,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),g1(this.handleClick)),{title:y,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:b,generatorName:"moreLinkContent",customGenerator:o.moreLinkContent,defaultGenerator:e.defaultGenerator||gB,classNameGenerator:o.moreLinkClassNames,didMount:o.moreLinkDidMount,willUnmount:o.moreLinkWillUnmount},e.children),t.isPopoverOpen&&X(mB,{id:t.popoverId,startDate:p.start,endDate:p.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=yn(this.linkEl,".fc-view-harness"))}}function gB(n){return n.text}function N0(n){if(n.allDayDate)return{start:n.allDayDate,end:nn(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:vB(e),end:_B(e)}}function vB(n){return n.reduce(yB).eventRange.range.start}function yB(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function _B(n){return n.reduce(EB).eventRange.range.end}function EB(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class bB{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class AB extends bB{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let r=!1;e.isActive?(t.set(e.id,e),r=!0):t.has(e.id)&&(t.delete(e.id),r=!0),r&&this.set(t)}}const TB=[],iD={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},sD=Object.assign(Object.assign({},iD),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function SB(n){let e=n.length>0?n[0].code:"en",t=TB.concat(n),r={en:sD};for(let a of t)r[a.code]=a;return{map:r,defaultCode:e}}function aD(n,e){return typeof n=="object"&&!Array.isArray(n)?oD(n.code,[n.code],n):wB(n,e)}function wB(n,e){let t=[].concat(n||[]),r=RB(t,e)||sD;return oD(n,t,r)}function RB(n,e){for(let t=0;t<n.length;t+=1){let r=n[t].toLocaleLowerCase().split("-");for(let a=r.length;a>0;a-=1){let o=r.slice(0,a).join("-");if(e[o])return e[o]}}return null}function oD(n,e,t){let r=r_([iD,t],["buttonText"]);delete r.code;let{week:a}=r;return delete r.week,{codeArg:n,codes:e,week:a,simpleNumberFormat:new Intl.NumberFormat(n),options:r}}function ra(n){return{id:so(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function CB(n,e){let t={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function a(o){for(let u of o){const h=u.name,d=t[h];d===void 0?(t[h]=u.id,a(u.deps),r=IB(r,u)):d!==u.id&&console.warn(`Duplicate plugin '${h}'`)}}return n&&a(n),a(e),r}function DB(){let n=[],e=[],t;return(r,a)=>((!t||!Zs(r,n)||!Zs(a,e))&&(t=CB(r,a)),n=r,e=a,t)}function IB(n,e){return{premiumReleaseDate:xB(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function xB(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class ia extends zc{}ia.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ia.prototype.baseIconClass="fc-icon";ia.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ia.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ia.prototype.iconOverrideOption="buttonIcons";ia.prototype.iconOverrideCustomButtonOption="icon";ia.prototype.iconOverridePrefix="fc-icon-";function NB(n,e){let t={},r;for(r in n)Hv(r,t,n,e);for(r in e)Hv(r,t,n,e);return t}function Hv(n,e,t,r){if(e[n])return e[n];let a=MB(n,e,t,r);return a&&(e[n]=a),a}function MB(n,e,t,r){let a=t[n],o=r[n],u=g=>a&&a[g]!==null?a[g]:o&&o[g]!==null?o[g]:null,h=u("component"),d=u("superType"),p=null;if(d){if(d===n)throw new Error("Can't have a custom view type that references itself");p=Hv(d,e,t,r)}return!h&&p&&(h=p.component),h?{type:n,component:h,defaults:Object.assign(Object.assign({},p?p.defaults:{}),a?a.rawOptions:{}),overrides:Object.assign(Object.assign({},p?p.overrides:{}),o?o.rawOptions:{})}:null}function M0(n){return ao(n,OB)}function OB(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=O0(e):t&&!(t.prototype instanceof bt)&&(t=O0(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function O0(n){return e=>X(oo.Consumer,null,t=>X(Ki,{elTag:"div",elClasses:S1(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function kB(n,e,t,r){let a=M0(n),o=M0(e.views),u=NB(a,o);return ao(u,h=>PB(h,o,e,t,r))}function PB(n,e,t,r,a){let o=n.overrides.duration||n.defaults.duration||r.duration||t.duration,u=null,h="",d="",p={};if(o&&(u=VB(o),u)){let b=Vv(u);h=b.unit,b.value===1&&(d=h,p=e[h]?e[h].rawOptions:{})}let g=b=>{let S=b.buttonText||{},R=n.defaults.buttonTextKey;return R!=null&&S[R]!=null?S[R]:S[n.type]!=null?S[n.type]:S[d]!=null?S[d]:null},y=b=>{let S=b.buttonHints||{},R=n.defaults.buttonTextKey;return R!=null&&S[R]!=null?S[R]:S[n.type]!=null?S[n.type]:S[d]!=null?S[d]:null};return{type:n.type,component:n.component,duration:u,durationUnit:h,singleUnit:d,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},p),n.overrides),buttonTextOverride:g(r)||g(t)||n.overrides.buttonText,buttonTextDefault:g(a)||n.defaults.buttonText||g(oc)||n.type,buttonTitleOverride:y(r)||y(t)||n.overrides.buttonHint,buttonTitleDefault:y(a)||n.defaults.buttonHint||y(oc)}}let k0={};function VB(n){let e=JSON.stringify(n),t=k0[e];return t===void 0&&(t=We(n),k0[e]=t),t}function LB(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function jB(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function UB(n,e,t){let r=n.initialDate;return r!=null?e.createMarker(r):t.getDateMarker()}function BB(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function zB(n,e,t,r){let a;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||t);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(a=r.buildPrev(n,t),a.isValid)return a;break;case"NEXT":if(a=r.buildNext(n,t),a.isValid)return a;break}return n}function HB(n,e,t){let r=e?e.activeRange:null;return uD({},$B(n,t),r,t)}function FB(n,e,t,r){let a=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return uD(n,e.sources,a,r);case"REMOVE_EVENT_SOURCE":return GB(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?cD(n,a,r):n;case"FETCH_EVENT_SOURCES":return __(n,e.sourceIds?_1(e.sourceIds):hD(n,r),a,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return WB(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function qB(n,e,t){let r=e?e.activeRange:null;return __(n,hD(n,t),r,!0,t)}function lD(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function uD(n,e,t,r){let a={};for(let o of e)a[o.sourceId]=o;return t&&(a=cD(a,t,r)),Object.assign(Object.assign({},n),a)}function GB(n,e){return Ka(n,t=>t.sourceId!==e)}function cD(n,e,t){return __(n,Ka(n,r=>QB(r,e,t)),e,!1,t)}function QB(n,e,t){return dD(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function __(n,e,t,r,a){let o={};for(let u in n){let h=n[u];e[u]?o[u]=YB(h,t,r,a):o[u]=h}return o}function YB(n,e,t,r){let{options:a,calendarApi:o}=r,u=r.pluginHooks.eventSourceDefs[n.sourceDefId],h=so();return u.fetch({eventSource:n,range:e,isRefetch:t,context:r},d=>{let{rawEvents:p}=d;a.eventSourceSuccess&&(p=a.eventSourceSuccess.call(o,p,d.response)||p),n.success&&(p=n.success.call(o,p,d.response)||p),r.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:h,fetchRange:e,rawEvents:p})},d=>{let p=!1;a.eventSourceFailure&&(a.eventSourceFailure.call(o,d),p=!0),n.failure&&(n.failure(d),p=!0),p||console.warn(d.message,d),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:h,fetchRange:e,error:d})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:h})}function WB(n,e,t,r){let a=n[e];return a&&t===a.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},a),{isFetching:!1,fetchRange:r})}):n}function hD(n,e){return Ka(n,t=>dD(t,e))}function $B(n,e){let t=M1(e),r=[].concat(n.eventSources||[]),a=[];n.initialEvents&&r.unshift(n.initialEvents),n.events&&r.unshift(n.events);for(let o of r){let u=N1(o,e,t);u&&a.push(u)}return a}function dD(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function KB(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function XB(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function ZB(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function JB(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function ez(n,e,t,r,a){let o=n.headerToolbar?P0(n.headerToolbar,n,e,t,r,a):null,u=n.footerToolbar?P0(n.footerToolbar,n,e,t,r,a):null;return{header:o,footer:u}}function P0(n,e,t,r,a,o){let u={},h=[],d=!1;for(let p in n){let g=n[p],y=tz(g,e,t,r,a,o);u[p]=y.widgets,h.push(...y.viewsWithButtons),d=d||y.hasTitle}return{sectionWidgets:u,viewsWithButtons:h,hasTitle:d}}function tz(n,e,t,r,a,o){let u=e.direction==="rtl",h=e.customButtons||{},d=t.buttonText||{},p=e.buttonText||{},g=t.buttonHints||{},y=e.buttonHints||{},b=n?n.split(" "):[],S=[],R=!1;return{widgets:b.map(x=>x.split(",").map(O=>{if(O==="title")return R=!0,{buttonName:O};let H,Z,le,re,J,I;if(H=h[O])le=C=>{H.click&&H.click.call(C.target,C,C.target)},(re=r.getCustomButtonIconClass(H))||(re=r.getIconClass(O,u))||(J=H.text),I=H.hint||H.text;else if(Z=a[O]){S.push(O),le=()=>{o.changeView(O)},(J=Z.buttonTextOverride)||(re=r.getIconClass(O,u))||(J=Z.buttonTextDefault);let C=Z.buttonTextOverride||Z.buttonTextDefault;I=ac(Z.buttonTitleOverride||Z.buttonTitleDefault||e.viewHint,[C,O],C)}else if(o[O])if(le=()=>{o[O]()},(J=d[O])||(re=r.getIconClass(O,u))||(J=p[O]),O==="prevYear"||O==="nextYear"){let C=O==="prevYear"?"prev":"next";I=ac(g[C]||y[C],[p.year||"year","year"],p[O])}else I=C=>ac(g[O]||y[O],[p[C]||C,C],p[O]);return{buttonName:O,buttonClick:le,buttonIcon:re,buttonText:J,buttonHint:I}})),viewsWithButtons:S,hasTitle:R}}class nz{constructor(e,t,r){this.type=e,this.getCurrentData=t,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let rz={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const iz=ra({name:"array-event-source",eventSourceDefs:[rz]});let sz={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:r}=n.context,a=n.eventSource.meta;o6(a.bind(null,B1(n.range,r)),o=>e({rawEvents:o}),t)}};const az=ra({name:"func-event-source",eventSourceDefs:[sz]}),oz={method:String,extraParams:$,startParam:String,endParam:String,timeZoneParam:String};let lz={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:r}=n.eventSource,a=cz(r,n.range,n.context);l6(r.method,r.url,a).then(([o,u])=>{e({rawEvents:o,response:u})},t)}};const uz=ra({name:"json-event-source",eventSourceRefiners:oz,eventSourceDefs:[lz]});function cz(n,e,t){let{dateEnv:r,options:a}=t,o,u,h,d,p={};return o=n.startParam,o==null&&(o=a.startParam),u=n.endParam,u==null&&(u=a.endParam),h=n.timeZoneParam,h==null&&(h=a.timeZoneParam),typeof n.extraParams=="function"?d=n.extraParams():d=n.extraParams||{},Object.assign(p,d),p[o]=r.formatIso(e.start),p[u]=r.formatIso(e.end),r.timeZone!=="local"&&(p[h]=r.timeZone),p}const hz={daysOfWeek:$,startTime:We,endTime:We,duration:We,startRecur:$,endRecur:$};let dz={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null,dateEnv:e},r;return n.duration&&(r=n.duration),!r&&n.startTime&&n.endTime&&(r=yU(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:r,typeData:t}}return null},expand(n,e,t){let r=Sl(e,{start:n.startRecur,end:n.endRecur});return r?mz(n.daysOfWeek,n.startTime,n.dateEnv,t,r):[]}};const fz=ra({name:"simple-recurring-event",recurringTypes:[dz],eventRefiners:hz});function mz(n,e,t,r,a){let o=n?_1(n):null,u=vt(a.start),h=a.end,d=[];for(e&&(e.milliseconds<0?h=nn(h,1):e.milliseconds>=1e3*60*60*24&&(u=nn(u,-1)));u<h;){let p;(!o||o[u.getUTCDay()])&&(e?p=r.add(u,e):p=u,d.push(r.createMarker(t.toDate(p)))),u=nn(u,1)}return d}const pz=ra({name:"change-handler",optionChangeHandlers:{events(n,e){V0([n],e)},eventSources:V0}});function V0(n,e){let t=i_(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let r=[];for(let a of n){let o=!1;for(let u=0;u<t.length;u+=1)if(t[u]._raw===a){t.splice(u,1),o=!0;break}o||r.push(a)}for(let a of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:a.sourceId});for(let a of r)e.calendarApi.addEventSource(a)}function gz(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},B1(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function vz(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",qa(n,e))}const yz=[iz,az,uz,fz,pz,ra({name:"misc",isLoadingFuncs:[n=>lD(n.eventSources)],propSetHandlers:{dateProfile:gz,eventStore:vz}})];class _z{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Ky(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],r;for(;r=e.shift();)this.runTask(r),t.push(r);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function Ez(n,e,t){let r;return/^(year|month)$/.test(n.currentRangeUnit)?r=n.currentRange:r=n.activeRange,t.formatRange(r.start,r.end,tn(e.titleFormat||bz(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function bz(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=Df(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class L0{constructor(){this.resetListeners=new Set}handleInput(e,t){const r=this.dateEnv;if(e!==r&&(typeof t=="function"?this.nowFn=t:r||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const a of this.resetListeners.values())a()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class Az{constructor(e){this.computeCurrentViewData=Ge(this._computeCurrentViewData),this.organizeRawLocales=Ge(SB),this.buildLocale=Ge(aD),this.buildPluginHooks=DB(),this.buildDateEnv=Ge(Tz),this.buildTheme=Ge(Sz),this.parseToolbars=Ge(ez),this.buildViewSpecs=Ge(kB),this.buildDateProfileGenerator=Wd(wz),this.buildViewApi=Ge(Rz),this.buildViewUiProps=Wd(Iz),this.buildEventUiBySource=Ge(Cz,Ir),this.buildEventUiBases=Ge(Dz),this.parseContextBusinessHours=Wd(xz),this.buildTitle=Ge(Ez),this.nowManager=new L0,this.emitter=new pm,this.actionRunner=new _z(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=b=>{this.actionRunner.request(b)},this.props=e,this.actionRunner.pause(),this.nowManager=new L0;let t={},r=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),a=r.calendarOptions.initialView||r.pluginHooks.initialView,o=this.computeCurrentViewData(a,r,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(o.options);let u={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},h=UB(r.calendarOptions,r.dateEnv,this.nowManager),d=o.dateProfileGenerator.build(h);qs(d.activeRange,h)||(h=d.currentRange.start);for(let b of r.pluginHooks.contextInit)b(u);let p=HB(r.calendarOptions,d,u),g={dynamicOptionOverrides:t,currentViewType:a,currentDate:h,dateProfile:d,businessHours:this.parseContextBusinessHours(u),eventSources:p,eventUiBases:{},eventStore:Sr(),renderableEventStore:Sr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(u).selectionConfig},y=Object.assign(Object.assign({},u),g);for(let b of r.pluginHooks.reducers)Object.assign(g,b(null,null,y));tv(g,u)&&this.emitter.trigger("loading",!0),this.state=g,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:r}=this;t===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:r,emitter:a}=this,o=BB(r.dynamicOptionOverrides,e),u=this.computeOptionsData(t.optionOverrides,o,t.calendarApi),h=LB(r.currentViewType,e),d=this.computeCurrentViewData(h,u,t.optionOverrides,o);t.calendarApi.currentDataManager=this,a.setThisContext(t.calendarApi),a.setOptions(d.options);let p={nowManager:this.nowManager,dateEnv:u.dateEnv,options:u.calendarOptions,pluginHooks:u.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},{currentDate:g,dateProfile:y}=r;this.data&&this.data.dateProfileGenerator!==d.dateProfileGenerator&&(y=d.dateProfileGenerator.build(g)),g=jB(g,e),y=zB(y,e,g,d.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!qs(y.currentRange,g))&&(g=y.currentRange.start);let b=FB(r.eventSources,e,y,p),S=O3(r.eventStore,e,b,y,p),M=lD(b)&&!d.options.progressiveEventRendering&&r.renderableEventStore||S,{eventUiSingleBase:x,selectionConfig:O}=this.buildViewUiProps(p),H=this.buildEventUiBySource(b),Z=this.buildEventUiBases(M.defs,x,H),le={dynamicOptionOverrides:o,currentViewType:h,currentDate:g,dateProfile:y,eventSources:b,eventStore:S,renderableEventStore:M,selectionConfig:O,eventUiBases:Z,businessHours:this.parseContextBusinessHours(p),dateSelection:KB(r.dateSelection,e),eventSelection:XB(r.eventSelection,e),eventDrag:ZB(r.eventDrag,e),eventResize:JB(r.eventResize,e)},re=Object.assign(Object.assign({},p),le);for(let C of u.pluginHooks.reducers)Object.assign(le,C(r,e,re));let J=tv(r,p),I=tv(le,p);!J&&I?a.trigger("loading",!0):J&&!I&&a.trigger("loading",!1),this.state=le,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,r=this.data,a=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),o=this.computeCurrentViewData(t.currentViewType,a,e.optionOverrides,t.dynamicOptionOverrides),u=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,o.options,a.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),o),t),h=a.pluginHooks.optionChangeHandlers,d=r&&r.calendarOptions,p=a.calendarOptions;if(d&&d!==p){d.timeZone!==p.timeZone&&(t.eventSources=u.eventSources=qB(u.eventSources,t.dateProfile,u),t.eventStore=u.eventStore=T0(u.eventStore,r.dateEnv,u.dateEnv),t.renderableEventStore=u.renderableEventStore=T0(u.renderableEventStore,r.dateEnv,u.dateEnv));for(let g in h)(this.optionsForHandling.indexOf(g)!==-1||d[g]!==p[g])&&h[g](p[g],u)}this.optionsForHandling=[],e.onData&&e.onData(u)}computeOptionsData(e,t,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:a,pluginHooks:o,localeDefaults:u,availableLocaleData:h,extra:d}=this.processRawCalendarOptions(e,t);j0(d);let p=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,o,h,a.defaultRangeSeparator),g=this.buildViewSpecs(o.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,u),y=this.buildTheme(a,o),b=this.parseToolbars(a,this.stableOptionOverrides,y,g,r);return this.stableCalendarOptionsData={calendarOptions:a,pluginHooks:o,dateEnv:p,viewSpecs:g,theme:y,toolbarConfig:b,localeDefaults:u,availableRawLocales:h.map}}processRawCalendarOptions(e,t){let{locales:r,locale:a}=Yg([oc,e,t]),o=this.organizeRawLocales(r),u=o.map,h=this.buildLocale(a||o.defaultCode,u).options,d=this.buildPluginHooks(e.plugins||[],yz),p=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},g0),v0),y0),d.listenerRefiners),d.optionRefiners),g={},y=Yg([oc,h,e,t]),b={},S=this.currentCalendarOptionsInput,R=this.currentCalendarOptionsRefined,M=!1;for(let x in y)this.optionsForRefining.indexOf(x)===-1&&(y[x]===S[x]||La[x]&&x in S&&La[x](S[x],y[x]))?b[x]=R[x]:p[x]?(b[x]=p[x](y[x]),M=!0):g[x]=S[x];return M&&(this.currentCalendarOptionsInput=y,this.currentCalendarOptionsRefined=b,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:d,availableLocaleData:o,localeDefaults:h,extra:g}}_computeCurrentViewData(e,t,r,a){let o=t.viewSpecs[e];if(!o)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:u,extra:h}=this.processRawViewOptions(o,t.pluginHooks,t.localeDefaults,r,a);j0(h),this.nowManager.handleInput(t.dateEnv,u.now);let d=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:u.slotMinTime,slotMaxTime:u.slotMaxTime,showNonCurrentDates:u.showNonCurrentDates,dayCount:u.dayCount,dateAlignment:u.dateAlignment,dateIncrement:u.dateIncrement,hiddenDays:u.hiddenDays,weekends:u.weekends,validRangeInput:u.validRange,visibleRangeInput:u.visibleRange,fixedWeekCount:u.fixedWeekCount}),p=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:o,options:u,dateProfileGenerator:d,viewApi:p}}processRawViewOptions(e,t,r,a,o){let u=Yg([oc,e.optionDefaults,r,a,e.optionOverrides,o]),h=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},g0),v0),y0),KU),t.listenerRefiners),t.optionRefiners),d={},p=this.currentViewOptionsInput,g=this.currentViewOptionsRefined,y=!1,b={};for(let S in u)u[S]===p[S]||La[S]&&La[S](u[S],p[S])?d[S]=g[S]:(u[S]===this.currentCalendarOptionsInput[S]||La[S]&&La[S](u[S],this.currentCalendarOptionsInput[S])?S in this.currentCalendarOptionsRefined&&(d[S]=this.currentCalendarOptionsRefined[S]):h[S]?d[S]=h[S](u[S]):b[S]=u[S],y=!0);return y&&(this.currentViewOptionsInput=u,this.currentViewOptionsRefined=d),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:b}}}function Tz(n,e,t,r,a,o,u,h){let d=aD(e||u.defaultCode,u.map);return new o3({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:d,weekNumberCalculation:t,firstDay:r,weekText:a,cmdFormatter:o.cmdFormatter,defaultSeparator:h})}function Sz(n,e){let t=e.themeClasses[n.themeSystem]||ia;return new t(n)}function wz(n){let e=n.dateProfileGeneratorClass||C1;return new e(n)}function Rz(n,e,t){return new nz(n,e,t)}function Cz(n){return ao(n,e=>e.ui)}function Dz(n,e,t){let r={"":e};for(let a in n){let o=n[a];o.sourceId&&t[o.sourceId]&&(r[a]=t[o.sourceId])}return r}function Iz(n){let{options:e}=n;return{eventUiSingleBase:kf({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:kf({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function tv(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function xz(n){return H3(n.options.businessHours,n)}function j0(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class Nz extends bt{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return X("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:r}=this.context,a=[],o=!0;for(let u of e){let{buttonName:h,buttonClick:d,buttonText:p,buttonIcon:g,buttonHint:y}=u;if(h==="title")o=!1,a.push(X("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let b=h===t.activeButton,S=!t.isTodayEnabled&&h==="today"||!t.isPrevEnabled&&h==="prev"||!t.isNextEnabled&&h==="next",R=[`fc-${h}-button`,r.getClass("button")];b&&R.push(r.getClass("buttonActive")),a.push(X("button",{type:"button",title:typeof y=="function"?y(t.navUnit):y,disabled:S,"aria-pressed":b,className:R.join(" "),onClick:d},p||(g?X("span",{className:g,role:"img"}):"")))}}if(a.length>1){let u=o&&r.getClass("buttonGroup")||"";return X("div",{className:u},...a)}return a[0]}}class U0 extends bt{render(){let{model:e,extraClassName:t}=this.props,r=!1,a,o,u=e.sectionWidgets,h=u.center;return u.left?(r=!0,a=u.left):a=u.start,u.right?(r=!0,o=u.right):o=u.end,X("div",{className:[t||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",h||[]),this.renderSection("end",o||[]))}renderSection(e,t){let{props:r}=this;return X(Nz,{key:e,widgetGroups:t,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class Mz extends bt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,di(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:r}=e,a=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",u="";return r?t.availableWidth!==null?o=t.availableWidth/r:u=`${1/r*100}%`:o=e.height||"",X("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:a.join(" "),style:{height:o,paddingBottom:u}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Oz extends Ul{constructor(e){super(e),this.handleSegClick=(t,r)=>{let{component:a}=this,{context:o}=a,u=wl(r);if(u&&a.isValidSegDownEl(t.target)){let h=yn(t.target,".fc-event-forced-url"),d=h?h.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:r,event:new yt(a.context,u.eventRange.def,u.eventRange.instance),jsEvent:t,view:o.viewApi}),d&&!t.defaultPrevented&&(window.location.href=d)}},this.destroy=p1(e.el,"click",".fc-event",this.handleSegClick)}}class kz extends Ul{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,r)=>{wl(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",t,r))},this.handleSegLeave=(t,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,r))},this.removeHoverListeners=rU(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,r){let{component:a}=this,{context:o}=a,u=wl(r);(!t||a.isValidSegDownEl(t.target))&&o.emitter.trigger(e,{el:r,event:new yt(o,u.eventRange.def,u.eventRange.instance),jsEvent:t,view:o.viewApi})}}class Pz extends lo{constructor(){super(...arguments),this.buildViewContext=Ge(c3),this.buildViewPropTransformers=Ge(Lz),this.buildToolbarProps=Ge(Vz),this.headerRef=Yi(),this.footerRef=Yi(),this.interactionsStore={},this.state={viewLabelId:hm()},this.registerInteractiveComponent=(e,t)=>{let r=h6(e,t),u=[Oz,kz].concat(this.props.pluginHooks.componentInteractions).map(h=>new h(r));this.interactionsStore[e.uid]=u,Bv[e.uid]=r},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let r of t)r.destroy();delete this.interactionsStore[e.uid]}delete Bv[e.uid]},this.resizeRunner=new Ky(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:r}=e,a=!1,o="",u;e.isHeightAuto||e.forPrint?o="":r.height!=null?a=!0:r.contentHeight!=null?o=r.contentHeight:u=Math.max(r.aspectRatio,.5);let h=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),d=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return X(oo.Provider,{value:h},X(gm,{unit:"day"},p=>{let g=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,p,e.viewTitle);return X(St,null,t.header&&X(U0,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:d},g)),X(Mz,{liquid:a,height:o,aspectRatio:u,labeledById:d},this.renderView(e),this.buildAppendContent()),t.footer&&X(U0,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},g)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let r in t)t[r](e[r],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:r}=t.pluginHooks;for(let a in r)t[a]!==e[a]&&r[a](t[a],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(r=>r(e));return X(St,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:r}=e,a={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},o=this.buildViewPropTransformers(t.viewPropsTransformers);for(let h of o)Object.assign(a,h.transform(a,e));let u=r.component;return X(u,Object.assign({},a))}}function Vz(n,e,t,r,a,o){let u=t.build(a,void 0,!1),h=t.buildPrev(e,r,!1),d=t.buildNext(e,r,!1);return{title:o,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:u.isValid&&!qs(e.currentRange,a),isPrevEnabled:h.isValid,isNextEnabled:d.isValid}}function Lz(n){return n.map(e=>new e)}let jz=class extends f6{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Mf(()=>{Ec(X(c6,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(a,o,u,h)=>(this.setClassNames(a),this.setHeight(o),X(T1.Provider,{value:this.customContentRenderId},X(Pz,Object.assign({isHeightAuto:u,forPrint:h},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Ec(null,this.el),this.setClassNames([]),this.setHeight(""))},W4(e),this.el=e,this.renderRunner=new Ky(this.handleRenderRequest),new Az({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Mf(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Zs(e,this.currentClassNames)){let{classList:t}=this.el;for(let r of this.currentClassNames)t.remove(r);for(let r of e)t.add(r);this.currentClassNames=e}}setHeight(e){f1(this.el,"height",e)}};const Uz=parseInt(String(Tr.version).split(".")[0]),Bz=Uz<18;class fD extends L.Component{constructor(){super(...arguments),this.elRef=L.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(Tr.createElement(zz,{key:t.id,customRendering:t}));return Tr.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new AB;this.handleCustomRendering=e.handle.bind(e),this.calendar=new jz(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{iv.flushSync(()=>{})});let t;e.subscribe(r=>{const a=Date.now(),o=!t;(Bz||o||this.isUpdating||this.isUnmounting||a-t<100?mD:iv.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{t=a,o?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}fD.act=mD;class zz extends L.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,r=typeof t=="function"?t(e.renderProps):t;return iv.createPortal(r,e.containerEl)}}function mD(n){n()}class Hz extends uo{constructor(){super(...arguments),this.headerElRef=Yi()}renderSimpleLayout(e,t){let{props:r,context:a}=this,o=[],u=x0(a.options);return e&&o.push({type:"header",key:"header",isSticky:u,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),X(_0,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},X(eD,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,t,r,a){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{props:u,context:h}=this,d=!u.forPrint&&x0(h.options),p=!u.forPrint&&rB(h.options),g=[];return e&&g.push({type:"header",key:"header",isSticky:d,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),g.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),p&&g.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:nB}]}),X(_0,{elClasses:["fc-daygrid"],viewSpec:h.viewSpec},X(o,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:u.forPrint,colGroups:[{cols:[{span:r,minWidth:a}]}],sections:g}))}}function Kd(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.row].push(r);return t}function Od(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.firstCol].push(r);return t}function B0(n,e){let t=[];if(n){for(let r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let r of n.segs)t[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)t[r]=null;return t}const pD=tn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function gD(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class vD extends bt{render(){let{props:e}=this;return X(tD,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:pD,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class yD extends bt{render(){let{props:e,context:t}=this,{options:r}=t,{seg:a}=e,o=r.eventTimeFormat||pD,u=j1(a,o,t,!0,e.defaultDisplayEventEnd);return X(y_,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:U1(e.seg,t),defaultGenerator:Fz,timeText:u,isResizing:!1,isDateSelecting:!1}))}}function Fz(n){return X(St,null,X("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&X("div",{className:"fc-event-time"},n.timeText),X("div",{className:"fc-event-title"},n.event.title||X(St,null,"")))}class qz extends bt{constructor(){super(...arguments),this.compileSegs=Ge(Gz)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return X(pB,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let a=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return X(St,null,t.map(o=>{let u=o.eventRange.instance.instanceId;return X("div",{className:"fc-daygrid-event-harness",key:u,style:{visibility:a[u]?"hidden":""}},gD(o)?X(yD,Object.assign({seg:o,isDragging:!1,isSelected:u===e.eventSelection,defaultDisplayEventEnd:!1},lc(o,e.todayRange))):X(vD,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===e.eventSelection,defaultDisplayEventEnd:!1},lc(o,e.todayRange))))}))}})}}function Gz(n){let e=[],t=[];for(let r of n)e.push(r.seg),r.isVisible||t.push(r.seg);return{allSegs:e,invisibleSegs:t}}const Qz=tn({week:"narrow"});class Yz extends uo{constructor(){super(...arguments),this.rootElRef=Yi(),this.state={dayNumberId:hm()},this.handleRootEl=e=>{di(this.rootElRef,e),di(this.props.elRef,e)}}render(){let{context:e,props:t,state:r,rootElRef:a}=this,{options:o,dateEnv:u}=e,{date:h,dateProfile:d}=t;const p=t.showDayNumber&&$z(h,d.currentRange,u);return X(nD,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Wz,date:h,dateProfile:d,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:p,extraRenderProps:t.extraRenderProps},(g,y)=>X("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&X(hB,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:zv(e,h,"week"),date:h,defaultFormat:Qz}),!y.isDisabled&&(t.showDayNumber||rD(o)||t.forceDayTop)?X("div",{className:"fc-daygrid-day-top"},X(g,{elTag:"a",elClasses:["fc-daygrid-day-number",p&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},zv(e,h)),{id:r.dayNumberId})})):t.showDayNumber?X("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},X("a",{className:"fc-daygrid-day-number"},"")):void 0,X("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,X("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},X(qz,{allDayDate:h,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:a,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),X("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function Wz(n){return n.dayNumberText||X(St,null,"")}function $z(n,e,t){const{start:r,end:a}=e,o=Js(a,-1),u=t.getYear(r),h=t.getMonth(r),d=t.getYear(o),p=t.getMonth(o);return!(u===d&&h===p)&&(n.valueOf()===r.valueOf()||t.getDay(n)===1&&n.valueOf()<a.valueOf())}function _D(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function ED(n){return _D(n)+":"+n.lastCol}function Kz(n,e,t,r,a,o,u){let h=new Jz(O=>{let H=n[O.index].eventRange.instance.instanceId+":"+O.span.start+":"+(O.span.end-1);return a[H]||1});h.allowReslicing=!0,h.strictOrder=r,e===!0||t===!0?(h.maxCoord=o,h.hiddenConsumes=!0):typeof e=="number"?h.maxStackCnt=e:typeof t=="number"&&(h.maxStackCnt=t,h.hiddenConsumes=!0);let d=[],p=[];for(let O=0;O<n.length;O+=1){let H=n[O],Z=ED(H);a[Z]!=null?d.push({index:O,span:{start:H.firstCol,end:H.lastCol+1}}):p.push(H)}let g=h.addSegs(d),y=h.toRects(),{singleColPlacements:b,multiColPlacements:S,leftoverMargins:R}=Xz(y,n,u),M=[],x=[];for(let O of p){S[O.firstCol].push({seg:O,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let H=O.firstCol;H<=O.lastCol;H+=1)b[H].push({seg:ml(O,H,H+1,u),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let O=0;O<u.length;O+=1)M.push(0);for(let O of g){let H=n[O.index],Z=O.span;S[Z.start].push({seg:ml(H,Z.start,Z.end,u),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let le=Z.start;le<Z.end;le+=1)M[le]+=1,b[le].push({seg:ml(H,le,le+1,u),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let O=0;O<u.length;O+=1)x.push(R[O]);return{singleColPlacements:b,multiColPlacements:S,moreCnts:M,moreMarginTops:x}}function Xz(n,e,t){let r=Zz(n,t.length),a=[],o=[],u=[];for(let h=0;h<t.length;h+=1){let d=r[h],p=[],g=0,y=0;for(let S of d){let R=e[S.index];p.push({seg:ml(R,h,h+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:S.levelCoord,marginTop:S.levelCoord-g}),g=S.levelCoord+S.thickness}let b=[];g=0,y=0;for(let S of d){let R=e[S.index],M=S.span.end-S.span.start>1,x=S.span.start===h;y+=S.levelCoord-g,g=S.levelCoord+S.thickness,M?(y+=S.thickness,x&&b.push({seg:ml(R,S.span.start,S.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:S.levelCoord,marginTop:0})):x&&(b.push({seg:ml(R,S.span.start,S.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:S.levelCoord,marginTop:y}),y=0)}a.push(p),o.push(b),u.push(y)}return{singleColPlacements:a,multiColPlacements:o,leftoverMargins:u}}function Zz(n,e){let t=[];for(let r=0;r<e;r+=1)t.push([]);for(let r of n)for(let a=r.span.start;a<r.span.end;a+=1)t[a].push(r);return t}function ml(n,e,t,r){if(n.firstCol===e&&n.lastCol===t-1)return n;let a=n.eventRange,o=a.range,u=Sl(o,{start:r[e].date,end:nn(r[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:u},isStart:n.isStart&&u.start.valueOf()===o.start.valueOf(),isEnd:n.isEnd&&u.end.valueOf()===o.end.valueOf()})}class Jz extends I6{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:r}=this,a=o=>!this.forceHidden[uc(o)];for(let o=0;o<r.length;o+=1)r[o]=r[o].filter(a);return t}handleInvalidInsertion(e,t,r){const{entriesByLevel:a,forceHidden:o}=this,{touchingEntry:u,touchingLevel:h,touchingLateral:d}=e;if(this.hiddenConsumes&&u){const p=uc(u);if(!o[p])if(this.allowReslicing){const g=Object.assign(Object.assign({},u),{span:Y1(u.span,t.span)}),y=uc(g);o[y]=!0,a[h][d]=g,r.push(g),this.splitEntry(u,t,r)}else o[p]=!0,r.push(u)}super.handleInvalidInsertion(e,t,r)}}class bD extends uo{constructor(){super(...arguments),this.cellElRefs=new za,this.frameElRefs=new za,this.fgElRefs=new za,this.segHarnessRefs=new za,this.rootElRef=Yi(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:r}=this,{options:a}=r,o=e.cells.length,u=Od(e.businessHourSegs,o),h=Od(e.bgEventSegs,o),d=Od(this.getHighlightSegs(),o),p=Od(this.getMirrorSegs(),o),{singleColPlacements:g,multiColPlacements:y,moreCnts:b,moreMarginTops:S}=Kz(Y3(e.fgEventSegs,a.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,a.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),R=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return X("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((M,x)=>{let O=this.renderFgSegs(x,e.forPrint?g[x]:y[x],e.todayRange,R),H=this.renderFgSegs(x,e5(p[x],y),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return X(Yz,{key:M.key,elRef:this.cellElRefs.createRef(M.key),innerElRef:this.frameElRefs.createRef(M.key),dateProfile:e.dateProfile,date:M.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&x===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:M.extraRenderProps,extraDataAttrs:M.extraDataAttrs,extraClassNames:M.extraClassNames,extraDateSpan:M.extraDateSpan,moreCnt:b[x],moreMarginTop:S[x],singlePlacements:g[x],fgContentElRef:this.fgElRefs.createRef(M.key),fgContent:X(St,null,X(St,null,O),X(St,null,H)),bgContent:X(St,null,this.renderFillSegs(d[x],"highlight"),this.renderFillSegs(u[x],"non-business"),this.renderFillSegs(h[x],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let r=this.props;this.updateSizing(!Ir(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,r,a,o,u,h){let{context:d}=this,{eventSelection:p}=this.props,{framePositions:g}=this.state,y=this.props.cells.length===1,b=o||u||h,S=[];if(g)for(let R of t){let{seg:M}=R,{instanceId:x}=M.eventRange.instance,O=R.isVisible&&!a[x],H=R.isAbsolute,Z="",le="";H&&(d.isRtl?(le=0,Z=g.lefts[M.lastCol]-g.lefts[M.firstCol]):(Z=0,le=g.rights[M.firstCol]-g.rights[M.lastCol])),S.push(X("div",{className:"fc-daygrid-event-harness"+(H?" fc-daygrid-event-harness-abs":""),key:_D(M),ref:b?null:this.segHarnessRefs.createRef(ED(M)),style:{visibility:O?"":"hidden",marginTop:H?"":R.marginTop,top:H?R.absoluteTop:"",left:Z,right:le}},gD(M)?X(yD,Object.assign({seg:M,isDragging:o,isSelected:x===p,defaultDisplayEventEnd:y},lc(M,r))):X(vD,Object.assign({seg:M,isDragging:o,isResizing:u,isDateSelecting:h,isSelected:x===p,defaultDisplayEventEnd:y},lc(M,r)))))}return S}renderFillSegs(e,t){let{isRtl:r}=this.context,{todayRange:a}=this.props,{framePositions:o}=this.state,u=[];if(o)for(let h of e){let d=r?{right:0,left:o.lefts[h.lastCol]-o.lefts[h.firstCol]}:{left:0,right:o.rights[h.firstCol]-o.rights[h.lastCol]};u.push(X("div",{key:J3(h.eventRange),className:"fc-daygrid-bg-harness",style:d},t==="bg-event"?X(lB,Object.assign({seg:h},lc(h,a))):cB(t)))}return X(St,{},...u)}updateSizing(e){let{props:t,state:r,frameElRefs:a}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let d=t.cells.map(p=>a.currentMap[p.key]);if(d.length){let p=this.rootElRef.current,g=new Vf(p,d,!0,!1);(!r.framePositions||!r.framePositions.similarTo(g))&&this.setState({framePositions:new Vf(p,d,!0,!1)})}}const o=this.state.segHeights,u=this.querySegHeights(),h=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},o),u),maxContentHeight:h?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let r in e){let a=Math.round(e[r].getBoundingClientRect().height);t[r]=Math.max(t[r]||0,a)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}bD.addStateEquality({segHeights:Ir});function e5(n,e){if(!n.length)return[];let t=t5(e);return n.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}))}function t5(n){let e={};for(let t of n)for(let r of t)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class n5 extends uo{constructor(){super(...arguments),this.splitBusinessHourSegs=Ge(Kd),this.splitBgEventSegs=Ge(r5),this.splitFgEventSegs=Ge(Kd),this.splitDateSelectionSegs=Ge(Kd),this.splitEventDrag=Ge(B0),this.splitEventResize=Ge(B0),this.rowRefs=new za}render(){let{props:e,context:t}=this,r=e.cells.length,a=this.splitBusinessHourSegs(e.businessHourSegs,r),o=this.splitBgEventSegs(e.bgEventSegs,r),u=this.splitFgEventSegs(e.fgEventSegs,r),h=this.splitDateSelectionSegs(e.dateSelectionSegs,r),d=this.splitEventDrag(e.eventDrag,r),p=this.splitEventResize(e.eventResize,r),g=r>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return X(gm,{unit:"day"},(y,b)=>X(St,null,e.cells.map((S,R)=>X(bD,{ref:this.rowRefs.createRef(R),key:S.length?S[0].date.toISOString():R,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:b,dateProfile:e.dateProfile,cells:S,renderIntro:e.renderRowIntro,businessHourSegs:a[R],eventSelection:e.eventSelection,bgEventSegs:o[R],fgEventSegs:u[R],dateSelectionSegs:h[R],eventDrag:d[R],eventResize:p[R],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:g,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Vf(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Vf(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:r,rowPositions:a}=this,o=r.leftToIndex(e),u=a.topToIndex(t);if(u!=null&&o!=null){let h=this.props.cells[u][o];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(u,o),allDay:!0},h.extraDateSpan),dayEl:this.getCellEl(u,o),rect:{left:r.lefts[o],right:r.rights[o],top:a.tops[u],bottom:a.bottoms[u]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let r=this.props.cells[e][t].date,a=nn(r,1);return{start:r,end:a}}}function r5(n,e){return Kd(n.filter(i5),e)}function i5(n){return n.eventRange.def.allDay}class s5 extends uo{constructor(){super(...arguments),this.elRef=Yi(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:r,expandRows:a}=e,o=r===!0||t===!0;o&&!a&&(o=!1,t=null,r=null);let u=["fc-daygrid-body",o?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return X("div",{ref:this.elRef,className:u.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},X("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:a?e.clientHeight:""}},e.colGroupNode,X("tbody",{role:"presentation"},X(n5,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=a5(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),r=t.closest(".fc-scroller"),a=e.getBoundingClientRect().top-t.getBoundingClientRect().top;r.scrollTop=a?a+1:0}this.needsScrollReset=!1}}}function a5(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${kU(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${e_(e.currentDate)}"]`)),t}class o5 extends U6{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class l5 extends uo{constructor(){super(...arguments),this.slicer=new o5,this.tableRef=Yi()}render(){let{props:e,context:t}=this;return X(s5,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class u5 extends Hz{constructor(){super(...arguments),this.buildDayTableModel=Ge(c5),this.headerRef=Yi(),this.tableRef=Yi()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:r}=this,a=this.buildDayTableModel(r.dateProfile,t),o=e.dayHeaders&&X(P6,{ref:this.headerRef,dateProfile:r.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),u=h=>X(l5,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:a,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:h.tableColGroupNode,tableMinWidth:h.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:h.clientWidth,clientHeight:h.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,u,a.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,u)}}function c5(n,e){let t=new L6(n.renderRange,e);return new j6(t,/year|month|week/.test(n.currentRangeUnit))}class h5 extends C1{buildRenderRange(e,t,r){let a=super.buildRenderRange(e,t,r),{props:o}=this;return d5({currentRange:a,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:o.fixedWeekCount,dateEnv:o.dateEnv})}}function d5(n){let{dateEnv:e,currentRange:t}=n,{start:r,end:a}=t,o;if(n.snapToWeek&&(r=e.startOfWeek(r),o=e.startOfWeek(a),o.valueOf()!==a.valueOf()&&(a=h0(o,1))),n.fixedWeekCount){let u=e.startOfWeek(e.startOfMonth(nn(t.end,-1))),h=Math.ceil(AU(u,a));a=h0(a,6-h)}return{start:r,end:a}}var f5=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';c1(f5);var m5=ra({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:u5,dateProfileGeneratorClass:h5},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});v_.touchMouseIgnoreWait=500;let Fv=0,Lf=0,qv=!1;class AD{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&p5(t)&&this.tryStart(t)){let r=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let r=this.createEventFromMouse(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let r=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let a=t.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let r=this.createEventFromTouch(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=t=>{if(this.isDragging){let r=t.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,g5()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:a,deltaX:r-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=e,this.emitter=new pm,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),v5()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),y5()}tryStart(e){let t=this.querySubjectEl(e),r=e.target;return t&&(!this.handleSelector||yn(r,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){qv=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?yn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Fv||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(qv=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let r=0,a=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,a=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:a}}createEventFromTouch(e,t){let r=e.touches,a,o,u=0,h=0;return r&&r.length?(a=r[0].pageX,o=r[0].pageY):(a=e.pageX,o=e.pageY),t?(this.origPageX=a,this.origPageY=o):(u=a-this.origPageX,h=o-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:o,deltaX:u,deltaY:h}}}function p5(n){return n.button===0&&!n.ctrlKey}function g5(){Fv+=1,setTimeout(()=>{Fv-=1},v_.touchMouseIgnoreWait)}function v5(){Lf+=1,Lf===1&&window.addEventListener("touchmove",TD,{passive:!1})}function y5(){Lf-=1,Lf||window.removeEventListener("touchmove",TD,{passive:!1})}function TD(n){qv&&n.preventDefault()}class _5{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let r=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,t){let r=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",sc(r,{left:a.left,top:a.top}),iU(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(Xy(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&sc(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),sc(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class SD extends g_{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class wD extends SD{constructor(e,t){super(new C6(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return w6(this.scrollController.el)}}class E5 extends SD{constructor(e){super(new D6,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const z0=typeof performance=="function"?performance.now:Date.now;class b5{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=z0();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let r=e-window.scrollX,a=t-window.scrollY,o=this.pointerScreenY===null?0:a-this.pointerScreenY,u=this.pointerScreenX===null?0:r-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),u<0?this.everMovedLeft=!0:u>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(z0()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:r}=e,{edgeThreshold:a}=this,o=a-e.distance,u=o*o/(a*a)*this.maxVelocity*t,h=1;switch(e.name){case"left":h=-1;case"right":r.setScrollLeft(r.getScrollLeft()+u*h);break;case"top":h=-1;case"bottom":r.setScrollTop(r.getScrollTop()+u*h);break}}computeBestEdge(e,t){let{edgeThreshold:r}=this,a=null,o=this.scrollCaches||[];for(let u of o){let h=u.clientRect,d=e-h.left,p=h.right-e,g=t-h.top,y=h.bottom-t;d>=0&&p>=0&&g>=0&&y>=0&&(g<=r&&this.everMovedUp&&u.canScrollUp()&&(!a||a.distance>g)&&(a={scrollCache:u,name:"top",distance:g}),y<=r&&this.everMovedDown&&u.canScrollDown()&&(!a||a.distance>y)&&(a={scrollCache:u,name:"bottom",distance:y}),d<=r&&this.everMovedLeft&&u.canScrollLeft()&&(!a||a.distance>d)&&(a={scrollCache:u,name:"left",distance:d}),p<=r&&this.everMovedRight&&u.canScrollRight()&&(!a||a.distance>p)&&(a={scrollCache:u,name:"right",distance:p}))}return a}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new E5(!1):new wD(t,!1))}queryScrollEls(e){let t=[];for(let r of this.scrollQuery)typeof r=="object"?t.push(r):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return t}}class Hc extends x6{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=a=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,sU(document.body),oU(document.body),a.isTouch||a.origEvent.preventDefault(),this.emitter.trigger("pointerdown",a),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(a.subjectEl,a.pageX,a.pageY),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a)))},this.onPointerMove=a=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",a),!this.isDistanceSurpassed){let o=this.minDistance,u,{deltaX:h,deltaY:d}=a;u=h*h+d*d,u>=o*o&&this.handleDistanceSurpassed(a)}this.isDragging&&(a.origEvent.type!=="scroll"&&(this.mirror.handleMove(a.pageX,a.pageY),this.autoScroller.handleMove(a.pageX,a.pageY)),this.emitter.trigger("dragmove",a))}},this.onPointerUp=a=>{this.isInteracting&&(this.isInteracting=!1,aU(document.body),lU(document.body),this.emitter.trigger("pointerup",a),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(a)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new AD(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),t&&(r.selector=t),this.mirror=new _5,this.autoScroller=new b5}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class A5{constructor(e){this.el=e,this.origRect=p_(e),this.scrollCaches=Q1(e).map(t=>new wD(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let r={left:e,top:t};for(let a of this.scrollCaches)if(!T5(a.getEventTarget())&&!m6(r,a.clientRect))return!1;return!0}}function T5(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class vm{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:a}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(a.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):a.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new pm}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},r=t,a=e.subjectEl,o;a instanceof HTMLElement&&(o=p_(a),r=p6(r,o));let u=this.initialHit=this.queryHitForOffset(r.left,r.top);if(u){if(this.useSubjectCenter&&o){let h=F1(o,u.rect);h&&(r=g6(h))}this.coordAdjust=v6(r,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!ym(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=ao(this.droppableStore,e=>(e.component.prepareHits(),new A5(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:r,offsetTrackers:a}=this,o=null;for(let u in r){let h=r[u].component,d=a[u];if(d&&d.isWithinClipping(e,t)){let p=d.computeLeft(),g=d.computeTop(),y=e-p,b=t-g,{origRect:S}=d,R=S.right-S.left,M=S.bottom-S.top;if(y>=0&&y<R&&b>=0&&b<M){let x=h.queryHit(y,b,R,M);x&&fm(x.dateProfile.activeRange,x.dateSpan.range)&&(this.disablePointCheck||d.el.contains(d.el.getRootNode().elementFromPoint(y+p-window.scrollX,b+g-window.scrollY)))&&(!o||x.layer>o.layer)&&(x.componentId=u,x.context=h.context,x.rect.left+=p,x.rect.right+=p,x.rect.top+=g,x.rect.bottom+=g,o=x)}}}return o}}function ym(n,e){return!n&&!e?!0:!!n!=!!e?!1:r6(n.dateSpan,e.dateSpan)}function RD(n,e){let t={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(t,r(n,e));return Object.assign(t,S5(n,e.dateEnv)),t}function S5(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class w5 extends Ul{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:a}=this,o=r.origEvent.target;a.setIgnoreMove(!this.component.isValidDateDownEl(o))},this.handleDragEnd=r=>{let{component:a}=this,{pointer:o}=this.dragging;if(!o.wasTouchScroll){let{initialHit:u,finalHit:h}=this.hitDragging;if(u&&h&&ym(u,h)){let{context:d}=a,p=Object.assign(Object.assign({},RD(u.dateSpan,d)),{dayEl:u.dayEl,jsEvent:r.origEvent,view:d.viewApi||d.calendarApi.view});d.emitter.trigger("dateClick",p)}}},this.dragging=new Hc(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new vm(this.dragging,f_(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class R5 extends Ul{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=u=>{let{component:h,dragging:d}=this,{options:p}=h.context,g=p.selectable&&h.isValidDateDownEl(u.origEvent.target);d.setIgnoreMove(!g),d.delay=u.isTouch?C5(h):null},this.handleDragStart=u=>{this.component.context.calendarApi.unselect(u)},this.handleHitUpdate=(u,h)=>{let{context:d}=this.component,p=null,g=!1;if(u){let y=this.hitDragging.initialHit;u.componentId===y.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(y,u)||(p=D5(y,u,d.pluginHooks.dateSelectionTransformers)),(!p||!B6(p,u.dateProfile,d))&&(g=!0,p=null)}p?d.dispatch({type:"SELECT_DATES",selection:p}):h||d.dispatch({type:"UNSELECT_DATES"}),g?Zy():Jy(),h||(this.dragSelection=p)},this.handlePointerUp=u=>{this.dragSelection&&(P1(this.dragSelection,u,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:r}=t.context,a=this.dragging=new Hc(e.el);a.touchScrollAllowed=!1,a.minDistance=r.selectMinDistance||0,a.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new vm(this.dragging,f_(e));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function C5(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function D5(n,e,t){let r=n.dateSpan,a=e.dateSpan,o=[r.range.start,r.range.end,a.range.start,a.range.end];o.sort(fU);let u={};for(let h of t){let d=h(n,e);if(d===!1)return null;d&&Object.assign(u,d)}return u.range={start:o[0],end:o[3]},u.allDay=r.allDay,u}class Fc extends Ul{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=u=>{let h=u.origEvent.target,{component:d,dragging:p}=this,{mirror:g}=p,{options:y}=d.context,b=d.context;this.subjectEl=u.subjectEl;let S=this.subjectSeg=wl(u.subjectEl),M=(this.eventRange=S.eventRange).instance.instanceId;this.relevantEvents=u_(b.getCurrentData().eventStore,M),p.minDistance=u.isTouch?0:y.eventDragMinDistance,p.delay=u.isTouch&&M!==d.props.eventSelection?x5(d):null,y.fixedMirrorParent?g.parentNode=y.fixedMirrorParent:g.parentNode=yn(h,".fc"),g.revertDuration=y.dragRevertDuration;let x=d.isValidSegDownEl(h)&&!yn(h,".fc-event-resizer");p.setIgnoreMove(!x),this.isDragging=x&&u.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=u=>{let h=this.component.context,d=this.eventRange,p=d.instance.instanceId;u.isTouch?p!==this.component.props.eventSelection&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:p}):h.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(h.calendarApi.unselect(u),h.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new yt(h,d.def,d.instance),jsEvent:u.origEvent,view:h.viewApi}))},this.handleHitUpdate=(u,h)=>{if(!this.isDragging)return;let d=this.relevantEvents,p=this.hitDragging.initialHit,g=this.component.context,y=null,b=null,S=null,R=!1,M={affectedEvents:d,mutatedEvents:Sr(),isEvent:!0};if(u){y=u.context;let x=y.options;g===y||x.editable&&x.droppable?(b=I5(p,u,this.eventRange.instance.range.start,y.getCurrentData().pluginHooks.eventDragMutationMassagers),b&&(S=d_(d,y.getCurrentData().eventUiBases,b,y),M.mutatedEvents=S,K1(M,u.dateProfile,y)||(R=!0,b=null,S=null,M.mutatedEvents=Sr()))):y=null}this.displayDrag(y,M),R?Zy():Jy(),h||(g===y&&ym(p,u)&&(b=null),this.dragging.setMirrorNeedsRevert(!b),this.dragging.setMirrorIsVisible(!u||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=y,this.validMutation=b,this.mutatedRelevantEvents=S)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=u=>{if(this.isDragging){let h=this.component.context,d=h.viewApi,{receivingContext:p,validMutation:g}=this,y=this.eventRange.def,b=this.eventRange.instance,S=new yt(h,y,b),R=this.relevantEvents,M=this.mutatedRelevantEvents,{finalHit:x}=this.hitDragging;if(this.clearDrag(),h.emitter.trigger("eventDragStop",{el:this.subjectEl,event:S,jsEvent:u.origEvent,view:d}),g){if(p===h){let O=new yt(h,M.defs[y.defId],b?M.instances[b.instanceId]:null);h.dispatch({type:"MERGE_EVENTS",eventStore:M});let H={oldEvent:S,event:O,relatedEvents:qa(M,h,b),revert(){h.dispatch({type:"MERGE_EVENTS",eventStore:R})}},Z={};for(let le of h.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(Z,le(g,h));h.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},H),Z),{el:u.subjectEl,delta:g.datesDelta,jsEvent:u.origEvent,view:d})),h.emitter.trigger("eventChange",H)}else if(p){let O={event:S,relatedEvents:qa(R,h,b),revert(){h.dispatch({type:"MERGE_EVENTS",eventStore:R})}};h.emitter.trigger("eventLeave",Object.assign(Object.assign({},O),{draggedEl:u.subjectEl,view:d})),h.dispatch({type:"REMOVE_EVENTS",eventStore:R}),h.emitter.trigger("eventRemove",O);let H=M.defs[y.defId],Z=M.instances[b.instanceId],le=new yt(p,H,Z);p.dispatch({type:"MERGE_EVENTS",eventStore:M});let re={event:le,relatedEvents:qa(M,p,Z),revert(){p.dispatch({type:"REMOVE_EVENTS",eventStore:M})}};p.emitter.trigger("eventAdd",re),u.isTouch&&p.dispatch({type:"SELECT_EVENT",eventInstanceId:b.instanceId}),p.emitter.trigger("drop",Object.assign(Object.assign({},RD(x.dateSpan,p)),{draggedEl:u.subjectEl,jsEvent:u.origEvent,view:x.context.viewApi})),p.emitter.trigger("eventReceive",Object.assign(Object.assign({},re),{draggedEl:u.subjectEl,view:x.context.viewApi}))}}else h.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:r}=t.context,a=this.dragging=new Hc(e.el);a.pointer.selector=Fc.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new vm(this.dragging,Bv);o.useSubjectCenter=e.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let r=this.component.context,a=this.receivingContext;a&&a!==e&&(a===r?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Sr(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Fc.SELECTOR=".fc-event-draggable, .fc-event-resizable";function I5(n,e,t,r){let a=n.dateSpan,o=e.dateSpan,u=a.range.start,h=o.range.start,d={};a.allDay!==o.allDay&&(d.allDay=o.allDay,d.hasEnd=e.context.options.allDayMaintainDuration,o.allDay?u=vt(t):u=t);let p=ol(u,h,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);p.milliseconds&&(d.allDay=!1);let g={datesDelta:p,standardProps:d};for(let y of r)y(g,n,e);return g}function x5(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class N5 extends Ul{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let{component:u}=this,h=this.querySegEl(o),d=wl(h),p=this.eventRange=d.eventRange;this.dragging.minDistance=u.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(o.origEvent.target)||o.isTouch&&this.component.props.eventSelection!==p.instance.instanceId)},this.handleDragStart=o=>{let{context:u}=this.component,h=this.eventRange;this.relevantEvents=u_(u.getCurrentData().eventStore,this.eventRange.instance.instanceId);let d=this.querySegEl(o);this.draggingSegEl=d,this.draggingSeg=wl(d),u.calendarApi.unselect(),u.emitter.trigger("eventResizeStart",{el:d,event:new yt(u,h.def,h.instance),jsEvent:o.origEvent,view:u.viewApi})},this.handleHitUpdate=(o,u,h)=>{let{context:d}=this.component,p=this.relevantEvents,g=this.hitDragging.initialHit,y=this.eventRange.instance,b=null,S=null,R=!1,M={affectedEvents:p,mutatedEvents:Sr(),isEvent:!0};o&&(o.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,o)||(b=M5(g,o,h.subjectEl.classList.contains("fc-event-resizer-start"),y.range))),b&&(S=d_(p,d.getCurrentData().eventUiBases,b,d),M.mutatedEvents=S,K1(M,o.dateProfile,d)||(R=!0,b=null,S=null,M.mutatedEvents=null)),S?d.dispatch({type:"SET_EVENT_RESIZE",state:M}):d.dispatch({type:"UNSET_EVENT_RESIZE"}),R?Zy():Jy(),u||(b&&ym(g,o)&&(b=null),this.validMutation=b,this.mutatedRelevantEvents=S)},this.handleDragEnd=o=>{let{context:u}=this.component,h=this.eventRange.def,d=this.eventRange.instance,p=new yt(u,h,d),g=this.relevantEvents,y=this.mutatedRelevantEvents;if(u.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:p,jsEvent:o.origEvent,view:u.viewApi}),this.validMutation){let b=new yt(u,y.defs[h.defId],d?y.instances[d.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:y});let S={oldEvent:p,event:b,relatedEvents:qa(y,u,d),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:g})}};u.emitter.trigger("eventResize",Object.assign(Object.assign({},S),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||We(0),endDelta:this.validMutation.endDelta||We(0),jsEvent:o.origEvent,view:u.viewApi})),u.emitter.trigger("eventChange",S)}else u.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,r=this.dragging=new Hc(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=t.context.options.dragScroll;let a=this.hitDragging=new vm(this.dragging,f_(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return yn(e.subjectEl,".fc-event")}}function M5(n,e,t,r){let a=n.context.dateEnv,o=n.dateSpan.range.start,u=e.dateSpan.range.start,h=ol(o,u,a,n.largeUnit);if(t){if(a.add(r.start,h)<r.end)return{startDelta:h}}else if(a.add(r.end,h)>r.start)return{endDelta:h};return null}class O5{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let a=this.context.options.unselectCancel,o=m1(r.origEvent);this.matchesCancel=!!yn(o,a),this.matchesEvent=!!yn(o,Fc.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:a}=this,{documentPointer:o}=this,u=a.getCurrentData();if(!o.wasTouchScroll){if(u.dateSelection&&!this.isRecentPointerDateSelect){let h=a.options.unselectAuto;h&&(!h||!this.matchesCancel)&&a.calendarApi.unselect(r)}u.eventSelection&&!this.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new AD(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const k5={fixedMirrorParent:$},P5={dateClick:$,eventDragStart:$,eventDragStop:$,eventDrop:$,eventResizeStart:$,eventResizeStop:$,eventResize:$,drop:$,eventReceive:$,eventLeave:$};v_.dataAttrPrefix="";var V5=ra({name:"@fullcalendar/interaction",componentInteractions:[w5,R5,Fc,N5],calendarInteractions:[O5],elementDraggingImpl:Hc,optionRefiners:k5,listenerRefiners:P5});function CD({readOnly:n=!1}){const[e,t]=L.useState([]),[r,a]=L.useState(null),[o,u]=L.useState(""),[h,d]=L.useState(!1);L.useEffect(()=>{(async()=>{const S=(await ci(wn($e,"calendario"))).docs.map(R=>({id:R.id,...R.data()}));t(S.map(R=>({title:R.evento,date:R.data})))})()},[]);const p=y=>{const b=new Date,S=new Date(y.dateStr);n||S<b.setHours(0,0,0,0)||(a(y.dateStr),d(!0))},g=async()=>{o.trim()&&(await Bc(wn($e,"calendario"),{data:r,evento:o}),t([...e,{title:o,date:r}]),d(!1),u(""))};return _.jsxs("div",{className:"calendar-wrapper",children:[_.jsx("div",{className:"calendar-box",children:_.jsx(fD,{plugins:[m5,V5],initialView:"dayGridMonth",events:e,dateClick:p,height:"auto",headerToolbar:{left:"prev,next today",center:"title",right:""}})}),h&&_.jsx("div",{className:"calendar-overlay",onClick:()=>d(!1),children:_.jsxs("div",{className:"calendar-modal",onClick:y=>y.stopPropagation(),children:[_.jsx("h2",{children:"Adicionar Evento"}),_.jsx("input",{type:"text",value:o,onChange:y=>u(y.target.value),placeholder:"Digite o nome do evento"}),_.jsxs("div",{className:"calendar-modal-buttons",children:[_.jsx("button",{className:"save-btn",onClick:g,children:"Salvar"}),_.jsx("button",{className:"cancel-btn",onClick:()=>d(!1),children:"Cancelar"})]})]})})]})}function L5(){return _.jsx(Ke,{children:_.jsx("div",{className:"calendar-page",children:_.jsx(CD,{})})})}function j5(){return _.jsx(Ke,{children:_.jsxs("div",{children:[_.jsx("h1",{children:"Calendrio de Eventos"}),_.jsx(CD,{readOnly:!0})]})})}function U5(){return _.jsxs(rN,{children:[_.jsx(gt,{path:"/",element:_.jsx(wj,{})}),_.jsx(gt,{path:"/criar-conta",element:_.jsx(Rj,{})}),_.jsx(gt,{path:"/home",element:_.jsx(t4,{})}),_.jsx(gt,{path:"/buscar-aluno",element:_.jsx(a4,{})}),_.jsx(gt,{path:"/cadastrar-aluno",element:_.jsx(l4,{})}),_.jsx(gt,{path:"/cadastrar-aluno/:responsavelId",element:_.jsx(u4,{})}),_.jsx(gt,{path:"/alunos/formulario-documentos",element:_.jsx(h4,{})}),_.jsx(gt,{path:"/alunos/formulario-socio-economico",element:_.jsx(d4,{})}),_.jsx(gt,{path:"/alunos/formulario-conclusao",element:_.jsx(f4,{})}),_.jsx(gt,{path:"/aluno-perfil/:id",element:_.jsx(g4,{})}),_.jsx(gt,{path:"/Notas",element:_.jsx(_4,{})}),_.jsx(gt,{path:"/coordenacao/turmas",element:_.jsx(BS,{})}),_.jsx(gt,{path:"/coordenacao/criarTurma",element:_.jsx(T4,{})}),_.jsx(gt,{path:"/coordenacao/turmas/:turmaId",element:_.jsx(BS,{})}),_.jsx(gt,{path:"/coordenacao/turmas/:turmaId/adicionar-aluno",element:_.jsx(S4,{})}),_.jsx(gt,{path:"/coordenacao/turmas/:turmaId/editar",element:_.jsx(R4,{})}),_.jsx(gt,{path:"/coordenacao/matriculas",element:_.jsx(y4,{})}),_.jsx(gt,{path:"/buscar-responsavel",element:_.jsx(i4,{})}),_.jsx(gt,{path:"/cadastrar-responsavel",element:_.jsx(s4,{})}),_.jsx(gt,{path:"/responsaveis/Data",element:_.jsx(j5,{})}),_.jsx(gt,{path:"/coordenacao/analise/:id",element:_.jsx(b4,{})}),_.jsx(gt,{path:"/coordenacao/avisos",element:_.jsx(C4,{})}),_.jsx(gt,{path:"/coordenacao/calendario",element:_.jsx(L5,{})})]})}fx.createRoot(document.getElementById("root")).render(_.jsx(Tr.StrictMode,{children:_.jsx(RN,{basename:"/web_avancada5/",children:_.jsx(U5,{})})}));
