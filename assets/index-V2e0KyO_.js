(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function kT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gm={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function mb(){if(kv)return kl;kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var Lv;function pb(){return Lv||(Lv=1,gm.exports=mb()),gm.exports}var S=pb(),ym={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function gb(){if(Uv)return Te;Uv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function O(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,q={};function Y(V,Z,ae){this.props=V,this.context=Z,this.refs=q,this.updater=ae||H}Y.prototype.isReactComponent={},Y.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},Y.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=Y.prototype;function ie(V,Z,ae){this.props=V,this.context=Z,this.refs=q,this.updater=ae||H}var pe=ie.prototype=new ne;pe.constructor=ie,K(pe,Y.prototype),pe.isPureReactComponent=!0;var Se=Array.isArray;function be(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(V,Z,ae){var ue=ae.ref;return{$$typeof:r,type:V,key:Z,ref:ue!==void 0?ue:null,props:ae}}function P(V,Z){return C(V.type,Z,V.props)}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return Z[ae]})}var I=/\/+/g;function st(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Z.toString(36)}function Ot(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(be,be):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,Z,ae,ue,ve){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Ce){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case r:case e:Le=!0;break;case v:return Le=V._init,X(Le(V._payload),Z,ae,ue,ve)}}if(Le)return ve=ve(V),Le=ue===""?"."+st(V,0):ue,Se(ve)?(ae="",Le!=null&&(ae=Le.replace(I,"$&/")+"/"),X(ve,Z,ae,"",function(bs){return bs})):ve!=null&&(x(ve)&&(ve=P(ve,ae+(ve.key==null||V&&V.key===ve.key?"":(""+ve.key).replace(I,"$&/")+"/")+Le)),Z.push(ve)),1;Le=0;var xt=ue===""?".":ue+":";if(Se(V))for(var at=0;at<V.length;at++)ue=V[at],Ce=xt+st(ue,at),Le+=X(ue,Z,ae,Ce,ve);else if(at=O(V),typeof at=="function")for(V=at.call(V),at=0;!(ue=V.next()).done;)ue=ue.value,Ce=xt+st(ue,at++),Le+=X(ue,Z,ae,Ce,ve);else if(Ce==="object"){if(typeof V.then=="function")return X(Ot(V),Z,ae,ue,ve);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Le}function se(V,Z,ae){if(V==null)return V;var ue=[],ve=0;return X(V,ue,"","",function(Ce){return Z.call(ae,Ce,ve++)}),ue}function me(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:se,forEach:function(V,Z,ae){se(V,function(){Z.apply(this,arguments)},ae)},count:function(V){var Z=0;return se(V,function(){Z++}),Z},toArray:function(V){return se(V,function(Z){return Z})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Te.Activity=T,Te.Children=Ge,Te.Component=Y,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=ie,Te.StrictMode=s,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Te.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Te.cache=function(V){return function(){return V.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(V,Z,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=K({},V.props),ve=V.key;if(Z!=null)for(Ce in Z.key!==void 0&&(ve=""+Z.key),Z)!w.call(Z,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Z.ref===void 0||(ue[Ce]=Z[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var Le=Array(Ce),xt=0;xt<Ce;xt++)Le[xt]=arguments[xt+2];ue.children=Le}return C(V.type,ve,ue)},Te.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Te.createElement=function(V,Z,ae){var ue,ve={},Ce=null;if(Z!=null)for(ue in Z.key!==void 0&&(Ce=""+Z.key),Z)w.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=Z[ue]);var Le=arguments.length-2;if(Le===1)ve.children=ae;else if(1<Le){for(var xt=Array(Le),at=0;at<Le;at++)xt[at]=arguments[at+2];ve.children=xt}if(V&&V.defaultProps)for(ue in Le=V.defaultProps,Le)ve[ue]===void 0&&(ve[ue]=Le[ue]);return C(V,Ce,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(V){return{$$typeof:m,render:V}},Te.isValidElement=x,Te.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:me}},Te.memo=function(V,Z){return{$$typeof:g,type:V,compare:Z===void 0?null:Z}},Te.startTransition=function(V){var Z=D.T,ae={};D.T=ae;try{var ue=V(),ve=D.S;ve!==null&&ve(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(be,je)}catch(Ce){je(Ce)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),D.T=Z}},Te.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Te.use=function(V){return D.H.use(V)},Te.useActionState=function(V,Z,ae){return D.H.useActionState(V,Z,ae)},Te.useCallback=function(V,Z){return D.H.useCallback(V,Z)},Te.useContext=function(V){return D.H.useContext(V)},Te.useDebugValue=function(){},Te.useDeferredValue=function(V,Z){return D.H.useDeferredValue(V,Z)},Te.useEffect=function(V,Z){return D.H.useEffect(V,Z)},Te.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Te.useId=function(){return D.H.useId()},Te.useImperativeHandle=function(V,Z,ae){return D.H.useImperativeHandle(V,Z,ae)},Te.useInsertionEffect=function(V,Z){return D.H.useInsertionEffect(V,Z)},Te.useLayoutEffect=function(V,Z){return D.H.useLayoutEffect(V,Z)},Te.useMemo=function(V,Z){return D.H.useMemo(V,Z)},Te.useOptimistic=function(V,Z){return D.H.useOptimistic(V,Z)},Te.useReducer=function(V,Z,ae){return D.H.useReducer(V,Z,ae)},Te.useRef=function(V){return D.H.useRef(V)},Te.useState=function(V){return D.H.useState(V)},Te.useSyncExternalStore=function(V,Z,ae){return D.H.useSyncExternalStore(V,Z,ae)},Te.useTransition=function(){return D.H.useTransition()},Te.version="19.2.0",Te}var jv;function mp(){return jv||(jv=1,ym.exports=gb()),ym.exports}var j=mp();const cs=kT(j);var _m={exports:{}},Ll={},vm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function yb(){return zv||(zv=1,(function(r){function e(X,se){var me=X.length;X.push(se);e:for(;0<me;){var je=me-1>>>1,Ge=X[je];if(0<o(Ge,se))X[je]=se,X[me]=Ge,me=je;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var se=X[0],me=X.pop();if(me!==se){X[0]=me;e:for(var je=0,Ge=X.length,V=Ge>>>1;je<V;){var Z=2*(je+1)-1,ae=X[Z],ue=Z+1,ve=X[ue];if(0>o(ae,me))ue<Ge&&0>o(ve,ae)?(X[je]=ve,X[ue]=me,je=ue):(X[je]=ae,X[Z]=me,je=Z);else if(ue<Ge&&0>o(ve,me))X[je]=ve,X[ue]=me,je=ue;else break e}}return se}function o(X,se){var me=X.sortIndex-se.sortIndex;return me!==0?me:X.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,T=null,R=3,O=!1,H=!1,K=!1,q=!1,Y=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function pe(X){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=X)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Se(X){if(K=!1,pe(X),!H)if(n(p)!==null)H=!0,be||(be=!0,L());else{var se=n(g);se!==null&&Ot(Se,se.startTime-X)}}var be=!1,D=-1,w=5,C=-1;function P(){return q?!0:!(r.unstable_now()-C<w)}function x(){if(q=!1,be){var X=r.unstable_now();C=X;var se=!0;try{e:{H=!1,K&&(K=!1,ne(D),D=-1),O=!0;var me=R;try{t:{for(pe(X),T=n(p);T!==null&&!(T.expirationTime>X&&P());){var je=T.callback;if(typeof je=="function"){T.callback=null,R=T.priorityLevel;var Ge=je(T.expirationTime<=X);if(X=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,pe(X),se=!0;break t}T===n(p)&&s(p),pe(X)}else s(p);T=n(p)}if(T!==null)se=!0;else{var V=n(g);V!==null&&Ot(Se,V.startTime-X),se=!1}}break e}finally{T=null,R=me,O=!1}se=void 0}}finally{se?L():be=!1}}}var L;if(typeof ie=="function")L=function(){ie(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,st=I.port2;I.port1.onmessage=x,L=function(){st.postMessage(null)}}else L=function(){Y(x,0)};function Ot(X,se){D=Y(function(){X(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(X){switch(R){case 1:case 2:case 3:var se=3;break;default:se=R}var me=R;R=se;try{return X()}finally{R=me}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=R;R=X;try{return se()}finally{R=me}},r.unstable_scheduleCallback=function(X,se,me){var je=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,X){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,X={id:v++,callback:se,priorityLevel:X,startTime:me,expirationTime:Ge,sortIndex:-1},me>je?(X.sortIndex=me,e(g,X),n(p)===null&&X===n(g)&&(K?(ne(D),D=-1):K=!0,Ot(Se,me-je))):(X.sortIndex=Ge,e(p,X),H||O||(H=!0,be||(be=!0,L()))),X},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(X){var se=R;return function(){var me=R;R=se;try{return X.apply(this,arguments)}finally{R=me}}}})(Em)),Em}var Bv;function _b(){return Bv||(Bv=1,vm.exports=yb()),vm.exports}var Tm={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function vb(){if(qv)return $t;qv=1;var r=mp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},$t.flushSync=function(p){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=v,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:O}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var Hv;function Eb(){if(Hv)return Tm.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Tm.exports=vb(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function Tb(){if(Fv)return Ll;Fv=1;var r=_b(),e=mp(),n=Eb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,A=h.child;A;){if(A===a){_=!0,a=h,l=d;break}if(A===l){_=!0,l=h,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=h;break}if(A===l){_=!0,l=d,a=h;break}A=A.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case Y:return"Profiler";case q:return"StrictMode";case Se:return"Suspense";case be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:st(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return st(t(i))}catch{}}return null}var Ot=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function V(t){return{current:t}}function Z(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function ae(t,i){Ge++,je[Ge]=t.current,t.current=i}var ue=V(null),ve=V(null),Ce=V(null),Le=V(null);function xt(t,i){switch(ae(Ce,i),ae(ve,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?sv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=sv(i),t=av(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),ae(ue,t)}function at(){Z(ue),Z(ve),Z(Ce)}function bs(t){t.memoizedState!==null&&ae(Le,t);var i=ue.current,a=av(i,t.type);i!==a&&(ae(ve,t),ae(ue,a))}function ya(t){ve.current===t&&(Z(ue),Z(ve)),Le.current===t&&(Z(Le),xl._currentValue=me)}var _a,va;function ui(t){if(_a===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);_a=i&&i[1]||"",va=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+t+va}var xo=!1;function Rs(t,i){if(!t||xo)return"";xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var F=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){F=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){F=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var N=_.split(`
`),B=A.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{xo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ui(a):""}function Mo(t,i){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return t.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Rs(t.type,!1);case 11:return Rs(t.type.render,!1);case 1:return Rs(t.type,!0);case 31:return ui("Activity");default:return""}}function Vo(t){try{var i="",a=null;do i+=Mo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,Rr=r.unstable_cancelCallback,_f=r.unstable_shouldYield,Iu=r.unstable_requestPaint,tn=r.unstable_now,ws=r.unstable_getCurrentPriorityLevel,Po=r.unstable_ImmediatePriority,ko=r.unstable_UserBlockingPriority,wr=r.unstable_NormalPriority,vf=r.unstable_LowPriority,Nu=r.unstable_IdlePriority,Du=r.log,Ou=r.unstable_setDisableYieldValue,Hn=null,zt=null;function Cn(t){if(typeof Du=="function"&&Ou(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Hn,t)}catch{}}var dt=Math.clz32?Math.clz32:Mu,xu=Math.log,Ea=Math.LN2;function Mu(t){return t>>>=0,t===0?32:31-(xu(t)/Ea|0)|0}var ci=256,Cs=262144,vt=4194304;function hi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=hi(l):(_&=A,_!==0?h=hi(_):a||(a=A&~t,a!==0&&(h=hi(a))))):(A=l&~d,A!==0?h=hi(A):_!==0?h=hi(_):a||(a=l&~t,a!==0&&(h=hi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ef(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function di(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Is(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-dt(a),J=1<<$;A[$]=0,N[$]=-1;var F=B[$];if(F!==null)for(B[$]=null,$=0;$<F.length;$++){var Q=F[$];Q!==null&&(Q.lane&=-536870913)}a&=~J}l!==0&&Ns(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ns(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Lo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Uo(t,i){var a=i&-i;return a=(a&42)!==0?1:Ds(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ds(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Nv(t.type))}function Gn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Kn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Kn,kt="__reactProps$"+Kn,mi="__reactContainer$"+Kn,Ta="__reactEvents$"+Kn,Af="__reactListeners$"+Kn,ku="__reactHandles$"+Kn,Lu="__reactResources$"+Kn,pi="__reactMarker$"+Kn;function Aa(t){delete t[Et],delete t[kt],delete t[Ta],delete t[Af],delete t[ku]}function gi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[mi]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=dv(t);t!==null;){if(a=t[Et])return a;t=dv(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[Et]||t[mi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function yi(t){var i=t[Lu];return i||(i=t[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[pi]=!0}var jo=new Set,zo={};function _i(t,i){vi(t,i),vi(t+"Capture",i)}function vi(t,i){for(zo[t]=i,t=0;t<i.length;t++)jo.add(i[t])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Ho={};function Uu(t){return _t.call(Ho,t)?!0:_t.call(qo,t)?!1:Bo.test(t)?Ho[t]=!0:(qo[t]=!0,!1)}function Sa(t,i,a){if(Uu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=Cr(t)?"checked":"value";t._valueTracker=Fo(t,i,""+t[i])}}function Os(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Cr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xs=/[\n"\\]/g;function an(t){return t.replace(xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ba(t,i,a,l,h,d,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Go(t,_,Lt(i)):a!=null?Go(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Lt(A):t.removeAttribute("name")}function ju(t,i,a,l,h,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Go(t,i,a){i==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ir(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function zu(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function Nr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Bu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ko(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ko(t,d,i[d])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Dr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var Yo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Or=null,Ti=null;function Ms(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(s(90));ba(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Os(l)}break e;case"textarea":zu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ir(t,!!a.multiple,i,!1)}}}var Ca=!1;function xr(t,i,a){if(Ca)return t(i,a);Ca=!0;try{var l=t(i);return l}finally{if(Ca=!1,(Or!==null||Ti!==null)&&(Pc(),Or&&(i=Or,t=Ti,Ti=Or=null,Ms(i),t)))for(i=0;i<t.length;i++)Ms(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(Dn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Vs=!1}var Ai=null,$o=null,Ps=null;function Xo(){if(Ps)return Ps;var t,i=$o,a=i.length,l,h="value"in Ai?Ai.value:Ai.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ps=h.slice(t,1<l?1-l:void 0)}function ks(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function $n(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yi:$n,this.isPropagationStopped=$n,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),i}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Bt($i),Mr=T({},$i,{view:0,detail:0}),Wo=Bt(Mr),Vr,Ia,bi,Na=T({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(Vr=t.screenX-bi.screenX,Ia=t.screenY-bi.screenY):Ia=Vr=0,bi=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),Jo=Bt(Na),Ls=T({},Na,{dataTransfer:0}),Hu=Bt(Ls),Fu=T({},Mr,{relatedTarget:0}),Us=Bt(Fu),Zo=T({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Gu=Bt(Zo),Da=T({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ku=Bt(Da),Qu=T({},$i,{data:0}),Ri=Bt(Qu),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Xu[t])?!!i[t]:!1}function Pr(){return Wu}var nn=T({},Mr,{key:function(t){if(t.key){var i=Yu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ju=Bt(nn),Zu=T({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Bt(Zu),c=T({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),y=Bt(c),E=T({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Bt(E),U=T({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Bt(U),re=T({},$i,{newState:0,oldState:0}),Re=Bt(re),mt=[9,13,27,32],qe=Dn&&"CompositionEvent"in window,ot=null;Dn&&"documentMode"in document&&(ot=document.documentMode);var On=Dn&&"TextEvent"in window&&!ot,wi=Dn&&(!qe||ot&&8<ot&&11>=ot),Xn=" ",Wn=!1;function js(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function UA(t,i){switch(t){case"compositionend":return Oa(i);case"keypress":return i.which!==32?null:(Wn=!0,Xn);case"textInput":return t=i.data,t===Xn&&Wn?null:t;default:return null}}function jA(t,i){if(xa)return t==="compositionend"||!qe&&js(t,i)?(t=Xo(),Ps=$o=Ai=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var zA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!zA[t.type]:i==="textarea"}function yg(t,i,a,l){Or?Ti?Ti.push(l):Ti=[l]:Or=l,i=qc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var el=null,tl=null;function BA(t){Z_(t,0)}function ec(t){var i=gn(t);if(Os(i))return t}function _g(t,i){if(t==="change")return i}var vg=!1;if(Dn){var Sf;if(Dn){var bf="oninput"in document;if(!bf){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),bf=typeof Eg.oninput=="function"}Sf=bf}else Sf=!1;vg=Sf&&(!document.documentMode||9<document.documentMode)}function Tg(){el&&(el.detachEvent("onpropertychange",Ag),tl=el=null)}function Ag(t){if(t.propertyName==="value"&&ec(tl)){var i=[];yg(i,tl,t,Nn(t)),xr(BA,i)}}function qA(t,i,a){t==="focusin"?(Tg(),el=i,tl=a,el.attachEvent("onpropertychange",Ag)):t==="focusout"&&Tg()}function HA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ec(tl)}function FA(t,i){if(t==="click")return ec(i)}function GA(t,i){if(t==="input"||t==="change")return ec(i)}function KA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:KA;function nl(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,i){var a=Sg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sg(a)}}function Rg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Rg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ei(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ei(t.document)}return i}function Rf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var QA=Dn&&"documentMode"in document&&11>=document.documentMode,Ma=null,wf=null,il=null,Cf=!1;function Cg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cf||Ma==null||Ma!==Ei(l)||(l=Ma,"selectionStart"in l&&Rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=qc(wf,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ma)))}function zs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Va={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},If={},Ig={};Dn&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Bs(t){if(If[t])return If[t];if(!Va[t])return t;var i=Va[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ig)return If[t]=i[a];return t}var Ng=Bs("animationend"),Dg=Bs("animationiteration"),Og=Bs("animationstart"),YA=Bs("transitionrun"),$A=Bs("transitionstart"),XA=Bs("transitioncancel"),xg=Bs("transitionend"),Mg=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function Jn(t,i){Mg.set(t,i),_i(i,[t])}var tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],Pa=0,Df=0;function nc(){for(var t=Pa,i=Df=Pa=0;i<t;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Vg(a,h,d)}}function ic(t,i,a,l){xn[Pa++]=t,xn[Pa++]=i,xn[Pa++]=a,xn[Pa++]=l,Df|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,i,a,l){return ic(t,i,a,l),rc(t)}function qs(t,i){return ic(t,null,null,i),rc(t)}function Vg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function rc(t){if(50<Rl)throw Rl=0,zd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ka={};function WA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new WA(t,i,a,l)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Pg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function sc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")xf(t)&&(_=1);else if(typeof t=="string")_=nb(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=vn(31,a,i,h),t.elementType=C,t.lanes=d,t;case K:return Hs(a.children,h,d,i);case q:_=8,h|=24;break;case Y:return t=vn(12,a,i,h|2),t.elementType=Y,t.lanes=d,t;case Se:return t=vn(13,a,i,h),t.elementType=Se,t.lanes=d,t;case be:return t=vn(19,a,i,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ne:_=9;break e;case pe:_=11;break e;case D:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Hs(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Mf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function kg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Vf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Lg=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=Lg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Vo(i)},Lg.set(t,i),i)}return{value:t,source:i,stack:Vo(i)}}var La=[],Ua=0,ac=null,rl=0,Vn=[],Pn=0,kr=null,Ci=1,Ii="";function Ji(t,i){La[Ua++]=rl,La[Ua++]=ac,ac=t,rl=i}function Ug(t,i,a){Vn[Pn++]=Ci,Vn[Pn++]=Ii,Vn[Pn++]=kr,kr=t;var l=Ci;t=Ii;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ci=1<<32-dt(i)+h|a<<h|l,Ii=d+t}else Ci=1<<d|a<<h|l,Ii=t}function Pf(t){t.return!==null&&(Ji(t,1),Ug(t,1,0))}function kf(t){for(;t===ac;)ac=La[--Ua],La[Ua]=null,rl=La[--Ua],La[Ua]=null;for(;t===kr;)kr=Vn[--Pn],Vn[Pn]=null,Ii=Vn[--Pn],Vn[Pn]=null,Ci=Vn[--Pn],Vn[Pn]=null}function jg(t,i){Vn[Pn++]=Ci,Vn[Pn++]=Ii,Vn[Pn++]=kr,Ci=i.id,Ii=i.overflow,kr=t}var qt=null,tt=null,ke=!1,Lr=null,kn=!1,Lf=Error(s(519));function Ur(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(Mn(i,t)),Lf}function zg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[kt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<Cl.length;a++)De(Cl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),ju(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),Nr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||iv(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Ur(t,!0)}function Bg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qt=qt.return}}function ja(t){if(t!==qt)return!1;if(!ke)return Bg(t),ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tm(t.type,t.memoizedProps)),a=!a),a&&tt&&Ur(t),Bg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=fv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=fv(t)}else i===27?(i=tt,Jr(t.type)?(t=am,am=null,tt=t):tt=i):tt=qt?Un(t.stateNode.nextSibling):null;return!0}function Fs(){tt=qt=null,ke=!1}function Uf(){var t=Lr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Lr=null),t}function sl(t){Lr===null?Lr=[t]:Lr.push(t)}var jf=V(null),Gs=null,Zi=null;function jr(t,i,a){ae(jf,i._currentValue),i._currentValue=a}function er(t){t._currentValue=jf.current,Z(jf)}function zf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Bf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var N=0;N<i.length;N++)if(A.context===i[N]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),zf(d.return,a,t),l||(_=null);break e}d=A.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),zf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function za(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}h=h.return}t!==null&&Bf(i,t,a,l),i.flags|=262144}function oc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){Gs=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return qg(Gs,t)}function lc(t,i){return Gs===null&&Ks(t),qg(t,i)}function qg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(s(308));Zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zi=Zi.next=i;return a}var JA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ZA=r.unstable_scheduleCallback,eS=r.unstable_NormalPriority,St={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new JA,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&ZA(eS,function(){t.controller.abort()})}var ol=null,Hf=0,Ba=0,qa=null;function tS(t,i){if(ol===null){var a=ol=[];Hf=0,Ba=Kd(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,i.then(Hg,Hg),i}function Hg(){if(--Hf===0&&ol!==null){qa!==null&&(qa.status="fulfilled");var t=ol;ol=null,Ba=0,qa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function nS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Fg=X.S;X.S=function(t,i){C_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tS(t,i),Fg!==null&&Fg(t,i)};var Qs=V(null);function Ff(){var t=Qs.current;return t!==null?t:Ze.pooledCache}function uc(t,i){i===null?ae(Qs,Qs.current):ae(Qs,i.pool)}function Gg(){var t=Ff();return t===null?null:{parent:St._currentValue,pool:t}}var Ha=Error(s(460)),Gf=Error(s(474)),cc=Error(s(542)),hc={then:function(){}};function Kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$g(t),t;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$g(t),t}throw $s=i,Ha}}function Ys(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($s=a,Ha):a}}var $s=null;function Yg(){if($s===null)throw Error(s(459));var t=$s;return $s=null,t}function $g(t){if(t===Ha||t===cc)throw Error(s(483))}var Fa=null,ll=0;function fc(t){var i=ll;return ll+=1,Fa===null&&(Fa=[]),Qg(Fa,t,i)}function ul(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function dc(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Xg(t){function i(k,M){if(t){var z=k.deletions;z===null?(k.deletions=[M],k.flags|=16):z.push(M)}}function a(k,M){if(!t)return null;for(;M!==null;)i(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Wi(k,M),k.index=0,k.sibling=null,k}function d(k,M,z){return k.index=z,t?(z=k.alternate,z!==null?(z=z.index,z<M?(k.flags|=67108866,M):z):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function A(k,M,z,W){return M===null||M.tag!==6?(M=Mf(z,k.mode,W),M.return=k,M):(M=h(M,z),M.return=k,M)}function N(k,M,z,W){var fe=z.type;return fe===K?$(k,M,z.props.children,W,z.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Ys(fe)===M.type)?(M=h(M,z.props),ul(M,z),M.return=k,M):(M=sc(z.type,z.key,z.props,null,k.mode,W),ul(M,z),M.return=k,M)}function B(k,M,z,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Vf(z,k.mode,W),M.return=k,M):(M=h(M,z.children||[]),M.return=k,M)}function $(k,M,z,W,fe){return M===null||M.tag!==7?(M=Hs(z,k.mode,W,fe),M.return=k,M):(M=h(M,z),M.return=k,M)}function J(k,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Mf(""+M,k.mode,z),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return z=sc(M.type,M.key,M.props,null,k.mode,z),ul(z,M),z.return=k,z;case H:return M=Vf(M,k.mode,z),M.return=k,M;case w:return M=Ys(M),J(k,M,z)}if(Ot(M)||L(M))return M=Hs(M,k.mode,z,null),M.return=k,M;if(typeof M.then=="function")return J(k,fc(M),z);if(M.$$typeof===ie)return J(k,lc(k,M),z);dc(k,M)}return null}function F(k,M,z,W){var fe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:A(k,M,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return z.key===fe?N(k,M,z,W):null;case H:return z.key===fe?B(k,M,z,W):null;case w:return z=Ys(z),F(k,M,z,W)}if(Ot(z)||L(z))return fe!==null?null:$(k,M,z,W,null);if(typeof z.then=="function")return F(k,M,fc(z),W);if(z.$$typeof===ie)return F(k,M,lc(k,z),W);dc(k,z)}return null}function Q(k,M,z,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(z)||null,A(M,k,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case O:return k=k.get(W.key===null?z:W.key)||null,N(M,k,W,fe);case H:return k=k.get(W.key===null?z:W.key)||null,B(M,k,W,fe);case w:return W=Ys(W),Q(k,M,z,W,fe)}if(Ot(W)||L(W))return k=k.get(z)||null,$(M,k,W,fe,null);if(typeof W.then=="function")return Q(k,M,z,fc(W),fe);if(W.$$typeof===ie)return Q(k,M,z,lc(M,W),fe);dc(M,W)}return null}function ce(k,M,z,W){for(var fe=null,ze=null,he=M,Ie=M=0,xe=null;he!==null&&Ie<z.length;Ie++){he.index>Ie?(xe=he,he=null):xe=he.sibling;var Be=F(k,he,z[Ie],W);if(Be===null){he===null&&(he=xe);break}t&&he&&Be.alternate===null&&i(k,he),M=d(Be,M,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be,he=xe}if(Ie===z.length)return a(k,he),ke&&Ji(k,Ie),fe;if(he===null){for(;Ie<z.length;Ie++)he=J(k,z[Ie],W),he!==null&&(M=d(he,M,Ie),ze===null?fe=he:ze.sibling=he,ze=he);return ke&&Ji(k,Ie),fe}for(he=l(he);Ie<z.length;Ie++)xe=Q(he,k,Ie,z[Ie],W),xe!==null&&(t&&xe.alternate!==null&&he.delete(xe.key===null?Ie:xe.key),M=d(xe,M,Ie),ze===null?fe=xe:ze.sibling=xe,ze=xe);return t&&he.forEach(function(is){return i(k,is)}),ke&&Ji(k,Ie),fe}function ge(k,M,z,W){if(z==null)throw Error(s(151));for(var fe=null,ze=null,he=M,Ie=M=0,xe=null,Be=z.next();he!==null&&!Be.done;Ie++,Be=z.next()){he.index>Ie?(xe=he,he=null):xe=he.sibling;var is=F(k,he,Be.value,W);if(is===null){he===null&&(he=xe);break}t&&he&&is.alternate===null&&i(k,he),M=d(is,M,Ie),ze===null?fe=is:ze.sibling=is,ze=is,he=xe}if(Be.done)return a(k,he),ke&&Ji(k,Ie),fe;if(he===null){for(;!Be.done;Ie++,Be=z.next())Be=J(k,Be.value,W),Be!==null&&(M=d(Be,M,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be);return ke&&Ji(k,Ie),fe}for(he=l(he);!Be.done;Ie++,Be=z.next())Be=Q(he,k,Ie,Be.value,W),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ie:Be.key),M=d(Be,M,Ie),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(db){return i(k,db)}),ke&&Ji(k,Ie),fe}function Je(k,M,z,W){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case O:e:{for(var fe=z.key;M!==null;){if(M.key===fe){if(fe=z.type,fe===K){if(M.tag===7){a(k,M.sibling),W=h(M,z.props.children),W.return=k,k=W;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Ys(fe)===M.type){a(k,M.sibling),W=h(M,z.props),ul(W,z),W.return=k,k=W;break e}a(k,M);break}else i(k,M);M=M.sibling}z.type===K?(W=Hs(z.props.children,k.mode,W,z.key),W.return=k,k=W):(W=sc(z.type,z.key,z.props,null,k.mode,W),ul(W,z),W.return=k,k=W)}return _(k);case H:e:{for(fe=z.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(k,M.sibling),W=h(M,z.children||[]),W.return=k,k=W;break e}else{a(k,M);break}else i(k,M);M=M.sibling}W=Vf(z,k.mode,W),W.return=k,k=W}return _(k);case w:return z=Ys(z),Je(k,M,z,W)}if(Ot(z))return ce(k,M,z,W);if(L(z)){if(fe=L(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),ge(k,M,z,W)}if(typeof z.then=="function")return Je(k,M,fc(z),W);if(z.$$typeof===ie)return Je(k,M,lc(k,z),W);dc(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(k,M.sibling),W=h(M,z),W.return=k,k=W):(a(k,M),W=Mf(z,k.mode,W),W.return=k,k=W),_(k)):a(k,M)}return function(k,M,z,W){try{ll=0;var fe=Je(k,M,z,W);return Fa=null,fe}catch(he){if(he===Ha||he===cc)throw he;var ze=vn(29,he,null,k.mode);return ze.lanes=W,ze.return=k,ze}finally{}}}var Xs=Xg(!0),Wg=Xg(!1),zr=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=rc(t),Vg(t,null,a),i}return ic(t,l,i,a),rc(t)}function cl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}function Yf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var $f=!1;function hl(){if($f){var t=qa;if(t!==null)throw t}}function fl(t,i,a,l){$f=!1;var h=t.updateQueue;zr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var N=A,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==_&&(A===null?$.firstBaseUpdate=B:A.next=B,$.lastBaseUpdate=N))}if(d!==null){var J=h.baseState;_=0,$=B=N=null,A=d;do{var F=A.lane&-536870913,Q=F!==A.lane;if(Q?(Oe&F)===F:(l&F)===F){F!==0&&F===Ba&&($f=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ce=t,ge=A;F=i;var Je=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){J=ce.call(Je,J,F);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,F=typeof ce=="function"?ce.call(Je,J,F):ce,F==null)break e;J=T({},J,F);break e;case 2:zr=!0}}F=A.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(B=$=Q,N=J):$=$.next=Q,_|=F;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(N=J),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Qr|=_,t.lanes=_,t.memoizedState=J}}function Jg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Zg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Jg(a[t],i)}var Ga=V(null),mc=V(0);function ey(t,i){t=ur,ae(mc,t),ae(Ga,i),ur=t|i.baseLanes}function Xf(){ae(mc,ur),ae(Ga,Ga.current)}function Wf(){ur=mc.current,Z(Ga),Z(mc)}var En=V(null),Ln=null;function Hr(t){var i=t.alternate;ae(pt,pt.current&1),ae(En,t),Ln===null&&(i===null||Ga.current!==null||i.memoizedState!==null)&&(Ln=t)}function Jf(t){ae(pt,pt.current),ae(En,t),Ln===null&&(Ln=t)}function ty(t){t.tag===22?(ae(pt,pt.current),ae(En,t),Ln===null&&(Ln=t)):Fr()}function Fr(){ae(pt,pt.current),ae(En,En.current)}function Tn(t){Z(En),Ln===t&&(Ln=null),Z(pt)}var pt=V(0);function pc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rm(a)||sm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var tr=0,we=null,Xe=null,bt=null,gc=!1,Ka=!1,Ws=!1,yc=0,dl=0,Qa=null,iS=0;function ht(){throw Error(s(321))}function Zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function ed(t,i,a,l,h,d){return tr=d,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Uy:pd,Ws=!1,d=a(l,h),Ws=!1,Ka&&(d=iy(i,a,l,h)),ny(t),d}function ny(t){X.H=gl;var i=Xe!==null&&Xe.next!==null;if(tr=0,bt=Xe=we=null,gc=!1,dl=0,Qa=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&oc(t)&&(Rt=!0))}function iy(t,i,a,l){we=t;var h=0;do{if(Ka&&(Qa=null),dl=0,Ka=!1,25<=h)throw Error(s(301));if(h+=1,bt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=jy,d=i(a,l)}while(Ka);return d}function rS(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?ml(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(we.flags|=1024),i}function td(){var t=yc!==0;return yc=0,t}function nd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function id(t){if(gc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gc=!1}tr=0,bt=Xe=we=null,Ka=!1,dl=yc=0,Qa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?we.memoizedState=bt=t:bt=bt.next=t,bt}function gt(){if(Xe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=bt===null?we.memoizedState:bt.next;if(i!==null)bt=i,Xe=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},bt===null?we.memoizedState=bt=t:bt=bt.next=t}return bt}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var i=dl;return dl+=1,Qa===null&&(Qa=[]),t=Qg(Qa,t,i),i=we,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Uy:pd),t}function vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===ie)return Ht(t)}throw Error(s(438,String(t)))}function rd(t){var i=null,a=we.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_c(),we.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=P;return i.index++,a}function nr(t,i){return typeof i=="function"?i(t):i}function Ec(t){var i=gt();return sd(i,Xe,t)}function sd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=_=null,N=null,B=i,$=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Oe&J)===J:(tr&J)===J){var F=B.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===Ba&&($=!0);else if((tr&F)===F){B=B.next,F===Ba&&($=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(A=N=J,_=d):N=N.next=J,we.lanes|=F,Qr|=F;J=B.action,Ws&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else F={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(A=N=F,_=d):N=N.next=F,we.lanes|=J,Qr|=J;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=A,!_n(d,t.memoizedState)&&(Rt=!0,$&&(a=qa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ad(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);_n(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ry(t,i,a){var l=we,h=gt(),d=ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((Xe||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,ud(oy.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},ay.bind(null,l,h,a,i),null),Ze===null)throw Error(s(349));d||(tr&127)!==0||sy(l,i,a)}return a}function sy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=we.updateQueue,i===null?(i=_c(),we.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ay(t,i,a,l){i.value=a,i.getSnapshot=l,ly(i)&&uy(t)}function oy(t,i,a){return a(function(){ly(i)&&uy(t)})}function ly(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function uy(t){var i=qs(t,2);i!==null&&fn(i,t,2)}function od(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Ws){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:t},i}function cy(t,i,a,l){return t.baseState=a,sd(t,Xe,typeof l=="function"?l:nr)}function sS(t,i,a,l,h){if(Sc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,hy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function hy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var A=a(h,l),N=X.S;N!==null&&N(_,A),fy(t,i,A)}catch(B){ld(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(h,l),fy(t,i,d)}catch(B){ld(t,i,B)}}function fy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dy(t,i,l)},function(l){return ld(t,i,l)}):dy(t,i,a)}function dy(t,i,a){i.status="fulfilled",i.value=a,my(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,hy(t,a)))}function ld(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,my(i),i=i.next;while(i!==l)}t.action=null}function my(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function py(t,i){return i}function gy(t,i){if(ke){var a=Ze.formState;if(a!==null){e:{var l=we;if(ke){if(tt){t:{for(var h=tt,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=Un(h.nextSibling),l=h.data==="F!";break e}}Ur(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:i},a.queue=l,a=Py.bind(null,we,l),l.dispatch=a,l=od(!1),d=md.bind(null,we,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=sS.bind(null,we,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function yy(t){var i=gt();return _y(i,Xe,t)}function _y(t,i,a){if(i=sd(t,i,py)[0],t=Ec(nr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ml(i)}catch(_){throw _===Ha?cc:_}else l=i;i=gt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(we.flags|=2048,Ya(9,{destroy:void 0},aS.bind(null,h,a),null)),[l,d,t]}function aS(t,i){t.action=i}function vy(t){var i=gt(),a=Xe;if(a!==null)return _y(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ya(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=we.updateQueue,i===null&&(i=_c(),we.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ey(){return gt().memoizedState}function Tc(t,i,a,l){var h=rn();we.flags|=t,h.memoizedState=Ya(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ac(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Zf(l,Xe.memoizedState.deps)?h.memoizedState=Ya(i,d,a,l):(we.flags|=t,h.memoizedState=Ya(1|i,d,a,l))}function Ty(t,i){Tc(8390656,8,t,i)}function ud(t,i){Ac(2048,8,t,i)}function oS(t){we.flags|=4;var i=we.updateQueue;if(i===null)i=_c(),we.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ay(t){var i=gt().memoizedState;return oS({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Sy(t,i){return Ac(4,2,t,i)}function by(t,i){return Ac(4,4,t,i)}function Ry(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wy(t,i,a){a=a!=null?a.concat([t]):null,Ac(4,4,Ry.bind(null,i,t),a)}function cd(){}function Cy(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Iy(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=t(),Ws){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function hd(t,i,a){return a===void 0||(tr&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=N_(),we.lanes|=t,Qr|=t,a)}function Ny(t,i,a,l){return _n(a,i)?a:Ga.current!==null?(t=hd(t,a,l),_n(t,i)||(Rt=!0),t):(tr&42)===0||(tr&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=N_(),we.lanes|=t,Qr|=t,i)}function Dy(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=X.T,A={};X.T=A,md(t,!1,i,a);try{var N=h(),B=X.S;if(B!==null&&B(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=nS(N,l);pl(t,i,$,bn(t))}else pl(t,i,l,bn(t))}catch(J){pl(t,i,{then:function(){},status:"rejected",reason:J},bn())}finally{se.p=d,_!==null&&A.types!==null&&(_.types=A.types),X.T=_}}function lS(){}function fd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Oy(t).queue;Dy(t,h,i,me,a===null?lS:function(){return xy(t),a(l)})}function Oy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xy(t){var i=Oy(t);i.next===null&&(i=t.alternate.memoizedState),pl(t,i.next.queue,{},bn())}function dd(){return Ht(xl)}function My(){return gt().memoizedState}function Vy(){return gt().memoizedState}function uS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Br(a);var l=qr(i,t,a);l!==null&&(fn(l,i,a),cl(l,i,a)),i={cache:qf()},t.payload=i;return}i=i.return}}function cS(t,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Sc(t)?ky(i,a):(a=Of(t,i,a,l),a!==null&&(fn(a,t,l),Ly(a,i,l)))}function Py(t,i,a){var l=bn();pl(t,i,a,l)}function pl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))ky(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,A=d(_,a);if(h.hasEagerState=!0,h.eagerState=A,_n(A,_))return ic(t,i,h,0),Ze===null&&nc(),!1}catch{}finally{}if(a=Of(t,i,h,l),a!==null)return fn(a,t,l),Ly(a,i,l),!0}return!1}function md(t,i,a,l){if(l={lane:2,revertLane:Kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sc(t)){if(i)throw Error(s(479))}else i=Of(t,a,l,2),i!==null&&fn(i,t,2)}function Sc(t){var i=t.alternate;return t===we||i!==null&&i===we}function ky(t,i){Ka=gc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ly(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}var gl={readContext:Ht,use:vc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};gl.useEffectEvent=ht;var Uy={readContext:Ht,use:vc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Ty,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Tc(4194308,4,Ry.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Tc(4194308,4,t,i)},useInsertionEffect:function(t,i){Tc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Ws){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Ws){Cn(!0);try{a(i)}finally{Cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=cS.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=od(t);var i=t.queue,a=Py.bind(null,we,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(t,i){var a=rn();return hd(a,t,i)},useTransition:function(){var t=od(!1);return t=Dy.bind(null,we,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=we,h=rn();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(Oe&127)!==0||sy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ty(oy.bind(null,l,d,t),[t]),l.flags|=2048,Ya(9,{destroy:void 0},ay.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=Ze.identifierPrefix;if(ke){var a=Ii,l=Ci;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=yc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=iS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:dd,useFormState:gy,useActionState:gy,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=md.bind(null,we,!0,a),a.dispatch=i,[t,i]},useMemoCache:rd,useCacheRefresh:function(){return rn().memoizedState=uS.bind(null,we)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},pd={readContext:Ht,use:vc,useCallback:Cy,useContext:Ht,useEffect:ud,useImperativeHandle:wy,useInsertionEffect:Sy,useLayoutEffect:by,useMemo:Iy,useReducer:Ec,useRef:Ey,useState:function(){return Ec(nr)},useDebugValue:cd,useDeferredValue:function(t,i){var a=gt();return Ny(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Ec(nr)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:ry,useId:My,useHostTransitionStatus:dd,useFormState:yy,useActionState:yy,useOptimistic:function(t,i){var a=gt();return cy(a,Xe,t,i)},useMemoCache:rd,useCacheRefresh:Vy};pd.useEffectEvent=Ay;var jy={readContext:Ht,use:vc,useCallback:Cy,useContext:Ht,useEffect:ud,useImperativeHandle:wy,useInsertionEffect:Sy,useLayoutEffect:by,useMemo:Iy,useReducer:ad,useRef:Ey,useState:function(){return ad(nr)},useDebugValue:cd,useDeferredValue:function(t,i){var a=gt();return Xe===null?hd(a,t,i):Ny(a,Xe.memoizedState,t,i)},useTransition:function(){var t=ad(nr)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:ry,useId:My,useHostTransitionStatus:dd,useFormState:vy,useActionState:vy,useOptimistic:function(t,i){var a=gt();return Xe!==null?cy(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:Vy};jy.useEffectEvent=Ay;function gd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var yd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Br(l);h.payload=i,a!=null&&(h.callback=a),i=qr(t,h,l),i!==null&&(fn(i,t,l),cl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Br(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=qr(t,h,l),i!==null&&(fn(i,t,l),cl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=Br(a);l.tag=2,i!=null&&(l.callback=i),i=qr(t,l,a),i!==null&&(fn(i,t,a),cl(i,t,a))}};function zy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!nl(a,l)||!nl(h,d):!0}function By(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&yd.enqueueReplaceState(i,i.state,null)}function Js(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function qy(t){tc(t)}function Hy(t){console.error(t)}function Fy(t){tc(t)}function bc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Gy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _d(t,i,a){return a=Br(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(t,i)},a}function Ky(t){return t=Br(t),t.tag=3,t}function Qy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Gy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Gy(i,a,l),typeof h!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function hS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&za(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?kc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Hd(t,l,h)),!1;case 22:return a.flags|=65536,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Hd(t,l,h)),!1}throw Error(s(435,a.tag))}return Hd(t,l,h),kc(),!1}if(ke)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Lf&&(t=Error(s(422),{cause:l}),sl(Mn(t,a)))):(l!==Lf&&(i=Error(s(423),{cause:l}),sl(Mn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,a),h=_d(t.stateNode,l,h),Yf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),bl===null?bl=[d]:bl.push(d),ft!==4&&(ft=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=_d(a.stateNode,l,t),Yf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Yr===null||!Yr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ky(h),Qy(h,t,a,l),Yf(a,h),!1}a=a.return}while(a!==null);return!1}var vd=Error(s(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?Wg(i,null,a,l):Xs(i,t.child,a,l)}function Yy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Ks(i),l=ed(t,i,a,_,d,h),A=td(),t!==null&&!Rt?(nd(t,i,h),ir(t,i,h)):(ke&&A&&Pf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function $y(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Xy(t,i,d,l,h)):(t=sc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Cd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(_,l)&&t.ref===i.ref)return ir(t,i,h)}return i.flags|=1,t=Wi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Xy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(nl(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,Cd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,ir(t,i,h)}return Ed(t,i,a,l,h)}function Wy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Jy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&uc(i,d!==null?d.cachePool:null),d!==null?ey(i,d):Xf(),ty(i);else return l=i.lanes=536870912,Jy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(uc(i,d.cachePool),ey(i,d),Fr(),i.memoizedState=null):(t!==null&&uc(i,null),Xf(),Fr());return Ft(t,i,h,a),i.child}function yl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Jy(t,i,a,l,h){var d=Ff();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&uc(i,null),Xf(),ty(i),t!==null&&za(t,i,l,!0),i.childLanes=h,null}function Rc(t,i){return i=Cc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Zy(t,i,a){return Xs(i,t.child,null,a),t=Rc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function fS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(l.mode==="hidden")return t=Rc(i,l),i.lanes=536870912,yl(null,t);if(Jf(i),(t=tt)?(t=hv(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:kr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=kg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Ur(i);return i.lanes=536870912,null}return Rc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Jf(i),h)if(i.flags&256)i.flags&=-257,i=Zy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||za(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=Ze,l!==null&&(_=Uo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,qs(t,_),fn(l,t,_),vd;kc(),i=Zy(t,i,a)}else t=d.treeContext,tt=Un(_.nextSibling),qt=i,ke=!0,Lr=null,kn=!1,t!==null&&jg(i,t),i=Rc(i,l),i.flags|=4096;return i}return t=Wi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function wc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Ed(t,i,a,l,h){return Ks(i),a=ed(t,i,a,l,void 0,h),l=td(),t!==null&&!Rt?(nd(t,i,h),ir(t,i,h)):(ke&&l&&Pf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function e_(t,i,a,l,h,d){return Ks(i),i.updateQueue=null,a=iy(i,l,a,h),ny(t),l=td(),t!==null&&!Rt?(nd(t,i,d),ir(t,i,d)):(ke&&l&&Pf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function t_(t,i,a,l,h){if(Ks(i),i.stateNode===null){var d=ka,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Kf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):ka,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(gd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&yd.enqueueReplaceState(d,d.state,null),fl(i,l,d,h),hl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,N=Js(a,A);d.props=N;var B=d.context,$=a.contextType;_=ka,typeof $=="object"&&$!==null&&(_=Ht($));var J=a.getDerivedStateFromProps;$=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||B!==_)&&By(i,d,l,_),zr=!1;var F=i.memoizedState;d.state=F,fl(i,l,d,h),hl(),B=i.memoizedState,A||F!==B||zr?(typeof J=="function"&&(gd(i,a,J,l),B=i.memoizedState),(N=zr||zy(i,a,N,l,F,B,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Qf(t,i),_=i.memoizedProps,$=Js(a,_),d.props=$,J=i.pendingProps,F=d.context,B=a.contextType,N=ka,typeof B=="object"&&B!==null&&(N=Ht(B)),A=a.getDerivedStateFromProps,(B=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||F!==N)&&By(i,d,l,N),zr=!1,F=i.memoizedState,d.state=F,fl(i,l,d,h),hl();var Q=i.memoizedState;_!==J||F!==Q||zr||t!==null&&t.dependencies!==null&&oc(t.dependencies)?(typeof A=="function"&&(gd(i,a,A,l),Q=i.memoizedState),($=zr||zy(i,a,$,l,F,Q,N)||t!==null&&t.dependencies!==null&&oc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,wc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Xs(i,t.child,null,h),i.child=Xs(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=ir(t,i,h),t}function n_(t,i,a,l){return Fs(),i.flags|=256,Ft(t,i,a,l),i.child}var Td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(t){return{baseLanes:t,cachePool:Gg()}}function Sd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function i_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(h?Hr(i):Fr(),(t=tt)?(t=hv(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:kr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=kg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Ur(i);return sm(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,h?(Fr(),h=i.mode,A=Cc({mode:"hidden",children:A},h),l=Hs(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=Ad(a),l.childLanes=Sd(t,_,a),i.memoizedState=Td,yl(null,l)):(Hr(i),bd(i,A))}var N=t.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(d)i.flags&256?(Hr(i),i.flags&=-257,i=Rd(t,i,a)):i.memoizedState!==null?(Fr(),i.child=t.child,i.flags|=128,i=null):(Fr(),A=l.fallback,h=i.mode,l=Cc({mode:"visible",children:l.children},h),A=Hs(A,h,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,Xs(i,t.child,null,a),l=i.child,l.memoizedState=Ad(a),l.childLanes=Sd(t,_,a),i.memoizedState=Td,i=yl(null,l));else if(Hr(i),sm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,sl({value:l,source:null,stack:null}),i=Rd(t,i,a)}else if(Rt||za(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=Ze,_!==null&&(l=Uo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,qs(t,l),fn(_,t,l),vd;rm(A)||kc(),i=Rd(t,i,a)}else rm(A)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,tt=Un(A.nextSibling),qt=i,ke=!0,Lr=null,kn=!1,t!==null&&jg(i,t),i=bd(i,l.children),i.flags|=4096);return i}return h?(Fr(),A=l.fallback,h=i.mode,N=t.child,B=N.sibling,l=Wi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?A=Wi(B,A):(A=Hs(A,h,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,yl(null,l),l=i.child,A=t.child.memoizedState,A===null?A=Ad(a):(h=A.cachePool,h!==null?(N=St._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Gg(),A={baseLanes:A.baseLanes|a,cachePool:h}),l.memoizedState=A,l.childLanes=Sd(t,_,a),i.memoizedState=Td,yl(t.child,l)):(Hr(i),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function bd(t,i){return i=Cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Cc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function Rd(t,i,a){return Xs(i,t.child,null,a),t=bd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function r_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),zf(t.return,i,a)}function wd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function s_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pt.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,ae(pt,_),Ft(t,i,l,a),l=ke?rl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r_(t,a,i);else if(t.tag===19)r_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&pc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),wd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&pc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}wd(i,!0,a,null,d,l);break;case"together":wd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ir(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Qr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(za(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Wi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Cd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&oc(t)))}function dS(t,i,a){switch(i.tag){case 3:xt(i,i.stateNode.containerInfo),jr(i,St,t.memoizedState.cache),Fs();break;case 27:case 5:bs(i);break;case 4:xt(i,i.stateNode.containerInfo);break;case 10:jr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Hr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?i_(t,i,a):(Hr(i),t=ir(t,i,a),t!==null?t.sibling:null);Hr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(za(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return s_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(pt,pt.current),l)break;return null;case 22:return i.lanes=0,Wy(t,i,a,i.pendingProps);case 24:jr(i,St,t.memoizedState.cache)}return ir(t,i,a)}function a_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!Cd(t,a)&&(i.flags&128)===0)return Rt=!1,dS(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,ke&&(i.flags&1048576)!==0&&Ug(i,rl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ys(i.elementType),i.type=t,typeof t=="function")xf(t)?(l=Js(t,l),i.tag=1,i=t_(null,i,t,l,a)):(i.tag=0,i=Ed(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===pe){i.tag=11,i=Yy(null,i,t,l,a);break e}else if(h===D){i.tag=14,i=$y(null,i,t,l,a);break e}}throw i=st(t)||t,Error(s(306,i,""))}}return i;case 0:return Ed(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Js(l,i.pendingProps),t_(t,i,l,h,a);case 3:e:{if(xt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Qf(t,i),fl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,jr(i,St,l),l!==d.cache&&Bf(i,[St],a,!0),hl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=n_(t,i,l,a);break e}else if(l!==h){h=Mn(Error(s(424)),i),sl(h),i=n_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Un(t.firstChild),qt=i,ke=!0,Lr=null,kn=!0,a=Wg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fs(),l===h){i=ir(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return wc(t,i),t===null?(a=yv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,t=i.pendingProps,l=Hc(Ce.current).createElement(a),l[Et]=i,l[kt]=t,Gt(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=yv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bs(i),t===null&&ke&&(l=i.stateNode=mv(i.type,i.pendingProps,Ce.current),qt=i,kn=!0,h=tt,Jr(i.type)?(am=h,tt=Un(l.firstChild)):tt=h),Ft(t,i,i.pendingProps.children,a),wc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((h=l=tt)&&(l=HS(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,qt=i,tt=Un(l.firstChild),kn=!1,h=!0):h=!1),h||Ur(i)),bs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,tm(h,d)?l=null:_!==null&&tm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=ed(t,i,rS,null,null,a),xl._currentValue=h),wc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&ke&&((t=a=tt)&&(a=FS(a,i.pendingProps,kn),a!==null?(i.stateNode=a,qt=i,tt=null,t=!0):t=!1),t||Ur(i)),null;case 13:return i_(t,i,a);case 4:return xt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Xs(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return Yy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,jr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ks(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return $y(t,i,i.type,i.pendingProps,a);case 15:return Xy(t,i,i.type,i.pendingProps,a);case 19:return s_(t,i,a);case 31:return fS(t,i,a);case 22:return Wy(t,i,a,i.pendingProps);case 24:return Ks(i),l=Ht(St),t===null?(h=Ff(),h===null&&(h=Ze,d=qf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Kf(i),jr(i,St,h)):((t.lanes&a)!==0&&(Qf(t,i),fl(i,null,null,a),hl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),jr(i,St,l)):(l=d.cache,jr(i,St,l),l!==h.cache&&Bf(i,[St],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function rr(t){t.flags|=4}function Id(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(M_())t.flags|=8192;else throw $s=hc,Gf}else t.flags&=-16777217}function o_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Av(i))if(M_())t.flags|=8192;else throw $s=hc,Gf}function Ic(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Vu():536870912,t.lanes|=i,Ja|=i)}function _l(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function mS(t,i,a){var l=i.pendingProps;switch(kf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),er(St),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ja(i)?rr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Uf())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(rr(i),d!==null?(nt(i),o_(i,d)):(nt(i),Id(i,h,null,l,a))):d?d!==t.memoizedState?(rr(i),nt(i),o_(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&rr(i),nt(i),Id(i,h,t,l,a)),null;case 27:if(ya(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ue.current,ja(i)?zg(i):(t=mv(h,l,a),i.stateNode=t,rr(i))}return nt(i),null;case 5:if(ya(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ue.current,ja(i))zg(i);else{var _=Hc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Et]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rr(i)}}return nt(i),Id(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,ja(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||iv(t.nodeValue,a)),t||Ur(i,!0)}else t=Hc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ja(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=i}else Fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=Uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ja(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else Fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=Uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ic(i,i.updateQueue),nt(i),null);case 4:return at(),t===null&&Xd(i.stateNode.containerInfo),nt(i),null;case 10:return er(i.type),nt(i),null;case 19:if(Z(pt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)_l(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=pc(t),d!==null){for(i.flags|=128,_l(l,!1),t=d.updateQueue,i.updateQueue=t,Ic(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Pg(a,t),a=a.sibling;return ae(pt,pt.current&1|2),ke&&Ji(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>Mc&&(i.flags|=128,h=!0,_l(l,!1),i.lanes=4194304)}else{if(!h)if(t=pc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ic(i,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ke)return nt(i),null}else 2*tn()-l.renderingStartTime>Mc&&a!==536870912&&(i.flags|=128,h=!0,_l(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=pt.current,ae(pt,h?a&1|2:a&1),ke&&Ji(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return Tn(i),Wf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&Ic(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),er(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function pS(t,i){switch(kf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return er(St),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ya(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Fs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Fs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(pt),null;case 4:return at(),null;case 10:return er(i.type),null;case 22:case 23:return Tn(i),Wf(),t!==null&&Z(Qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return er(St),null;case 25:return null;default:return null}}function l_(t,i){switch(kf(i),i.tag){case 3:er(St),at();break;case 26:case 27:case 5:ya(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:Z(pt);break;case 10:er(i.type);break;case 22:case 23:Tn(i),Wf(),t!==null&&Z(Qs);break;case 24:er(St)}}function vl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(A){Ye(i,i.return,A)}}function Gr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,h=i;var N=a,B=A;try{B()}catch($){Ye(h,N,$)}}}l=l.next}while(l!==d)}}catch($){Ye(i,i.return,$)}}function u_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Zg(i,a)}catch(l){Ye(t,t.return,l)}}}function c_(t,i,a){a.props=Js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function El(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,i,h)}}function Ni(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function h_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function Nd(t,i,a){try{var l=t.stateNode;LS(l,t.type,a,i),l[kt]=i}catch(h){Ye(t,t.return,h)}}function f_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Jr(t.type)||t.tag===4}function Dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&Jr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Od(t,i,a),t=t.sibling;t!==null;)Od(t,i,a),t=t.sibling}function Nc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nc(t,i,a),t=t.sibling;t!==null;)Nc(t,i,a),t=t.sibling}function d_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Et]=t,i[kt]=a}catch(d){Ye(t,t.return,d)}}var sr=!1,wt=!1,xd=!1,m_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function gS(t,i){if(t=t.containerInfo,Zd=Xc,t=wg(t),Rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,A=-1,N=-1,B=0,$=0,J=t,F=null;t:for(;;){for(var Q;J!==a||h!==0&&J.nodeType!==3||(A=_+h),J!==d||l!==0&&J.nodeType!==3||(N=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(Q=J.firstChild)!==null;)F=J,J=Q;for(;;){if(J===t)break t;if(F===a&&++B===h&&(A=_),F===d&&++$===l&&(N=_),(Q=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=Q}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:t,selectionRange:a},Xc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Js(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function p_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:or(t,a),l&4&&vl(5,a);break;case 1:if(or(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=Js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&u_(a),l&512&&El(a,a.return);break;case 3:if(or(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Zg(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&d_(a);case 26:case 5:or(t,a),i===null&&l&4&&h_(a),l&512&&El(a,a.return);break;case 12:or(t,a);break;case 31:or(t,a),l&4&&__(t,a);break;case 13:or(t,a),l&4&&v_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=RS.bind(null,a),GS(t,a))));break;case 22:if(l=a.memoizedState!==null||sr,!l){i=i!==null&&i.memoizedState!==null||wt,h=sr;var d=wt;sr=l,(wt=i)&&!d?lr(t,a,(a.subtreeFlags&8772)!==0):or(t,a),sr=h,wt=d}break;case 30:break;default:or(t,a)}}function g_(t){var i=t.alternate;i!==null&&(t.alternate=null,g_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Aa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,ln=!1;function ar(t,i,a){for(a=a.child;a!==null;)y_(t,i,a),a=a.sibling}function y_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:wt||Ni(a,i),ar(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Ni(a,i);var l=lt,h=ln;Jr(a.type)&&(lt=a.stateNode,ln=!1),ar(t,i,a),Nl(a.stateNode),lt=l,ln=h;break;case 5:wt||Ni(a,i);case 6:if(l=lt,h=ln,lt=null,ar(t,i,a),lt=l,ln=h,lt!==null)if(ln)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:lt!==null&&(ln?(t=lt,uv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):uv(lt,a.stateNode));break;case 4:l=lt,h=ln,lt=a.stateNode.containerInfo,ln=!0,ar(t,i,a),lt=l,ln=h;break;case 0:case 11:case 14:case 15:Gr(2,a,i),wt||Gr(4,a,i),ar(t,i,a);break;case 1:wt||(Ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&c_(a,i,l)),ar(t,i,a);break;case 21:ar(t,i,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,ar(t,i,a),wt=l;break;default:ar(t,i,a)}}function __(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(a){Ye(i,i.return,a)}}}function v_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){Ye(i,i.return,a)}}function yS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new m_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new m_),i;default:throw Error(s(435,t.tag))}}function Dc(t,i){var a=yS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=wS.bind(null,t,l);l.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Jr(A.type)){lt=A.stateNode,ln=!1;break e}break;case 5:lt=A.stateNode,ln=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,ln=!0;break e}A=A.return}if(lt===null)throw Error(s(160));y_(d,_,h),lt=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)E_(i,t),i=i.sibling}var Zn=null;function E_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(Gr(3,t,t.return),vl(3,t),Gr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(wt||a===null||Ni(a,a.return)),l&64&&sr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(un(i,t),cn(t),l&512&&(wt||a===null||Ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[pi]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Et]=t,Tt(d),l=d;break e;case"link":var _=Ev("link","href",h).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Ev("meta","content",h).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else Tv(h,t.type,t.stateNode);else t.stateNode=vv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Tv(h,t.type,t.stateNode):vv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(wt||a===null||Ni(a,a.return)),a!==null&&l&4&&Nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(wt||a===null||Ni(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(ce){Ye(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Nd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(xd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ye(t,t.return,ce)}}break;case 3:if(Kc=null,h=Zn,Zn=Fc(i.containerInfo),un(i,t),Zn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(i.containerInfo)}catch(ce){Ye(t,t.return,ce)}xd&&(xd=!1,T_(t));break;case 4:l=Zn,Zn=Fc(t.stateNode.containerInfo),un(i,t),cn(t),Zn=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=sr,$=wt;if(sr=B||h,wt=$||N,un(i,t),wt=$,sr=B,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||sr||wt||Zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=N.stateNode;var J=N.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ce){Ye(N,N.return,ce)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ce){Ye(N,N.return,ce)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?cv(Q,!0):cv(N.stateNode,!1)}catch(ce){Ye(N,N.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(f_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Dd(t);Nc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var A=Dd(t);Nc(t,A,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Dd(t);Od(t,B,N);break;default:throw Error(s(161))}}catch($){Ye(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function T_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;T_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function or(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)p_(t,i.alternate,i),i=i.sibling}function Zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Gr(4,i,i.return),Zs(i);break;case 1:Ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&c_(i,i.return,a),Zs(i);break;case 27:Nl(i.stateNode);case 26:case 5:Ni(i,i.return),Zs(i);break;case 22:i.memoizedState===null&&Zs(i);break;case 30:Zs(i);break;default:Zs(i)}t=t.sibling}}function lr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:lr(h,d,a),vl(4,d);break;case 1:if(lr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ye(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Jg(N[h],A)}catch(B){Ye(l,l.return,B)}}a&&_&64&&u_(d),El(d,d.return);break;case 27:d_(d);case 26:case 5:lr(h,d,a),a&&l===null&&_&4&&h_(d),El(d,d.return);break;case 12:lr(h,d,a);break;case 31:lr(h,d,a),a&&_&4&&__(h,d);break;case 13:lr(h,d,a),a&&_&4&&v_(h,d);break;case 22:d.memoizedState===null&&lr(h,d,a),El(d,d.return);break;case 30:break;default:lr(h,d,a)}i=i.sibling}}function Md(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function Vd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t))}function ei(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)A_(t,i,a,l),i=i.sibling}function A_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,a,l),h&2048&&vl(9,i);break;case 1:ei(t,i,a,l);break;case 3:ei(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t)));break;case 12:if(h&2048){ei(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(i,i.return,N)}}else ei(t,i,a,l);break;case 31:ei(t,i,a,l);break;case 13:ei(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,a,l):Tl(t,i):d._visibility&2?ei(t,i,a,l):(d._visibility|=2,$a(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Md(_,i);break;case 24:ei(t,i,a,l),h&2048&&Vd(i.alternate,i);break;default:ei(t,i,a,l)}}function $a(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,A=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:$a(d,_,A,N,h),vl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?$a(d,_,A,N,h):Tl(d,_):($._visibility|=2,$a(d,_,A,N,h)),h&&B&2048&&Md(_.alternate,_);break;case 24:$a(d,_,A,N,h),h&&B&2048&&Vd(_.alternate,_);break;default:$a(d,_,A,N,h)}i=i.sibling}}function Tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Tl(a,l),h&2048&&Md(l.alternate,l);break;case 24:Tl(a,l),h&2048&&Vd(l.alternate,l);break;default:Tl(a,l)}i=i.sibling}}var Al=8192;function Xa(t,i,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)S_(t,i,a),t=t.sibling}function S_(t,i,a){switch(t.tag){case 26:Xa(t,i,a),t.flags&Al&&t.memoizedState!==null&&ib(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,i,a);break;case 3:case 4:var l=Zn;Zn=Fc(t.stateNode.containerInfo),Xa(t,i,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,Xa(t,i,a),Al=l):Xa(t,i,a));break;default:Xa(t,i,a)}}function b_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Sl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,w_(l,t)}b_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)R_(t),t=t.sibling}function R_(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Gr(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Oc(t)):Sl(t);break;default:Sl(t)}}function Oc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,w_(l,t)}b_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Gr(8,i,i.return),Oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(i));break;default:Oc(i)}t=t.sibling}}function w_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Gr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(g_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var _S={getCacheForType:function(t){var i=Ht(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},vS=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,Ne=null,Oe=0,Qe=0,An=null,Kr=!1,Wa=!1,Pd=!1,ur=0,ft=0,Qr=0,ea=0,kd=0,Sn=0,Ja=0,bl=null,hn=null,Ld=!1,xc=0,C_=0,Mc=1/0,Vc=null,Yr=null,Vt=0,$r=null,Za=null,cr=0,Ud=0,jd=null,I_=null,Rl=0,zd=null;function bn(){return(He&2)!==0&&Oe!==0?Oe&-Oe:X.T!==null?Kd():Pu()}function N_(){if(Sn===0)if((Oe&536870912)===0||ke){var t=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),Sn=t}else Sn=536870912;return t=En.current,t!==null&&(t.flags|=32),Sn}function fn(t,i,a){(t===Ze&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Xr(t,Oe,Sn,!1)),Is(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(ea|=a),ft===4&&Xr(t,Oe,Sn,!1)),Di(t))}function D_(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),h=l?AS(t,i):qd(t,i,!0),d=l;do{if(h===0){Wa&&!l&&Xr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!ES(a)){h=qd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;h=bl;var N=A.current.memoizedState.isDehydrated;if(N&&(eo(A,_).flags|=256),_=qd(A,_,!1),_!==2){if(Pd&&!N){A.errorRecoveryDisabledLanes|=d,ea|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){eo(t,0),Xr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Xr(l,i,Sn,!Kr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=xc+300-tn(),10<h)){if(Xr(l,i,Sn,!Kr),fi(l,0,!0)!==0)break e;cr=i,l.timeoutHandle=ov(O_.bind(null,l,a,hn,Vc,Ld,i,Sn,ea,Ja,Kr,d,"Throttled",-0,0),h);break e}O_(l,a,hn,Vc,Ld,i,Sn,ea,Ja,Kr,d,null,-0,0)}}break}while(!0);Di(t)}function O_(t,i,a,l,h,d,_,A,N,B,$,J,F,Q){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},S_(i,d,J);var ce=(d&62914560)===d?xc-tn():(d&4194048)===d?C_-tn():0;if(ce=rb(J,ce),ce!==null){cr=d,t.cancelPendingCommit=ce(j_.bind(null,t,i,d,a,l,h,_,A,N,$,J,null,F,Q)),Xr(t,d,_,!B);return}}j_(t,i,d,a,l,h,_,A,N)}function ES(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xr(t,i,a,l){i&=~kd,i&=~ea,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ns(t,a,i)}function Pc(){return(He&6)===0?(wl(0),!1):!0}function Bd(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,Zi=Gs=null,id(t),Fa=null,ll=0,t=Ne;for(;t!==null;)l_(t.alternate,t),t=t.return;Ne=null}}function eo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,zS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cr=0,Bd(),Ze=t,Ne=a=Wi(t.current,null),Oe=i,Qe=0,An=null,Kr=!1,Wa=Fn(t,i),Pd=!1,Ja=Sn=kd=ea=Qr=ft=0,hn=bl=null,Ld=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return ur=i,nc(),a}function x_(t,i){we=null,X.H=gl,i===Ha||i===cc?(i=Yg(),Qe=3):i===Gf?(i=Yg(),Qe=4):Qe=i===vd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Ne===null&&(ft=1,bc(t,Mn(i,t.current)))}function M_(){var t=En.current;return t===null?!0:(Oe&4194048)===Oe?Ln===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Ln:!1}function V_(){var t=X.H;return X.H=gl,t===null?gl:t}function P_(){var t=X.A;return X.A=_S,t}function kc(){ft=4,Kr||(Oe&4194048)!==Oe&&En.current!==null||(Wa=!0),(Qr&134217727)===0&&(ea&134217727)===0||Ze===null||Xr(Ze,Oe,Sn,!1)}function qd(t,i,a){var l=He;He|=2;var h=V_(),d=P_();(Ze!==t||Oe!==i)&&(Vc=null,eo(t,i)),i=!1;var _=ft;e:do try{if(Qe!==0&&Ne!==null){var A=Ne,N=An;switch(Qe){case 8:Bd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var B=Qe;if(Qe=0,An=null,to(t,A,N,B),a&&Wa){_=0;break e}break;default:B=Qe,Qe=0,An=null,to(t,A,N,B)}}TS(),_=ft;break}catch($){x_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Zi=Gs=null,He=l,X.H=h,X.A=d,Ne===null&&(Ze=null,Oe=0,nc()),_}function TS(){for(;Ne!==null;)k_(Ne)}function AS(t,i){var a=He;He|=2;var l=V_(),h=P_();Ze!==t||Oe!==i?(Vc=null,Mc=tn()+500,eo(t,i)):Wa=Fn(t,i);e:do try{if(Qe!==0&&Ne!==null){i=Ne;var d=An;t:switch(Qe){case 1:Qe=0,An=null,to(t,i,d,1);break;case 2:case 9:if(Kg(d)){Qe=0,An=null,L_(i);break}i=function(){Qe!==2&&Qe!==9||Ze!==t||(Qe=7),Di(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Kg(d)?(Qe=0,An=null,L_(i)):(Qe=0,An=null,to(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var A=Ne;if(_?Av(_):A.stateNode.complete){Qe=0,An=null;var N=A.sibling;if(N!==null)Ne=N;else{var B=A.return;B!==null?(Ne=B,Lc(B)):Ne=null}break t}}Qe=0,An=null,to(t,i,d,5);break;case 6:Qe=0,An=null,to(t,i,d,6);break;case 8:Bd(),ft=6;break e;default:throw Error(s(462))}}SS();break}catch($){x_(t,$)}while(!0);return Zi=Gs=null,X.H=l,X.A=h,He=a,Ne!==null?0:(Ze=null,Oe=0,nc(),ft)}function SS(){for(;Ne!==null&&!_f();)k_(Ne)}function k_(t){var i=a_(t.alternate,t,ur);t.memoizedProps=t.pendingProps,i===null?Lc(t):Ne=i}function L_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=e_(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=e_(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:id(i);default:l_(a,i),i=Ne=Pg(i,ur),i=a_(a,i,ur)}t.memoizedProps=t.pendingProps,i===null?Lc(t):Ne=i}function to(t,i,a,l){Zi=Gs=null,id(i),Fa=null,ll=0;var h=i.return;try{if(hS(t,h,i,a,Oe)){ft=1,bc(t,Mn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ft=1,bc(t,Mn(a,t.current)),Ne=null;return}i.flags&32768?(ke||l===1?t=!0:Wa||(Oe&536870912)!==0?t=!1:(Kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),U_(i,t)):Lc(i)}function Lc(t){var i=t;do{if((i.flags&32768)!==0){U_(i,Kr);return}t=i.return;var a=mS(i.alternate,i,ur);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ft===0&&(ft=5)}function U_(t,i){do{var a=pS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ft=6,Ne=null}function j_(t,i,a,l,h,d,_,A,N){t.cancelPendingCommit=null;do Uc();while(Vt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Df,Tf(t,a,d,_,A,N),t===Ze&&(Ne=Ze=null,Oe=0),Za=i,$r=t,cr=a,Ud=d,jd=h,I_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,CS(wr,function(){return F_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=se.p,se.p=2,_=He,He|=4;try{gS(t,i,a)}finally{He=_,se.p=h,X.T=l}}Vt=1,z_(),B_(),q_()}}function z_(){if(Vt===1){Vt=0;var t=$r,i=Za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{E_(i,t);var d=em,_=wg(t.containerInfo),A=d.focusedElem,N=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&Rg(A.ownerDocument.documentElement,A)){if(N!==null&&Rf(A)){var B=N.start,$=N.end;if($===void 0&&($=B),"selectionStart"in A)A.selectionStart=B,A.selectionEnd=Math.min($,A.value.length);else{var J=A.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var Q=F.getSelection(),ce=A.textContent.length,ge=Math.min(N.start,ce),Je=N.end===void 0?ge:Math.min(N.end,ce);!Q.extend&&ge>Je&&(_=Je,Je=ge,ge=_);var k=bg(A,ge),M=bg(A,Je);if(k&&M&&(Q.rangeCount!==1||Q.anchorNode!==k.node||Q.anchorOffset!==k.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var z=J.createRange();z.setStart(k.node,k.offset),Q.removeAllRanges(),ge>Je?(Q.addRange(z),Q.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),Q.addRange(z))}}}}for(J=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&J.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var W=J[A];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Xc=!!Zd,em=Zd=null}finally{He=h,se.p=l,X.T=a}}t.current=i,Vt=2}}function B_(){if(Vt===2){Vt=0;var t=$r,i=Za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{p_(t,i.alternate,i)}finally{He=h,se.p=l,X.T=a}}Vt=3}}function q_(){if(Vt===4||Vt===3){Vt=0,Iu();var t=$r,i=Za,a=cr,l=I_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Za=$r=null,H_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Yr=null),Qi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=se.p,se.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{X.T=i,se.p=h}}(cr&3)!==0&&Uc(),Di(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===zd?Rl++:(Rl=0,zd=t):Rl=0,wl(0)}}function H_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,al(i)))}function Uc(){return z_(),B_(),q_(),F_()}function F_(){if(Vt!==5)return!1;var t=$r,i=Ud;Ud=0;var a=Qi(cr),l=X.T,h=se.p;try{se.p=32>a?32:a,X.T=null,a=jd,jd=null;var d=$r,_=cr;if(Vt=0,Za=$r=null,cr=0,(He&6)!==0)throw Error(s(331));var A=He;if(He|=4,R_(d.current),A_(d,d.current,_,a),He=A,wl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{se.p=h,X.T=l,H_(t,i)}}function G_(t,i,a){i=Mn(a,i),i=_d(t.stateNode,i,2),t=qr(t,i,2),t!==null&&(Is(t,2),Di(t))}function Ye(t,i,a){if(t.tag===3)G_(t,t,a);else for(;i!==null;){if(i.tag===3){G_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yr===null||!Yr.has(l))){t=Mn(a,t),a=Ky(2),l=qr(i,a,2),l!==null&&(Qy(a,l,i,t),Is(l,2),Di(l));break}}i=i.return}}function Hd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new vS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Pd=!0,h.add(a),t=bS.bind(null,t,i,a),i.then(t,t))}function bS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(Oe&a)===a&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>tn()-xc?(He&2)===0&&eo(t,0):kd|=a,Ja===Oe&&(Ja=0)),Di(t)}function K_(t,i){i===0&&(i=Vu()),t=qs(t,i),t!==null&&(Is(t,i),Di(t))}function RS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),K_(t,a)}function wS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),K_(t,a)}function CS(t,i){return Mt(t,i)}var jc=null,no=null,Fd=!1,zc=!1,Gd=!1,Wr=0;function Di(t){t!==no&&t.next===null&&(no===null?jc=no=t:no=no.next=t),zc=!0,Fd||(Fd=!0,NS())}function wl(t,i){if(!Gd&&zc){Gd=!0;do for(var a=!1,l=jc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,X_(l,d))}else d=Oe,d=fi(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,X_(l,d));l=l.next}while(a);Gd=!1}}function IS(){Q_()}function Q_(){zc=Fd=!1;var t=0;Wr!==0&&jS()&&(t=Wr);for(var i=tn(),a=null,l=jc;l!==null;){var h=l.next,d=Y_(l,i);d===0?(l.next=null,a===null?jc=h:a.next=h,h===null&&(no=a)):(a=l,(t!==0||(d&3)!==0)&&(zc=!0)),l=h}Vt!==0&&Vt!==5||wl(t),Wr!==0&&(Wr=0)}function Y_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),A=1<<_,N=h[_];N===-1?((A&a)===0||(A&l)!==0)&&(h[_]=Ef(A,i)):N<=i&&(t.expiredLanes|=A),d&=~A}if(i=Ze,a=Oe,a=fi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Rr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Rr(l),Qi(a)){case 2:case 8:a=ko;break;case 32:a=wr;break;case 268435456:a=Nu;break;default:a=wr}return l=$_.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Rr(l),t.callbackPriority=2,t.callbackNode=null,2}function $_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Uc()&&t.callbackNode!==a)return null;var l=Oe;return l=fi(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(D_(t,l,i),Y_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?$_.bind(null,t):null)}function X_(t,i){if(Uc())return null;D_(t,i,!0)}function NS(){BS(function(){(He&6)!==0?Mt(Po,IS):Q_()})}function Kd(){if(Wr===0){var t=Ba;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Wr=t}return Wr}function W_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function J_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function DS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=W_((h[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?W_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var A=new Si("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wr!==0){var N=_?J_(h,_):new FormData(h);fd(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(A.preventDefault(),N=_?J_(h,_):new FormData(h),fd(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Qd=0;Qd<Nf.length;Qd++){var Yd=Nf[Qd],OS=Yd.toLowerCase(),xS=Yd[0].toUpperCase()+Yd.slice(1);Jn(OS,"on"+xS)}Jn(Ng,"onAnimationEnd"),Jn(Dg,"onAnimationIteration"),Jn(Og,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(YA,"onTransitionRun"),Jn($A,"onTransitionStart"),Jn(XA,"onTransitionCancel"),Jn(xg,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function Z_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var A=l[_],N=A.instance,B=A.currentTarget;if(A=A.listener,N!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=B;try{d(h)}catch($){tc($)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(A=l[_],N=A.instance,B=A.currentTarget,A=A.listener,N!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=B;try{d(h)}catch($){tc($)}h.currentTarget=null,d=N}}}}function De(t,i){var a=i[Ta];a===void 0&&(a=i[Ta]=new Set);var l=t+"__bubble";a.has(l)||(ev(i,t,2,!1),a.add(l))}function $d(t,i,a){var l=0;i&&(l|=4),ev(a,t,l,i)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Xd(t){if(!t[Bc]){t[Bc]=!0,jo.forEach(function(a){a!=="selectionchange"&&(MS.has(a)||$d(a,!1,t),$d(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Bc]||(i[Bc]=!0,$d("selectionchange",!1,i))}}function ev(t,i,a,l){switch(Nv(i)){case 2:var h=ob;break;case 8:h=lb;break;default:h=hm}a=h.bind(null,i,a,t),h=void 0,!Vs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Wd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;A!==null;){if(_=gi(A),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}A=A.parentNode}}l=l.return}xr(function(){var B=d,$=Nn(a),J=[];e:{var F=Mg.get(t);if(F!==void 0){var Q=Si,ce=t;switch(t){case"keypress":if(ks(a)===0)break e;case"keydown":case"keyup":Q=Ju;break;case"focusin":ce="focus",Q=Us;break;case"focusout":ce="blur",Q=Us;break;case"beforeblur":case"afterblur":Q=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case Ng:case Dg:case Og:Q=Gu;break;case xg:Q=b;break;case"scroll":case"scrollend":Q=Wo;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Xi;break;case"toggle":case"beforetoggle":Q=Re}var ge=(i&4)!==0,Je=!ge&&(t==="scroll"||t==="scrollend"),k=ge?F!==null?F+"Capture":null:F;ge=[];for(var M=B,z;M!==null;){var W=M;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||k===null||(W=Yn(M,k),W!=null&&ge.push(Il(M,W,z))),Je)break;M=M.return}0<ge.length&&(F=new Q(F,ce,null,a,$),J.push({event:F,listeners:ge}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==Yo&&(ce=a.relatedTarget||a.fromElement)&&(gi(ce)||ce[mi]))break e;if((Q||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(ce=a.relatedTarget||a.toElement,Q=B,ce=ce?gi(ce):null,ce!==null&&(Je=u(ce),ge=ce.tag,ce!==Je||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(Q=null,ce=B),Q!==ce)){if(ge=Jo,W="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Xi,W="onPointerLeave",k="onPointerEnter",M="pointer"),Je=Q==null?F:gn(Q),z=ce==null?F:gn(ce),F=new ge(W,M+"leave",Q,a,$),F.target=Je,F.relatedTarget=z,W=null,gi($)===B&&(ge=new ge(k,M+"enter",ce,a,$),ge.target=z,ge.relatedTarget=Je,W=ge),Je=W,Q&&ce)t:{for(ge=VS,k=Q,M=ce,z=0,W=k;W;W=ge(W))z++;W=0;for(var fe=M;fe;fe=ge(fe))W++;for(;0<z-W;)k=ge(k),z--;for(;0<W-z;)M=ge(M),W--;for(;z--;){if(k===M||M!==null&&k===M.alternate){ge=k;break t}k=ge(k),M=ge(M)}ge=null}else ge=null;Q!==null&&tv(J,F,Q,ge,!1),ce!==null&&Je!==null&&tv(J,Je,ce,ge,!0)}}e:{if(F=B?gn(B):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var ze=_g;else if(gg(F))if(vg)ze=GA;else{ze=HA;var he=qA}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&Ra(B.elementType)&&(ze=_g):ze=FA;if(ze&&(ze=ze(t,B))){yg(J,ze,a,$);break e}he&&he(t,F,B),t==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&Go(F,"number",F.value)}switch(he=B?gn(B):window,t){case"focusin":(gg(he)||he.contentEditable==="true")&&(Ma=he,wf=B,il=null);break;case"focusout":il=wf=Ma=null;break;case"mousedown":Cf=!0;break;case"contextmenu":case"mouseup":case"dragend":Cf=!1,Cg(J,a,$);break;case"selectionchange":if(QA)break;case"keydown":case"keyup":Cg(J,a,$)}var Ie;if(qe)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else xa?js(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(wi&&a.locale!=="ko"&&(xa||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&xa&&(Ie=Xo()):(Ai=$,$o="value"in Ai?Ai.value:Ai.textContent,xa=!0)),he=qc(B,xe),0<he.length&&(xe=new Ri(xe,t,null,a,$),J.push({event:xe,listeners:he}),Ie?xe.data=Ie:(Ie=Oa(a),Ie!==null&&(xe.data=Ie)))),(Ie=On?UA(t,a):jA(t,a))&&(xe=qc(B,"onBeforeInput"),0<xe.length&&(he=new Ri("onBeforeInput","beforeinput",null,a,$),J.push({event:he,listeners:xe}),he.data=Ie)),DS(J,t,B,a,$)}Z_(J,i)})}function Il(t,i,a){return{instance:t,listener:i,currentTarget:a}}function qc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,a),h!=null&&l.unshift(Il(t,h,d)),h=Yn(t,i),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function VS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var A=a,N=A.alternate,B=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||B===null||(N=B,h?(B=Yn(a,d),B!=null&&_.unshift(Il(a,B,N))):h||(B=Yn(a,d),B!=null&&_.push(Il(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var PS=/\r\n?/g,kS=/\u0000|\uFFFD/g;function nv(t){return(typeof t=="string"?t:""+t).replace(PS,`
`).replace(kS,"")}function iv(t,i){return i=nv(i),nv(t)===i}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Qo(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=wa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),Sa(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qu.get(a)||a,Sa(t,a,l))}}function Jd(t,i,a,l,h,d){switch(a){case"style":Qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Sa(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var A=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:We(t,i,l,$,a,null)}}ju(t,d,A,N,B,_,h,!1);return;case"select":De("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:We(t,i,h,A,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ir(t,!!l,i,!1):a!=null&&Ir(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:We(t,i,_,A,a,null)}Nr(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,N,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)De(Cl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,B,l,a,null)}return;default:if(Ra(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Jd(t,i,$,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&We(t,i,A,l,a,null))}function LS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,A=null,N=null,B=null,$=null;for(Q in a){var J=a[Q];if(a.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=J;default:l.hasOwnProperty(Q)||We(t,i,Q,null,l,J)}}for(var F in l){var Q=l[F];if(J=a[F],l.hasOwnProperty(F)&&(Q!=null||J!=null))switch(F){case"type":d=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==J&&We(t,i,F,Q,l,J)}}ba(t,_,A,N,B,$,d,h);return;case"select":Q=_=A=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||We(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":F=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==N&&We(t,i,h,d,l,N)}i=A,a=_,l=Q,F!=null?Ir(t,!!a,F,!1):!!l!=!!a&&(i!=null?Ir(t,!!a,i,!0):Ir(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:We(t,i,A,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,_,h,l,d)}zu(t,F,Q);return;case"option":for(var ce in a)if(F=a[ce],a.hasOwnProperty(ce)&&F!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:We(t,i,ce,null,l,F)}for(N in l)if(F=l[N],Q=a[N],l.hasOwnProperty(N)&&F!==Q&&(F!=null||Q!=null))switch(N){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,i,N,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)F=a[ge],a.hasOwnProperty(ge)&&F!=null&&!l.hasOwnProperty(ge)&&We(t,i,ge,null,l,F);for(B in l)if(F=l[B],Q=a[B],l.hasOwnProperty(B)&&F!==Q&&(F!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:We(t,i,B,F,l,Q)}return;default:if(Ra(i)){for(var Je in a)F=a[Je],a.hasOwnProperty(Je)&&F!==void 0&&!l.hasOwnProperty(Je)&&Jd(t,i,Je,void 0,l,F);for($ in l)F=l[$],Q=a[$],!l.hasOwnProperty($)||F===Q||F===void 0&&Q===void 0||Jd(t,i,$,F,l,Q);return}}for(var k in a)F=a[k],a.hasOwnProperty(k)&&F!=null&&!l.hasOwnProperty(k)&&We(t,i,k,null,l,F);for(J in l)F=l[J],Q=a[J],!l.hasOwnProperty(J)||F===Q||F==null&&Q==null||We(t,i,J,F,l,Q)}function rv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function US(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,A=h.duration;if(d&&A&&rv(_)){for(_=0,A=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>A)break;var $=N.transferSize,J=N.initiatorType;$&&rv(J)&&(N=N.responseEnd,_+=$*(N<A?1:(A-B)/(N-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Zd=null,em=null;function Hc(t){return t.nodeType===9?t:t.ownerDocument}function sv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function tm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nm=null;function jS(){var t=window.event;return t&&t.type==="popstate"?t===nm?!1:(nm=t,!0):(nm=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,BS=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(t){return lv.resolve(null).then(t).catch(qS)}:ov;function qS(t){setTimeout(function(){throw t})}function Jr(t){return t==="head"}function uv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ao(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Nl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Nl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[pi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Nl(t.ownerDocument.body);a=h}while(a);ao(i)}function cv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function im(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),Aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function HS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function FS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function hv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Un(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$?"||t.data==="$~"}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function GS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var am=null;function fv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Un(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function dv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function mv(t,i,a){switch(i=Hc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Nl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Aa(t)}var jn=new Map,pv=new Set;function Fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hr=se.d;se.d={f:KS,r:QS,D:YS,C:$S,L:XS,m:WS,X:ZS,S:JS,M:eb};function KS(){var t=hr.f(),i=Pc();return t||i}function QS(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?xy(i):hr.r(t)}var io=typeof document>"u"?null:document;function gv(t,i,a){var l=io;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),pv.has(h)||(pv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function YS(t){hr.D(t),gv("dns-prefetch",t,null)}function $S(t,i){hr.C(t,i),gv("preconnect",t,i)}function XS(t,i,a){hr.L(t,i,a);var l=io;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=ro(t);break;case"script":d=so(t)}jn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),Gt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function WS(t,i){hr.m(t,i);var a=io;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(t)}if(!jn.has(d)&&(t=T({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),Gt(l,"link",t),Tt(l),a.head.appendChild(l)}}}function JS(t,i,a){hr.S(t,i,a);var l=io;if(l&&t){var h=yi(l).hoistableStyles,d=ro(t);i=i||"default";var _=h.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Dl(d)))A.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&om(t,a);var N=_=l.createElement("link");Tt(N),Gt(N,"link",t),N._p=new Promise(function(B,$){N.onload=B,N.onerror=$}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Gc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:A},h.set(d,_)}}}function ZS(t,i){hr.X(t,i);var a=io;if(a&&t){var l=yi(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=T({src:t,async:!0},i),(i=jn.get(h))&&lm(t,i),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function eb(t,i){hr.M(t,i);var a=io;if(a&&t){var l=yi(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&lm(t,i),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yv(t,i,a,l){var h=(h=Ce.current)?Fc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=yi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var d=yi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Dl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||tb(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=so(a),a=yi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ro(t){return'href="'+an(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function _v(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function tb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),Tt(i),t.head.appendChild(i))}function so(t){return'[src="'+an(t)+'"]'}function Ol(t){return"script[async]"+t}function vv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Gt(l,"style",h),Gc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ro(a.href);var d=t.querySelector(Dl(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=_v(a),(h=jn.get(h))&&om(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(A,N){_.onload=A,_.onerror=N}),Gt(d,"link",l),i.state.loading|=4,Gc(d,a.precedence,t),i.instance=d;case"script":return d=so(a.src),(h=t.querySelector(Ol(d)))?(i.instance=h,Tt(h),h):(l=a,(h=jn.get(d))&&(l=T({},a),lm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Gc(l,a.precedence,t));return i.instance}function Gc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function lm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Kc=null;function Ev(t,i,a){if(Kc===null){var l=new Map,h=Kc=new Map;h.set(a,l)}else h=Kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[pi]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function Tv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function nb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Av(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ib(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ro(l.href),d=i.querySelector(Dl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Qc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,l=_v(l),(h=jn.get(h))&&om(l,h),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(A,N){_.onload=A,_.onerror=N}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Qc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var um=0;function rb(t,i){return t.stylesheets&&t.count===0&&$c(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&um===0&&(um=62500*US());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>um?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function $c(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,i.forEach(sb,t),Yc=null,Qc.call(t))}function sb(t,i){if(!(i.state.loading&4)){var a=Yc.get(t);if(a)var l=a.get(null);else{a=new Map,Yc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var xl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function ab(t,i,a,l,h,d,_,A,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Sv(t,i,a,l,h,d,_,A,N,B,$,J){return t=new ab(t,i,a,_,N,B,$,J,A),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=qf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Kf(d),t}function bv(t){return t?(t=ka,t):ka}function Rv(t,i,a,l,h,d){h=bv(h),l.context===null?l.context=h:l.pendingContext=h,l=Br(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=qr(t,l,i),a!==null&&(fn(a,t,i),cl(a,t,i))}function wv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function cm(t,i){wv(t,i),(t=t.alternate)&&wv(t,i)}function Cv(t){if(t.tag===13||t.tag===31){var i=qs(t,67108864);i!==null&&fn(i,t,67108864),cm(t,67108864)}}function Iv(t){if(t.tag===13||t.tag===31){var i=bn();i=Ds(i);var a=qs(t,i);a!==null&&fn(a,t,i),cm(t,i)}}var Xc=!0;function ob(t,i,a,l){var h=X.T;X.T=null;var d=se.p;try{se.p=2,hm(t,i,a,l)}finally{se.p=d,X.T=h}}function lb(t,i,a,l){var h=X.T;X.T=null;var d=se.p;try{se.p=8,hm(t,i,a,l)}finally{se.p=d,X.T=h}}function hm(t,i,a,l){if(Xc){var h=fm(l);if(h===null)Wd(t,i,l,Wc,a),Dv(t,l);else if(cb(h,t,i,a,l))l.stopPropagation();else if(Dv(t,l),i&4&&-1<ub.indexOf(t)){for(;h!==null;){var d=In(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hi(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var N=1<<31-dt(_);A.entanglements[1]|=N,_&=~N}Di(d),(He&6)===0&&(Mc=tn()+500,wl(0))}}break;case 31:case 13:A=qs(d,2),A!==null&&fn(A,d,2),Pc(),cm(d,2)}if(d=fm(l),d===null&&Wd(t,i,l,Wc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Wd(t,i,l,null,a)}}function fm(t){return t=Nn(t),dm(t)}var Wc=null;function dm(t){if(Wc=null,t=gi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Wc=t,null}function Nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ws()){case Po:return 2;case ko:return 8;case wr:case vf:return 32;case Nu:return 268435456;default:return 32}default:return 32}}var mm=!1,Zr=null,es=null,ts=null,Ml=new Map,Vl=new Map,ns=[],ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(t,i){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function Pl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=In(i),i!==null&&Cv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function cb(t,i,a,l,h){switch(i){case"focusin":return Zr=Pl(Zr,t,i,a,l,h),!0;case"dragenter":return es=Pl(es,t,i,a,l,h),!0;case"mouseover":return ts=Pl(ts,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,Pl(Ml.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,Pl(Vl.get(d)||null,t,i,a,l,h)),!0}return!1}function Ov(t){var i=gi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){Iv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){Iv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yo=l,a.target.dispatchEvent(l),Yo=null}else return i=In(a),i!==null&&Cv(i),t.blockedOn=a,!1;i.shift()}return!0}function xv(t,i,a){Jc(t)&&a.delete(i)}function hb(){mm=!1,Zr!==null&&Jc(Zr)&&(Zr=null),es!==null&&Jc(es)&&(es=null),ts!==null&&Jc(ts)&&(ts=null),Ml.forEach(xv),Vl.forEach(xv)}function Zc(t,i){t.blockedOn===i&&(t.blockedOn=null,mm||(mm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hb)))}var eh=null;function Mv(t){eh!==t&&(eh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(i,3),i-=3,fd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ao(t){function i(N){return Zc(N,t)}Zr!==null&&Zc(Zr,t),es!==null&&Zc(es,t),ts!==null&&Zc(ts,t),Ml.forEach(i),Vl.forEach(i);for(var a=0;a<ns.length;a++){var l=ns[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)Ov(a),a.blockedOn===null&&ns.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||Mv(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)A=_.formAction;else if(dm(h)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),Mv(a)}}}function Vv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function pm(t){this._internalRoot=t}th.prototype.render=pm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();Rv(a,l,t,i,null,null)},th.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Rv(t.current,2,null,t,null,null),Pc(),i[mi]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var i=Pu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ns.length&&i!==0&&i<ns[a].priority;a++);ns.splice(a,0,t),a===0&&Ov(t)}};var Pv=e.version;if(Pv!=="19.2.0")throw Error(s(527,Pv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var fb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Hn=nh.inject(fb),zt=nh}catch{}}return Ll.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=qy,d=Hy,_=Fy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Sv(t,1,!1,null,null,a,l,null,h,d,_,Vv),t[mi]=i.current,Xd(t),new pm(i)},Ll.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=qy,_=Hy,A=Fy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Sv(t,1,!0,i,a??null,l,h,N,d,_,A,Vv),i.context=bv(null),a=i.current,l=bn(),l=Ds(l),h=Br(l),h.callback=null,qr(a,h,l),a=l,i.current.lanes=a,Is(i,a),Di(i),t[mi]=i.current,Xd(t),new th(i)},Ll.version="19.2.0",Ll}var Gv;function Ab(){if(Gv)return _m.exports;Gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_m.exports=Tb(),_m.exports}var Sb=Ab();const bb=kT(Sb);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kv="popstate";function Rb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Um("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return Cb(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wb(){return Math.random().toString(36).substring(2,10)}function Qv(r,e){return{usr:r.state,key:r.key,idx:e}}function Um(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||s||wb()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function bo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Cb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function T(){m="POP";let q=v(),Y=q==null?null:q-g;g=q,p&&p({action:m,location:K.location,delta:Y})}function R(q,Y){m="PUSH";let ne=Um(K.location,q,Y);g=v()+1;let ie=Qv(ne,g),pe=K.createHref(ne);try{f.pushState(ie,"",pe)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(pe)}u&&p&&p({action:m,location:K.location,delta:1})}function O(q,Y){m="REPLACE";let ne=Um(K.location,q,Y);g=v();let ie=Qv(ne,g),pe=K.createHref(ne);f.replaceState(ie,"",pe),u&&p&&p({action:m,location:K.location,delta:0})}function H(q){return Ib(q)}let K={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Kv,T),p=q,()=>{o.removeEventListener(Kv,T),p=null}},createHref(q){return e(o,q)},createURL:H,encodeLocation(q){let Y=H(q);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:R,replace:O,go(q){return f.go(q)}};return K}function Ib(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Wl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function LT(r,e,n="/"){return Nb(r,e,n,!1)}function Nb(r,e,n,s){let o=typeof e=="string"?bo(e):e,u=yr(o.pathname||"/",n);if(u==null)return null;let f=UT(r);Db(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Bb(u);m=jb(f[p],g,s)}return m}function UT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let v={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ut(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=mr([s,v.relativePath]),R=n.concat(v);f.children&&f.children.length>0&&(ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),UT(f.children,e,R,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:Lb(T,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of jT(f.path))u(f,m,!0,p)}),e}function jT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=jT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Db(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Ub(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ob=/^:[\w-]+$/,xb=3,Mb=2,Vb=1,Pb=10,kb=-2,Yv=r=>r==="*";function Lb(r,e){let n=r.split("/"),s=n.length;return n.some(Yv)&&(s+=kb),e&&(s+=Mb),n.filter(o=>!Yv(o)).reduce((o,u)=>o+(Ob.test(u)?xb:u===""?Vb:Pb),s)}function Ub(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function jb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),R=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:mr([u,T.pathname]),pathnameBase:Gb(mr([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=mr([u,T.pathnameBase]))}return f}function Sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=zb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},R)=>{if(v==="*"){let H=m[R]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const O=m[R];return T&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function zb(r,e=!1,n=!0){zi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Bb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function yr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function qb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?bo(r):r;return{pathname:n?n.startsWith("/")?n:Hb(n,e):e,search:Kb(s),hash:Qb(o)}}function Hb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zT(r){let e=Fb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function BT(r,e,n,s=!1){let o;typeof r=="string"?o=bo(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}m=T>=0?e[T]:"/"}let p=qb(o,m),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var mr=r=>r.join("/").replace(/\/\/+/g,"/"),Gb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Kb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Qb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Yb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var qT=["POST","PUT","PATCH","DELETE"];new Set(qT);var $b=["GET",...qT];new Set($b);var Ro=j.createContext(null);Ro.displayName="DataRouter";var Xh=j.createContext(null);Xh.displayName="DataRouterState";j.createContext(!1);var HT=j.createContext({isTransitioning:!1});HT.displayName="ViewTransition";var Xb=j.createContext(new Map);Xb.displayName="Fetchers";var Wb=j.createContext(null);Wb.displayName="Await";var Hi=j.createContext(null);Hi.displayName="Navigation";var lu=j.createContext(null);lu.displayName="Location";var Fi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var pp=j.createContext(null);pp.displayName="RouteError";function Jb(r,{relative:e}={}){ut(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Hi),{hash:o,pathname:u,search:f}=cu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:mr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function uu(){return j.useContext(lu)!=null}function oi(){return ut(uu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(lu).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GT(r){j.useContext(Hi).static||j.useLayoutEffect(r)}function li(){let{isDataRoute:r}=j.useContext(Fi);return r?hR():Zb()}function Zb(){ut(uu(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(Ro),{basename:e,navigator:n}=j.useContext(Hi),{matches:s}=j.useContext(Fi),{pathname:o}=oi(),u=JSON.stringify(zT(s)),f=j.useRef(!1);return GT(()=>{f.current=!0}),j.useCallback((p,g={})=>{if(zi(f.current,FT),!f.current)return;if(typeof p=="number"){n.go(p);return}let v=BT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:mr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}j.createContext(null);function KT(){let{matches:r}=j.useContext(Fi),e=r[r.length-1];return e?e.params:{}}function cu(r,{relative:e}={}){let{matches:n}=j.useContext(Fi),{pathname:s}=oi(),o=JSON.stringify(zT(n));return j.useMemo(()=>BT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function eR(r,e){return QT(r,e)}function QT(r,e,n,s,o){ut(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(Hi),{matches:f}=j.useContext(Fi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";YT(g,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let R=oi(),O;if(e){let ne=typeof e=="string"?bo(e):e;ut(v==="/"||ne.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),O=ne}else O=R;let H=O.pathname||"/",K=H;if(v!=="/"){let ne=v.replace(/^\//,"").split("/");K="/"+H.replace(/^\//,"").split("/").slice(ne.length).join("/")}let q=LT(r,{pathname:K});zi(T||q!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),zi(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=sR(q&&q.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:mr([v,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?v:mr([v,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,o);return e&&Y?j.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Y):Y}function tR(){let r=cR(),e=Yb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,f)}var nR=j.createElement(tR,null),iR=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?j.createElement(Fi.Provider,{value:this.props.routeContext},j.createElement(pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rR({routeContext:r,match:e,children:n}){let s=j.useContext(Ro);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Fi.Provider,{value:r},n)}function sR(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let g=u.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:T,errors:R}=n,O=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!R||R[v.route.id]===void 0);if(v.route.lazy||O){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,T)=>{let R,O=!1,H=null,K=null;n&&(R=f&&v.route.id?f[v.route.id]:void 0,H=v.route.errorElement||nR,m&&(p<0&&T===0?(YT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,K=null):p===T&&(O=!0,K=v.route.hydrateFallbackElement||null)));let q=e.concat(u.slice(0,T+1)),Y=()=>{let ne;return R?ne=H:O?ne=K:v.route.Component?ne=j.createElement(v.route.Component,null):v.route.element?ne=v.route.element:ne=g,j.createElement(rR,{match:v,routeContext:{outlet:g,matches:q,isDataRoute:n!=null},children:ne})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?j.createElement(iR,{location:n.location,revalidation:n.revalidation,component:H,error:R,children:Y(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:s}):Y()},null)}function gp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aR(r){let e=j.useContext(Ro);return ut(e,gp(r)),e}function oR(r){let e=j.useContext(Xh);return ut(e,gp(r)),e}function lR(r){let e=j.useContext(Fi);return ut(e,gp(r)),e}function yp(r){let e=lR(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function uR(){return yp("useRouteId")}function cR(){let r=j.useContext(pp),e=oR("useRouteError"),n=yp("useRouteError");return r!==void 0?r:e.errors?.[n]}function hR(){let{router:r}=aR("useNavigate"),e=yp("useNavigate"),n=j.useRef(!1);return GT(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{zi(n.current,FT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var $v={};function YT(r,e,n){!e&&!$v[r]&&($v[r]=!0,zi(!1,n))}j.memo(fR);function fR({routes:r,future:e,state:n,unstable_onError:s}){return QT(r,void 0,n,s,e)}function Rn(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dR({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=bo(n));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:R="default"}=n,O=j.useMemo(()=>{let H=yr(p,f);return H==null?null:{location:{pathname:H,search:g,hash:v,state:T,key:R},navigationType:s}},[f,p,g,v,T,R,s]);return zi(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(Hi.Provider,{value:m},j.createElement(lu.Provider,{children:e,value:O}))}function mR({children:r,location:e}){return eR(jm(r),e)}function jm(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,jm(s.props.children,u));return}ut(s.type===Rn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=jm(s.props.children,u)),n.push(f)}),n}var hh="get",fh="application/x-www-form-urlencoded";function Wh(r){return r!=null&&typeof r.tagName=="string"}function pR(r){return Wh(r)&&r.tagName.toLowerCase()==="button"}function gR(r){return Wh(r)&&r.tagName.toLowerCase()==="form"}function yR(r){return Wh(r)&&r.tagName.toLowerCase()==="input"}function _R(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function vR(r,e){return r.button===0&&(!e||e==="_self")&&!_R(r)}var ih=null;function ER(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var TR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(r){return r!=null&&!TR.has(r)?(zi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):r}function AR(r,e){let n,s,o,u,f;if(gR(r)){let m=r.getAttribute("action");s=m?yr(m,e):null,n=r.getAttribute("method")||hh,o=Sm(r.getAttribute("enctype"))||fh,u=new FormData(r)}else if(pR(r)||yR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?yr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||hh,o=Sm(r.getAttribute("formenctype"))||Sm(m.getAttribute("enctype"))||fh,u=new FormData(m,r),!ER()){let{name:g,type:v,value:T}=r;if(v==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,T)}}else{if(Wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,s=null,o=fh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _p(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function SR(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&yr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function bR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function wR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await bR(u,n);return f.links?f.links():[]}return[]}));return DR(s.flat(1).filter(RR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function CR(r,e,{includeHydrateFallback:n}={}){return IR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function IR(r){return[...new Set(r)]}function NR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function DR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(NR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function $T(){let r=j.useContext(Ro);return _p(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function OR(){let r=j.useContext(Xh);return _p(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var vp=j.createContext(void 0);vp.displayName="FrameworkContext";function XT(){let r=j.useContext(vp);return _p(r,"You must render this element inside a <HydratedRouter> element"),r}function xR(r,e){let n=j.useContext(vp),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,R=j.useRef(null);j.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=Y=>{Y.forEach(ne=>{f(ne.isIntersecting)})},q=new IntersectionObserver(K,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),j.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let O=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Ul(m,O),onBlur:Ul(p,H),onMouseEnter:Ul(g,O),onMouseLeave:Ul(v,H),onTouchStart:Ul(T,O)}]:[!1,R,{}]}function Ul(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function MR({page:r,...e}){let{router:n}=$T(),s=j.useMemo(()=>LT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(PR,{page:r,matches:s,...e}):null}function VR(r){let{manifest:e,routeModules:n}=XT(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return wR(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function PR({page:r,matches:e,...n}){let s=oi(),{manifest:o,routeModules:u}=XT(),{basename:f}=$T(),{loaderData:m,matches:p}=OR(),g=j.useMemo(()=>Xv(r,e,p,o,s,"data"),[r,e,p,o,s]),v=j.useMemo(()=>Xv(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,K=!1;if(e.forEach(Y=>{let ne=o.routes[Y.route.id];!ne||!ne.hasLoader||(!g.some(ie=>ie.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||ne.hasClientLoader?K=!0:H.add(Y.route.id))}),H.size===0)return[];let q=SR(r,f,"data");return K&&H.size>0&&q.searchParams.set("_routes",e.filter(Y=>H.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,g,e,r,u]),R=j.useMemo(()=>CR(v,o),[v,o]),O=VR(v);return j.createElement(j.Fragment,null,T.map(H=>j.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),R.map(H=>j.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),O.map(({key:H,link:K})=>j.createElement("link",{key:H,nonce:n.nonce,...K})))}function kR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var WT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WT&&(window.__reactRouterVersion="7.9.4")}catch{}function LR({basename:r,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=Rb({window:n,v5Compat:!0}));let o=s.current,[u,f]=j.useState({action:o.action,location:o.location}),m=j.useCallback(p=>{j.startTransition(()=>f(p))},[f]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(dR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var JT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZT=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,...R},O){let{basename:H}=j.useContext(Hi),K=typeof g=="string"&&JT.test(g),q,Y=!1;if(typeof g=="string"&&K&&(q=g,WT))try{let C=new URL(window.location.href),P=g.startsWith("//")?new URL(C.protocol+g):new URL(g),x=yr(P.pathname,H);P.origin===C.origin&&x!=null?g=x+P.search+P.hash:Y=!0}catch{zi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=Jb(g,{relative:o}),[ie,pe,Se]=xR(s,R),be=BR(g,{replace:f,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T});function D(C){e&&e(C),C.defaultPrevented||be(C)}let w=j.createElement("a",{...R,...Se,href:q||ne,onClick:Y||u?e:D,ref:kR(O,pe),target:p,"data-discover":!K&&n==="render"?"true":void 0});return ie&&!K?j.createElement(j.Fragment,null,w,j.createElement(MR,{page:ne})):w});ZT.displayName="Link";var UR=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},v){let T=cu(f,{relative:g.relative}),R=oi(),O=j.useContext(Xh),{navigator:H,basename:K}=j.useContext(Hi),q=O!=null&&KR(T)&&m===!0,Y=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,ne=R.pathname,ie=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,Y=Y.toLowerCase()),ie&&K&&(ie=yr(ie,K)||ie);const pe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let Se=ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(pe)==="/",be=ie!=null&&(ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(Y.length)==="/"),D={isActive:Se,isPending:be,isTransitioning:q},w=Se?e:void 0,C;typeof s=="function"?C=s(D):C=[s,Se?"active":null,be?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(D):u;return j.createElement(ZT,{...g,"aria-current":w,className:C,ref:v,style:P,to:f,viewTransition:m},typeof p=="function"?p(D):p)});UR.displayName="NavLink";var jR=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=hh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...R},O)=>{let H=FR(),K=GR(m,{relative:g}),q=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&JT.test(m),ne=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let pe=ie.nativeEvent.submitter,Se=pe?.getAttribute("formmethod")||f;H(pe||ie.currentTarget,{fetcherKey:e,method:Se,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return j.createElement("form",{ref:O,method:q,action:K,onSubmit:s?p:ne,...R,"data-discover":!Y&&r==="render"?"true":void 0})});jR.displayName="Form";function zR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e0(r){let e=j.useContext(Ro);return ut(e,zR(r)),e}function BR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=li(),p=oi(),g=cu(r,{relative:u});return j.useCallback(v=>{if(vR(v,e)){v.preventDefault();let T=n!==void 0?n:Wl(p)===Wl(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var qR=0,HR=()=>`__${String(++qR)}__`;function FR(){let{router:r}=e0("useSubmit"),{basename:e}=j.useContext(Hi),n=uR();return j.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=AR(s,e);if(o.navigate===!1){let v=o.fetcherKey||HR();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function GR(r,{relative:e}={}){let{basename:n}=j.useContext(Hi),s=j.useContext(Fi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(r||".",{relative:e})},f=oi();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mr([n,u.pathname])),Wl(u)}function KR(r,{relative:e}={}){let n=j.useContext(HT);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=e0("useViewTransitionState"),o=cu(r,{relative:e});if(!n.isTransitioning)return!1;let u=yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sh(o.pathname,f)!=null||Sh(o.pathname,u)!=null}const QR=()=>{};var Wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},YR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},n0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(R=64)),s.push(n[v],n[T],n[R],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(t0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):YR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new $R;const R=u<<2|m>>4;if(s.push(R),g!==64){const O=m<<4&240|g>>2;if(s.push(O),T!==64){const H=g<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XR=function(r){const e=t0(r);return n0.encodeByteArray(e,!0)},bh=function(r){return XR(r).replace(/\./g,"")},i0=function(r){try{return n0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=()=>WR().__FIREBASE_DEFAULTS__,ZR=()=>{if(typeof process>"u"||typeof Wv>"u")return;const r=Wv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ew=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&i0(r[1]);return e&&JSON.parse(e)},Jh=()=>{try{return QR()||JR()||ZR()||ew()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},r0=r=>Jh()?.emulatorHosts?.[r],s0=r=>{const e=r0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},a0=()=>Jh()?.config,o0=r=>Jh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ep(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bh(JSON.stringify(n)),bh(JSON.stringify(f)),""].join(".")}const Gl={};function nw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function iw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Jv=!1;function Tp(r,e){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||Gl[r]===e||Gl[r]||Jv)return;Gl[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=nw().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,O){R.setAttribute("width","24"),R.setAttribute("id",O),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Jv=!0,f()},R}function v(R,O){R.setAttribute("id",O),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=iw(s),O=n("text"),H=document.getElementById(O)||document.createElement("span"),K=n("learnmore"),q=document.getElementById(K)||document.createElement("a"),Y=n("preprendIcon"),ne=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ie=R.element;m(ie),v(q,K);const pe=g();p(ne,Y),ie.append(ne,H,q,pe),document.body.appendChild(ie)}u?(H.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function sw(){const r=Jh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ow(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function lw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uw(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function cw(){return!sw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hw(){try{return typeof indexedDB=="object"}catch{return!1}}function fw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="FirebaseError";class Gi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=dw,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?mw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Gi(o,m,s)}}function mw(r,e){return r.replace(pw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const pw=/\{\$([^}]+)}/g;function gw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function sa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Zv(u)&&Zv(f)){if(!sa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Zv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function yw(r,e){const n=new _w(r,e);return n.subscribe.bind(n)}class _w{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");vw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r){return r&&r._delegate?r._delegate:r}class ps{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new tw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Aw(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Tw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tw(r){return r===ta?void 0:r}function Aw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ew(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const bw={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Rw=Me.INFO,ww={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Cw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ww[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=Rw,this._logHandler=Cw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const Iw=(r,e)=>e.some(n=>r instanceof n);let eE,tE;function Nw(){return eE||(eE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dw(){return tE||(tE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u0=new WeakMap,zm=new WeakMap,c0=new WeakMap,Rm=new WeakMap,Sp=new WeakMap;function Ow(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(hs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&u0.set(n,r)}).catch(()=>{}),Sp.set(e,r),e}function xw(r){if(zm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});zm.set(r,e)}let Bm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return zm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||c0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Mw(r){Bm=r(Bm)}function Vw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(wm(this),e,...n);return c0.set(s,e.sort?e.sort():[e]),hs(s)}:Dw().includes(r)?function(...e){return r.apply(wm(this),e),hs(u0.get(this))}:function(...e){return hs(r.apply(wm(this),e))}}function Pw(r){return typeof r=="function"?Vw(r):(r instanceof IDBTransaction&&xw(r),Iw(r,Nw())?new Proxy(r,Bm):r)}function hs(r){if(r instanceof IDBRequest)return Ow(r);if(Rm.has(r))return Rm.get(r);const e=Pw(r);return e!==r&&(Rm.set(r,e),Sp.set(e,r)),e}const wm=r=>Sp.get(r);function kw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=hs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(hs(f.result),p.oldVersion,p.newVersion,hs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Lw=["get","getKey","getAll","getAllKeys","count"],Uw=["put","add","delete","clear"],Cm=new Map;function nE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Uw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Lw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(e,u),u}Mw(r=>({...r,get:(e,n,s)=>nE(e,n)||r.get(e,n,s),has:(e,n)=>!!nE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function zw(r){return r.getComponent()?.type==="VERSION"}const qm="@firebase/app",iE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new Ap("@firebase/app"),Bw="@firebase/app-compat",qw="@firebase/analytics-compat",Hw="@firebase/analytics",Fw="@firebase/app-check-compat",Gw="@firebase/app-check",Kw="@firebase/auth",Qw="@firebase/auth-compat",Yw="@firebase/database",$w="@firebase/data-connect",Xw="@firebase/database-compat",Ww="@firebase/functions",Jw="@firebase/functions-compat",Zw="@firebase/installations",e2="@firebase/installations-compat",t2="@firebase/messaging",n2="@firebase/messaging-compat",i2="@firebase/performance",r2="@firebase/performance-compat",s2="@firebase/remote-config",a2="@firebase/remote-config-compat",o2="@firebase/storage",l2="@firebase/storage-compat",u2="@firebase/firestore",c2="@firebase/ai",h2="@firebase/firestore-compat",f2="firebase",d2="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",m2={[qm]:"fire-core",[Bw]:"fire-core-compat",[Hw]:"fire-analytics",[qw]:"fire-analytics-compat",[Gw]:"fire-app-check",[Fw]:"fire-app-check-compat",[Kw]:"fire-auth",[Qw]:"fire-auth-compat",[Yw]:"fire-rtdb",[$w]:"fire-data-connect",[Xw]:"fire-rtdb-compat",[Ww]:"fire-fn",[Jw]:"fire-fn-compat",[Zw]:"fire-iid",[e2]:"fire-iid-compat",[t2]:"fire-fcm",[n2]:"fire-fcm-compat",[i2]:"fire-perf",[r2]:"fire-perf-compat",[s2]:"fire-rc",[a2]:"fire-rc-compat",[o2]:"fire-gcs",[l2]:"fire-gcs-compat",[u2]:"fire-fst",[h2]:"fire-fst-compat",[c2]:"fire-vertex","fire-js":"fire-js",[f2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,p2=new Map,Fm=new Map;function rE(r,e){try{r.container.addComponent(e)}catch(n){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function aa(r){const e=r.name;if(Fm.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,r);for(const n of Rh.values())rE(n,r);for(const n of p2.values())rE(n,r);return!0}function Zh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function wn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new hu("app","Firebase",g2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=d2;function h0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Hm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(n||(n=a0()),!n)throw fs.create("no-options");const u=Rh.get(o);if(u){if(sa(n,u.options)&&sa(s,u.config))return u;throw fs.create("duplicate-app",{appName:o})}const f=new Sw(o);for(const p of Fm.values())f.addComponent(p);const m=new y2(n,s,f);return Rh.set(o,m),m}function bp(r=Hm){const e=Rh.get(r);if(!e&&r===Hm&&a0())return h0();if(!e)throw fs.create("no-app",{appName:r});return e}function xi(r,e,n){let s=m2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(f.join(" "));return}aa(new ps(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firebase-heartbeat-database",v2=1,Jl="firebase-heartbeat-store";let Im=null;function f0(){return Im||(Im=kw(_2,v2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw fs.create("idb-open",{originalErrorMessage:r.message})})),Im}async function E2(r){try{const n=(await f0()).transaction(Jl),s=await n.objectStore(Jl).get(d0(r));return await n.done,s}catch(e){if(e instanceof Gi)_r.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e?.message});_r.warn(n.message)}}}async function sE(r,e){try{const s=(await f0()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,d0(r)),await s.done}catch(n){if(n instanceof Gi)_r.warn(n.message);else{const s=fs.create("idb-set",{originalErrorMessage:n?.message});_r.warn(s.message)}}}function d0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=1024,A2=30;class S2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>A2){const o=w2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_r.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aE(),{heartbeatsToSend:n,unsentEntries:s}=b2(this._heartbeatsCache.heartbeats),o=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _r.warn(e),""}}}function aE(){return new Date().toISOString().substring(0,10)}function b2(r,e=T2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),oE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),oE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class R2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hw()?fw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function oE(r){return bh(JSON.stringify({version:2,heartbeats:r})).length}function w2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(r){aa(new ps("platform-logger",e=>new jw(e),"PRIVATE")),aa(new ps("heartbeat",e=>new S2(e),"PRIVATE")),xi(qm,iE,r),xi(qm,iE,"esm2020"),xi("fire-js","")}C2("");function m0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I2=m0,p0=new hu("auth","Firebase",m0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Ap("@firebase/auth");function N2(r,...e){wh.logLevel<=Me.WARN&&wh.warn(`Auth (${fa}): ${r}`,...e)}function dh(r,...e){wh.logLevel<=Me.ERROR&&wh.error(`Auth (${fa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(r,...e){throw Rp(r,...e)}function Mi(r,...e){return Rp(r,...e)}function g0(r,e,n){const s={...I2(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:r.name})}function pr(r){return g0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return p0.create(r,...e)}function ye(r,e,...n){if(!r)throw Rp(e,...n)}function fr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw dh(e),new Error(e)}function vr(r,e){r||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(){return typeof self<"u"&&self.location?.href||""}function D2(){return lE()==="http:"||lE()==="https:"}function lE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D2()||ow()||"connection"in navigator)?navigator.onLine:!0}function x2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,vr(n>e,"Short delay should be less than long delay!"),this.isMobile=rw()||lw()}get(){return O2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(r,e){vr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P2=new du(3e4,6e4);function Sr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function br(r,e,n,s,o={}){return _0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=fu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return aw()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ha(r.emulatorConfig.host)&&(g.credentials="include"),y0.fetch()(await v0(r,r.config.apiHost,n,m),g)})}async function _0(r,e,n){r._canInitEmulator=!1;const s={...M2,...e};try{const o=new L2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw rh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw rh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw rh(r,"user-disabled",f);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw g0(r,v,g);ri(r,v)}}catch(o){if(o instanceof Gi)throw o;ri(r,"network-request-failed",{message:String(o)})}}async function mu(r,e,n,s,o={}){const u=await br(r,e,n,s,o);return"mfaPendingCredential"in u&&ri(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function v0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?wp(r.config,o):`${r.config.apiScheme}://${o}`;return V2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function k2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mi(this.auth,"network-request-failed")),P2.get())})}}function rh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Mi(r,e,s);return o.customData._tokenResponse=n,o}function uE(r){return r!==void 0&&r.enterprise!==void 0}class U2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return k2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function j2(r,e){return br(r,"GET","/v2/recaptchaConfig",Sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(r,e){return br(r,"POST","/v1/accounts:delete",e)}async function Ch(r,e){return br(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B2(r,e=!1){const n=en(r),s=await n.getIdToken(e),o=Cp(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Kl(Nm(o.auth_time)),issuedAtTime:Kl(Nm(o.iat)),expirationTime:Kl(Nm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Nm(r){return Number(r)*1e3}function Cp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=i0(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cE(r){const e=Cp(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Gi&&q2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function q2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(r){const e=r.auth,n=await r.getIdToken(),s=await Zl(r,Ch(e,{idToken:n}));ye(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?E0(o.providerUserInfo):[],f=G2(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function F2(r){const e=en(r);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function G2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function E0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(r,e){const n=await _0(r,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await v0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ha(r.emulatorConfig.host)&&(p.credentials="include"),y0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Q2(r,e){return br(r,"POST","/v2/accounts:revokeToken",Sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=cE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await K2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new fo;return s&&(ye(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new H2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return B2(this,e)}reload(){return F2(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await Zl(this,z2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:R,isAnonymous:O,providerData:H,stsTokenManager:K}=n;ye(T&&K,e,"internal-error");const q=fo.fromJSON(this.name,K);ye(typeof T=="string",e,"internal-error"),rs(s,e.name),rs(o,e.name),ye(typeof R=="boolean",e,"internal-error"),ye(typeof O=="boolean",e,"internal-error"),rs(u,e.name),rs(f,e.name),rs(m,e.name),rs(p,e.name),rs(g,e.name),rs(v,e.name);const Y=new ti({uid:T,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:v});return H&&Array.isArray(H)&&(Y.providerData=H.map(ne=>({...ne}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new fo;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?E0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new fo;m.updateFromIdToken(s);const p=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;function dr(r){vr(r instanceof Function,"Expected a class definition");let e=hE.get(r);return e?(vr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,hE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}T0.type="NONE";const fE=T0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(r,e,n){return`firebase:${r}:${e}:${n}`}class mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new mo(dr(fE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||dr(fE);const f=mh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(f);if(v){let T;if(typeof v=="string"){const R=await Ch(e,{idToken:v}).catch(()=>{});if(!R)break;T=await ti._fromGetAccountInfoResponse(e,R,v)}else T=ti._fromJSON(e,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new mo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new mo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C0(e))return"Blackberry";if(I0(e))return"Webos";if(S0(e))return"Safari";if((e.includes("chrome/")||b0(e))&&!e.includes("edge/"))return"Chrome";if(w0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function A0(r=Zt()){return/firefox\//i.test(r)}function S0(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b0(r=Zt()){return/crios\//i.test(r)}function R0(r=Zt()){return/iemobile/i.test(r)}function w0(r=Zt()){return/android/i.test(r)}function C0(r=Zt()){return/blackberry/i.test(r)}function I0(r=Zt()){return/webos/i.test(r)}function Ip(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Y2(r=Zt()){return Ip(r)&&!!window.navigator?.standalone}function $2(){return uw()&&document.documentMode===10}function N0(r=Zt()){return Ip(r)||w0(r)||I0(r)||C0(r)||/windows phone/i.test(r)||R0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r,e=[]){let n;switch(r){case"Browser":n=dE(Zt());break;case"Worker":n=`${dE(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(r,e={}){return br(r,"GET","/v2/passwordPolicy",Sr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=6;class Z2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??J2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new X2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(pr(this));const n=e?en(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await W2(this),n=new Z2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Q2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&N2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ss(r){return en(r)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=yw(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tC(r){ef=r}function O0(r){return ef.loadJS(r)}function nC(){return ef.recaptchaEnterpriseScript}function iC(){return ef.gapiScript}function rC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class sC{constructor(){this.enterprise=new aC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const oC="recaptcha-enterprise",x0="NO_RECAPTCHA";class lC{constructor(e){this.type=oC,this.auth=Ss(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{j2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new U2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;uE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(x0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&uE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=nC();p.length!==0&&(p+=m),O0(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function pE(r,e,n,s=!1,o=!1){const u=new lC(r);let f;if(o)f=x0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Nh(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await pE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await pE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(r,e){const n=Zh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(sa(u,e??{}))return o;ri(o,"already-initialized")}return n.initialize({options:e})}function cC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function hC(r,e,n){const s=Ss(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=M0(e),{host:f,port:m}=fC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(sa(g,s.config.emulator)&&sa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ha(f)?(Ep(`${u}//${f}${p}`),Tp("Auth",!0)):dC()}function M0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function fC(r){const e=M0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:gE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:gE(f)}}}function gE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function dC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function mC(r,e){return br(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,e){return mu(r,"POST","/v1/accounts:signInWithPassword",Sr(r,e))}async function gC(r,e){return br(r,"POST","/v1/accounts:sendOobCode",Sr(r,e))}async function yC(r,e){return gC(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(r,e){return mu(r,"POST","/v1/accounts:signInWithEmailLink",Sr(r,e))}async function vC(r,e){return mu(r,"POST","/v1/accounts:signInWithEmailLink",Sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Np{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nh(e,n,"signInWithPassword",pC);case"emailLink":return _C(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nh(e,s,"signUpPassword",mC);case"emailLink":return vC(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r,e){return mu(r,"POST","/v1/accounts:signInWithIdp",Sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="http://localhost";class oa extends Np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new oa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:EC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AC(r){const e=jl(zl(r)).link,n=e?jl(zl(e)).deep_link_id:null,s=jl(zl(r)).deep_link_id;return(s?jl(zl(s)).link:null)||s||n||e||r}class Dp{constructor(e){const n=jl(zl(e)),s=n.apiKey??null,o=n.oobCode??null,u=TC(n.mode??null);ye(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=AC(e);try{return new Dp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Dp.parseLink(n);return ye(s,"argument-error"),eu._fromEmailAndCode(e,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends V0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends pu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return as.credential(n,s)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends pu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends pu{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(r,e){return mu(r,"POST","/v1/accounts:signUp",Sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),f=yE(s);return new la({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=yE(s);return new la({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function yE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends Gi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Dh(e,n,s,o)}}function P0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(r,u,e,s):u})}async function bC(r,e,n=!1){const s=await Zl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return la._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(r,e,n=!1){const{auth:s}=r;if(wn(s.app))return Promise.reject(pr(s));const o="reauthenticate";try{const u=await Zl(r,P0(s,o,e,r),n);ye(u.idToken,s,"internal-error");const f=Cp(u.idToken);ye(f,s,"internal-error");const{sub:m}=f;return ye(r.uid===m,s,"user-mismatch"),la._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ri(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(r,e,n=!1){if(wn(r.app))return Promise.reject(pr(r));const s="signIn",o=await P0(r,s,e),u=await la._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function wC(r,e){return k0(Ss(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L0(r){const e=Ss(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CC(r,e,n){const s=Ss(r);await Nh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",yC)}async function IC(r,e,n){if(wn(r.app))return Promise.reject(pr(r));const s=Ss(r),f=await Nh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&L0(r),p}),m=await la._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function NC(r,e,n){return wn(r.app)?Promise.reject(pr(r)):wC(en(r),wo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&L0(r),s})}function DC(r,e,n,s){return en(r).onIdTokenChanged(e,n,s)}function OC(r,e,n){return en(r).beforeAuthStateChanged(e,n)}function gu(r,e,n,s){return en(r).onAuthStateChanged(e,n,s)}function Op(r){return en(r).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=1e3,MC=10;class j0 extends U0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);$2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}j0.type="LOCAL";const VC=j0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends U0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}z0.type="SESSION";const B0=z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new tf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await PC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=xp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function LC(r){Vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function UC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jC(){return navigator?.serviceWorker?.controller||null}function zC(){return q0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="firebaseLocalStorageDb",BC=1,xh="firebaseLocalStorage",F0="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function qC(){const r=indexedDB.deleteDatabase(H0);return new yu(r).toPromise()}function Qm(){const r=indexedDB.open(H0,BC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:F0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await qC(),e(await Qm()))})})}async function _E(r,e,n){const s=nf(r,!0).put({[F0]:e,value:n});return new yu(s).toPromise()}async function HC(r,e){const n=nf(r,!1).get(e),s=await new yu(n).toPromise();return s===void 0?null:s.value}function vE(r,e){const n=nf(r,!0).delete(e);return new yu(n).toPromise()}const FC=800,GC=3;class G0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>GC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(zC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UC(),!this.activeServiceWorker)return;this.sender=new kC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await _E(e,Oh,"1"),await vE(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>_E(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>HC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=nf(o,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G0.type="LOCAL";const KC=G0;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(r,e){return e?dr(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends Np{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YC(r){return k0(r.auth,new Mp(r),r.bypassAuthState)}function $C(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),RC(n,new Mp(r),r.bypassAuthState)}async function XC(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),bC(n,new Mp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YC;case"linkViaPopup":case"linkViaRedirect":return XC;case"reauthViaPopup":case"reauthViaRedirect":return $C;default:ri(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new du(2e3,1e4);class ho extends K0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WC.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="pendingRedirect",ph=new Map;class ZC extends K0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await eI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eI(r,e){const n=iI(e),s=nI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function tI(r,e){ph.set(r._key(),e)}function nI(r){return dr(r._redirectPersistence)}function iI(r){return mh(JC,r.config.apiKey,r.name)}async function rI(r,e,n=!1){if(wn(r.app))return Promise.reject(pr(r));const s=Ss(r),o=QC(s,e),f=await new ZC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=600*1e3;class aI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Q0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Mi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sI&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Q0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function oI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(r,e={}){return br(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cI=/^https?/;async function hI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await lI(r);for(const n of e)try{if(fI(n))return}catch{}ri(r,"unauthorized-domain")}function fI(r){const e=Gm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!cI.test(n))return!1;if(uI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new du(3e4,6e4);function TE(){const r=Vi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mI(r){return new Promise((e,n)=>{function s(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),n(Mi(r,"network-request-failed"))},timeout:dI.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)s();else{const o=rC("iframefcb");return Vi()[o]=()=>{gapi.load?s():n(Mi(r,"network-request-failed"))},O0(`${iC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw gh=null,e})}let gh=null;function pI(r){return gh=gh||mI(r),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=new du(5e3,15e3),yI="__/auth/iframe",_I="emulator/auth/iframe",vI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TI(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?wp(e,_I):`https://${r.config.authDomain}/${yI}`,s={apiKey:e.apiKey,appName:r.name,v:fa},o=EI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function AI(r){const e=await pI(r),n=Vi().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:TI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Mi(r,"network-request-failed"),m=Vi().setTimeout(()=>{u(f)},gI.get());function p(){Vi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bI=500,RI=600,wI="_blank",CI="http://localhost";class AE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function II(r,e,n,s=bI,o=RI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...SI,width:s.toString(),height:o.toString(),top:u,left:f},g=Zt().toLowerCase();n&&(m=b0(g)?wI:n),A0(g)&&(e=e||CI,p.scrollbars="yes");const v=Object.entries(p).reduce((R,[O,H])=>`${R}${O}=${H},`,"");if(Y2(g)&&m!=="_self")return NI(e||"",m),new AE(null);const T=window.open(e||"",m,v);ye(T,r,"popup-blocked");try{T.focus()}catch{}return new AE(T)}function NI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="__/auth/handler",OI="emulator/auth/handler",xI=encodeURIComponent("fac");async function SE(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:fa,eventId:o};if(e instanceof V0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",gw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))f[v]=T}if(e instanceof pu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${xI}=${encodeURIComponent(p)}`:"";return`${MI(r)}?${fu(m).slice(1)}${g}`}function MI({config:r}){return r.emulator?wp(r,OI):`https://${r.authDomain}/${DI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class VI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B0,this._completeRedirectFn=rI,this._overrideRedirectResult=tI}async _openPopup(e,n,s,o){vr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await SE(e,n,s,Gm(),o);return II(e,u,xp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await SE(e,n,s,Gm(),o);return LC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(vr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await AI(e),s=new aI(e);return n.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},o=>{const u=o?.[0]?.[Dm];u!==void 0&&n(!!u),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return N0()||S0()||Ip()}}const PI=VI;var bE="@firebase/auth",RE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UI(r){aa(new ps("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D0(r)},g=new eC(s,o,u,p);return cC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),aa(new ps("auth-internal",e=>{const n=Ss(e.getProvider("auth").getImmediate());return(s=>new kI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xi(bE,RE,LI(r)),xi(bE,RE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=300,zI=o0("authIdTokenMaxAge")||jI;let wE=null;const BI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zI)return;const o=n?.token;wE!==o&&(wE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qI(r=bp()){const e=Zh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=uC(r,{popupRedirectResolver:PI,persistence:[KC,VC,B0]}),s=o0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=BI(u.toString());OC(n,f,()=>f(n.currentUser)),DC(n,m=>f(m))}}const o=r0("auth");return o&&hC(n,`http://${o}`),n}function HI(){return document.getElementsByTagName("head")?.[0]??document}tC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",HI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UI("Browser");var FI="firebase",GI="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(FI,GI,"app");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,Y0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function C(){}C.prototype=w.prototype,D.F=w.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(P,x,L){for(var I=Array(arguments.length-2),st=2;st<arguments.length;st++)I[st-2]=arguments[st];return w.prototype[x].apply(P,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,C){C||(C=0);const P=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)P[x]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(x=0;x<16;++x)P[x]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=D.g[0],C=D.g[1],x=D.g[2];let L=D.g[3],I;I=w+(L^C&(x^L))+P[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(x^w&(C^x))+P[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(C^L&(w^C))+P[2]+606105819&4294967295,x=L+(I<<17&4294967295|I>>>15),I=C+(w^x&(L^w))+P[3]+3250441966&4294967295,C=x+(I<<22&4294967295|I>>>10),I=w+(L^C&(x^L))+P[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(x^w&(C^x))+P[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(C^L&(w^C))+P[6]+2821735955&4294967295,x=L+(I<<17&4294967295|I>>>15),I=C+(w^x&(L^w))+P[7]+4249261313&4294967295,C=x+(I<<22&4294967295|I>>>10),I=w+(L^C&(x^L))+P[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(x^w&(C^x))+P[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(C^L&(w^C))+P[10]+4294925233&4294967295,x=L+(I<<17&4294967295|I>>>15),I=C+(w^x&(L^w))+P[11]+2304563134&4294967295,C=x+(I<<22&4294967295|I>>>10),I=w+(L^C&(x^L))+P[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(x^w&(C^x))+P[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=x+(C^L&(w^C))+P[14]+2792965006&4294967295,x=L+(I<<17&4294967295|I>>>15),I=C+(w^x&(L^w))+P[15]+1236535329&4294967295,C=x+(I<<22&4294967295|I>>>10),I=w+(x^L&(C^x))+P[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^x&(w^C))+P[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^C&(L^w))+P[11]+643717713&4294967295,x=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(x^L))+P[0]+3921069994&4294967295,C=x+(I<<20&4294967295|I>>>12),I=w+(x^L&(C^x))+P[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^x&(w^C))+P[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^C&(L^w))+P[15]+3634488961&4294967295,x=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(x^L))+P[4]+3889429448&4294967295,C=x+(I<<20&4294967295|I>>>12),I=w+(x^L&(C^x))+P[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^x&(w^C))+P[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^C&(L^w))+P[3]+4107603335&4294967295,x=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(x^L))+P[8]+1163531501&4294967295,C=x+(I<<20&4294967295|I>>>12),I=w+(x^L&(C^x))+P[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^x&(w^C))+P[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=x+(w^C&(L^w))+P[7]+1735328473&4294967295,x=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(x^L))+P[12]+2368359562&4294967295,C=x+(I<<20&4294967295|I>>>12),I=w+(C^x^L)+P[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^x)+P[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^C)+P[11]+1839030562&4294967295,x=L+(I<<16&4294967295|I>>>16),I=C+(x^L^w)+P[14]+4259657740&4294967295,C=x+(I<<23&4294967295|I>>>9),I=w+(C^x^L)+P[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^x)+P[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^C)+P[7]+4139469664&4294967295,x=L+(I<<16&4294967295|I>>>16),I=C+(x^L^w)+P[10]+3200236656&4294967295,C=x+(I<<23&4294967295|I>>>9),I=w+(C^x^L)+P[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^x)+P[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^C)+P[3]+3572445317&4294967295,x=L+(I<<16&4294967295|I>>>16),I=C+(x^L^w)+P[6]+76029189&4294967295,C=x+(I<<23&4294967295|I>>>9),I=w+(C^x^L)+P[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^x)+P[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=x+(L^w^C)+P[15]+530742520&4294967295,x=L+(I<<16&4294967295|I>>>16),I=C+(x^L^w)+P[2]+3299628645&4294967295,C=x+(I<<23&4294967295|I>>>9),I=w+(x^(C|~L))+P[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~x))+P[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~C))+P[14]+2878612391&4294967295,x=L+(I<<15&4294967295|I>>>17),I=C+(L^(x|~w))+P[5]+4237533241&4294967295,C=x+(I<<21&4294967295|I>>>11),I=w+(x^(C|~L))+P[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~x))+P[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~C))+P[10]+4293915773&4294967295,x=L+(I<<15&4294967295|I>>>17),I=C+(L^(x|~w))+P[1]+2240044497&4294967295,C=x+(I<<21&4294967295|I>>>11),I=w+(x^(C|~L))+P[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~x))+P[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~C))+P[6]+2734768916&4294967295,x=L+(I<<15&4294967295|I>>>17),I=C+(L^(x|~w))+P[13]+1309151649&4294967295,C=x+(I<<21&4294967295|I>>>11),I=w+(x^(C|~L))+P[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~x))+P[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=x+(w^(L|~C))+P[2]+718787259&4294967295,x=L+(I<<15&4294967295|I>>>17),I=C+(L^(x|~w))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,w){w===void 0&&(w=D.length);const C=w-this.blockSize,P=this.C;let x=this.h,L=0;for(;L<w;){if(x==0)for(;L<=C;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<w;)if(P[x++]=D.charCodeAt(L++),x==this.blockSize){o(this,P),x=0;break}}else for(;L<w;)if(P[x++]=D[L++],x==this.blockSize){o(this,P),x=0;break}}this.h=x,this.o+=w},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)D[w++]=this.g[C]>>>P&255;return D};function u(D,w){var C=m;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=w(D)}function f(D,w){this.h=w;const C=[];let P=!0;for(let x=D.length-1;x>=0;x--){const L=D[x]|0;P&&L==w||(C[x]=L,P=!1)}this.g=C}var m={};function p(D){return-128<=D&&D<128?u(D,function(w){return new f([w|0],w<0?-1:0)}):new f([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(D<0)return q(g(-D));const w=[];let C=1;for(let P=0;D>=C;P++)w[P]=D/C|0,C*=4294967296;return new f(w,0)}function v(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return q(v(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let P=T;for(let L=0;L<D.length;L+=8){var x=Math.min(8,D.length-L);const I=parseInt(D.substring(L,L+x),w);x<8?(x=g(Math.pow(w,x)),P=P.j(x).add(g(I))):(P=P.j(C),P=P.add(g(I)))}return P}var T=p(0),R=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-q(this).m();let D=0,w=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);D+=(P>=0?P:4294967296+P)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(H(this))return"0";if(K(this))return"-"+q(this).toString(D);const w=g(Math.pow(D,6));var C=this;let P="";for(;;){const x=pe(C,w).g;C=Y(C,x.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=x,H(C))return L+P;for(;L.length<6;)L="0"+L;P=L+P}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function H(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function K(D){return D.h==-1}r.l=function(D){return D=Y(this,D),K(D)?-1:H(D)?0:1};function q(D){const w=D.g.length,C=[];for(let P=0;P<w;P++)C[P]=~D.g[P];return new f(C,~D.h).add(R)}r.abs=function(){return K(this)?q(this):this},r.add=function(D){const w=Math.max(this.g.length,D.g.length),C=[];let P=0;for(let x=0;x<=w;x++){let L=P+(this.i(x)&65535)+(D.i(x)&65535),I=(L>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);P=I>>>16,L&=65535,I&=65535,C[x]=I<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function Y(D,w){return D.add(q(w))}r.j=function(D){if(H(this)||H(D))return T;if(K(this))return K(D)?q(this).j(q(D)):q(q(this).j(D));if(K(D))return q(this.j(q(D)));if(this.l(O)<0&&D.l(O)<0)return g(this.m()*D.m());const w=this.g.length+D.g.length,C=[];for(var P=0;P<2*w;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let x=0;x<D.g.length;x++){const L=this.i(P)>>>16,I=this.i(P)&65535,st=D.i(x)>>>16,Ot=D.i(x)&65535;C[2*P+2*x]+=I*Ot,ne(C,2*P+2*x),C[2*P+2*x+1]+=L*Ot,ne(C,2*P+2*x+1),C[2*P+2*x+1]+=I*st,ne(C,2*P+2*x+1),C[2*P+2*x+2]+=L*st,ne(C,2*P+2*x+2)}for(D=0;D<w;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=w;D<2*w;D++)C[D]=0;return new f(C,0)};function ne(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ie(D,w){this.g=D,this.h=w}function pe(D,w){if(H(w))throw Error("division by zero");if(H(D))return new ie(T,T);if(K(D))return w=pe(q(D),w),new ie(q(w.g),q(w.h));if(K(w))return w=pe(D,q(w)),new ie(q(w.g),w.h);if(D.g.length>30){if(K(D)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var C=R,P=w;P.l(D)<=0;)C=Se(C),P=Se(P);var x=be(C,1),L=be(P,1);for(P=be(P,2),C=be(C,2);!H(P);){var I=L.add(P);I.l(D)<=0&&(x=x.add(C),L=I),P=be(P,1),C=be(C,1)}return w=Y(D,x.j(w)),new ie(x,w)}for(x=T;D.l(w)>=0;){for(C=Math.max(1,Math.floor(D.m()/w.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),L=g(C),I=L.j(w);K(I)||I.l(D)>0;)C-=P,L=g(C),I=L.j(w);H(L)&&(L=R),x=x.add(L),D=Y(D,I)}return new ie(x,D)}r.B=function(D){return pe(this,D).h},r.and=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let P=0;P<w;P++)C[P]=this.i(P)&D.i(P);return new f(C,this.h&D.h)},r.or=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let P=0;P<w;P++)C[P]=this.i(P)|D.i(P);return new f(C,this.h|D.h)},r.xor=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let P=0;P<w;P++)C[P]=this.i(P)^D.i(P);return new f(C,this.h^D.h)};function Se(D){const w=D.g.length+1,C=[];for(let P=0;P<w;P++)C[P]=D.i(P)<<1|D.i(P-1)>>>31;return new f(C,D.h)}function be(D,w){const C=w>>5;w%=32;const P=D.g.length-C,x=[];for(let L=0;L<P;L++)x[L]=w>0?D.i(L+C)>>>w|D.i(L+C+1)<<32-w:D.i(L+C);return new f(x,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Y0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,ds=f}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $0,Bl,X0,yh,Ym,W0,J0,Z0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in E))break e;E=E[U]}c=c[c.length-1],b=E[c],y=y(b),y!=b&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&E.push([b,y[b]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function v(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(b,U,G){for(var re=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)re[Re-2]=arguments[Re];return y.prototype[U].apply(b,re)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const E=Array(y);for(let b=0;b<y;b++)E[b]=c[b];return E}return[]}function H(c,y){for(let b=1;b<arguments.length;b++){const U=arguments[b];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=c.length||0;const G=U.length||0;c.length=E+G;for(let re=0;re<G;re++)c[E+re]=U[re]}else c.push(U)}}class K{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){f.setTimeout(()=>{throw c},0)}function Y(){var c=D;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,E){const b=ie.get();b.set(y,E),this.h?this.h.next=b:this.g=b,this.h=b}}var ie=new K(()=>new pe,c=>c.reset());class pe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,be=!1,D=new ne,w=()=>{const c=Promise.resolve(void 0);Se=()=>{c.then(C)}};function C(){for(var c;c=Y();){try{c.h.call(c.g)}catch(E){q(E)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}be=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,y),f.removeEventListener("test",E,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function st(c,y){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(st,x),st.prototype.init=function(c,y){const E=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(c,y,E,b,U){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!b,this.ha=U,this.key=++X,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,E){for(const b in c)y.call(E,c[b],b,c)}function Ge(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function V(c){const y={};for(const E in c)y[E]=c[E];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let E,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(E in b)c[E]=b[E];for(let G=0;G<Z.length;G++)E=Z[G],Object.prototype.hasOwnProperty.call(b,E)&&(c[E]=b[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,E,b,U){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Ce(c,y,b,U);return re>-1?(y=c[re],E||(y.fa=!1)):(y=new se(y,this.src,G,!!b,U),y.fa=E,c.push(y)),y};function ve(c,y){const E=y.type;if(E in c.g){var b=c.g[E],U=Array.prototype.indexOf.call(b,y,void 0),G;(G=U>=0)&&Array.prototype.splice.call(b,U,1),G&&(me(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ce(c,y,E,b){for(let U=0;U<c.length;++U){const G=c[U];if(!G.da&&G.listener==y&&G.capture==!!E&&G.ha==b)return U}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),xt={};function at(c,y,E,b,U){if(Array.isArray(y)){for(let G=0;G<y.length;G++)at(c,y[G],E,b,U);return null}return E=Vo(E),c&&c[Ot]?c.J(y,E,m(b)?!!b.capture:!1,U):bs(c,y,E,!1,b,U)}function bs(c,y,E,b,U,G){if(!y)throw Error("Invalid event type");const re=m(U)?!!U.capture:!!U;let Re=Rs(c);if(Re||(c[Le]=Re=new ue(c)),E=Re.add(y,E,b,re,G),E.proxy)return E;if(b=ya(),E.proxy=b,b.src=c,b.listener=E,c.addEventListener)L||(U=re),U===void 0&&(U=!1),c.addEventListener(y.toString(),b,U);else if(c.attachEvent)c.attachEvent(ui(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ya(){function c(E){return y.call(c.src,c.listener,E)}const y=xo;return c}function _a(c,y,E,b,U){if(Array.isArray(y))for(var G=0;G<y.length;G++)_a(c,y[G],E,b,U);else b=m(b)?!!b.capture:!!b,E=Vo(E),c&&c[Ot]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],E=Ce(y,E,b,U),E>-1&&(me(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=Rs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,E,b,U)),(E=c>-1?y[c]:null)&&va(E))}function va(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ot])ve(y.i,c);else{var E=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(E,b,c.capture):y.detachEvent?y.detachEvent(ui(E),b):y.addListener&&y.removeListener&&y.removeListener(b),(E=Rs(y))?(ve(E,c),E.h==0&&(E.src=null,y[Le]=null)):me(c)}}}function ui(c){return c in xt?xt[c]:xt[c]="on"+c}function xo(c,y){if(c.da)c=!0;else{y=new st(y,this);const E=c.listener,b=c.ha||c.src;c.fa&&va(c),c=E.call(b,y)}return c}function Rs(c){return c=c[Le],c instanceof ue?c:null}var Mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vo(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(y){return c.handleEvent(y)}),c[Mo])}function _t(){P.call(this),this.i=new ue(this),this.M=this,this.G=null}T(_t,P),_t.prototype[Ot]=!0,_t.prototype.removeEventListener=function(c,y,E,b){_a(this,c,y,E,b)};function Mt(c,y){var E,b=c.G;if(b)for(E=[];b;b=b.G)E.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new x(y,c);else if(y instanceof x)y.target=y.target||c;else{var U=y;y=new x(b,c),ae(y,U)}U=!0;let G,re;if(E)for(re=E.length-1;re>=0;re--)G=y.g=E[re],U=Rr(G,b,!0,y)&&U;if(G=y.g=c,U=Rr(G,b,!0,y)&&U,U=Rr(G,b,!1,y)&&U,E)for(re=0;re<E.length;re++)G=y.g=E[re],U=Rr(G,b,!1,y)&&U}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let b=0;b<E.length;b++)me(E[b]);delete c.g[y],c.h--}}this.G=null},_t.prototype.J=function(c,y,E,b){return this.i.add(String(c),y,!1,E,b)},_t.prototype.K=function(c,y,E,b){return this.i.add(String(c),y,!0,E,b)};function Rr(c,y,E,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let G=0;G<y.length;++G){const re=y[G];if(re&&!re.da&&re.capture==E){const Re=re.listener,mt=re.ha||re.src;re.fa&&ve(c.i,re),U=Re.call(mt,b)!==!1&&U}}return U&&!b.defaultPrevented}function _f(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Iu(c){c.g=_f(()=>{c.g=null,c.i&&(c.i=!1,Iu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tn extends P{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Iu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){P.call(this),this.h=c,this.g={}}T(ws,P);var Po=[];function ko(c){je(c.g,function(y,E){this.g.hasOwnProperty(E)&&va(y)},c),c.g={}}ws.prototype.N=function(){ws.Z.N.call(this),ko(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=f.JSON.stringify,vf=f.JSON.parse,Nu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Du(){}function Ou(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){x.call(this,"d")}T(zt,x);function Cn(){x.call(this,"c")}T(Cn,x);var dt={},xu=null;function Ea(){return xu=xu||new _t}dt.Ia="serverreachability";function Mu(c){x.call(this,dt.Ia,c)}T(Mu,x);function ci(c){const y=Ea();Mt(y,new Mu(y))}dt.STAT_EVENT="statevent";function Cs(c,y){x.call(this,dt.STAT_EVENT,c),this.stat=y}T(Cs,x);function vt(c){const y=Ea();Mt(y,new Cs(y,c))}dt.Ja="timingevent";function hi(c,y){x.call(this,dt.Ja,c),this.size=y}T(hi,x);function fi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Ef(c,y,E,b,U,G){c.info(function(){if(c.g)if(G){var re="",Re=G.split("&");for(let qe=0;qe<Re.length;qe++){var mt=Re[qe].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const On=ot.split("_");re=On.length>=2&&On[1]=="type"?re+(ot+"="+mt+"&"):re+(ot+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+E+`
`+re})}function Vu(c,y,E,b,U,G,re){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+E+`
`+G+" "+re})}function di(c,y,E,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Tf(c,E)+(b?" "+b:"")})}function Is(c,y){c.info(function(){return"TIMEOUT: "+y})}Fn.prototype.info=function(){};function Tf(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var E=G[c];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return wr(G)}catch{return y}}var Ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uo;function Ds(){}T(Ds,Du),Ds.prototype.g=function(){return new XMLHttpRequest},Uo=new Ds;function Qi(c){return encodeURIComponent(String(c))}function Pu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Gn(c,y,E,b){this.j=c,this.i=y,this.l=E,this.S=b||1,this.V=new ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Et={},kt={};function mi(c,y,E){c.M=1,c.A=Os(At(y)),c.u=E,c.R=!0,Ta(c,null)}function Ta(c,y){c.F=Date.now(),pi(c),c.B=At(c.A);var E=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Ra(E.i,"t",b),c.C=0,E=c.j.L,c.h=new Kn,c.g=Xu(c.j,E?y:null,!c.u),c.P>0&&(c.O=new tn(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,b=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Po[0]=U.toString()),U=Po);for(let G=0;G<U.length;G++){const re=at(E,U[G],b||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ci(),Ef(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const y=this.O;y&&$n(c)==3?y.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=$n(this.g),mt=this.g.ya(),qe=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Re!=4||mt==7||(mt==8||qe<=0?ci(3):ci(2)),gi(this);var y=this.g.ca();this.X=y;var E=Af(this);if(this.o=y==200,Vu(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var G=b;break t}}G=null}if(c=G)di(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,c);else{this.o=!1,this.m=3,vt(12),gn(this),In(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=Lu(this,E),ot==kt){Re==4&&(this.m=4,vt(14),c=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Et){this.m=4,vt(15),di(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else di(this.i,this.l,ot,null),yi(this,ot);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||E.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)di(this.i,this.l,E,"[Invalid Chunked Response]"),gn(this),In(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Zo(re),re.P=!0,vt(11))}}else di(this.i,this.l,E,null),yi(this,E);Re==4&&gn(this),this.o&&!this.K&&(Re==4?Ku(this.j,this):(this.o=!1,pi(this)))}else $i(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),gn(this),In(this)}}}catch{}finally{}};function Af(c){if(!ku(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let E="";const b=y.length,U=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),In(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<b;G++)c.h.h=!0,E+=c.h.i.decode(y[G],{stream:!(U&&G==b-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function ku(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Lu(c,y){var E=c.C,b=y.indexOf(`
`,E);return b==-1?kt:(E=Number(y.substring(E,b)),isNaN(E)?Et:(b+=1,b+E>y.length?kt:(y=y.slice(b,b+E),c.C=b+E,y)))}Gn.prototype.cancel=function(){this.K=!0,gn(this)};function pi(c){c.T=Date.now()+c.H,Aa(c,c.H)}function Aa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fi(g(c.aa,c),y)}function gi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Is(this.i,this.B),this.M!=2&&(ci(),vt(17)),gn(this),this.m=2,In(this)):Aa(this,this.T-c)};function In(c){c.j.I==0||c.K||Ku(c.j,c)}function gn(c){gi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,ko(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function yi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||vi(E.h,c))){if(!c.L&&vi(E.h,c)&&E.I==3){try{var b=E.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Da(E),Vr(E);else break e;Us(E),vt(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=fi(g(E.Va,E),6e3));_i(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ri(E,11)}else if((c.L||E.g==c)&&Da(E),!I(y))for(U=E.Ba.g.parse(y),y=0;y<U.length;y++){let qe=U[y];const ot=qe[0];if(!(ot<=E.K))if(E.K=ot,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const On=qe[3];On!=null&&(E.ka=On,E.j.info("VER="+E.ka));const wi=qe[4];wi!=null&&(E.za=wi,E.j.info("SVER="+E.za));const Xn=qe[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(b=1.5*Xn,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const Wn=c.g;if(Wn){const js=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var G=b.h;G.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Bo(G,G.h),G.h=null))}if(b.G){const Oa=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(b.wa=Oa,Ke(b.J,b.G,Oa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var re=c;if(b.na=$u(b,b.L?b.ba:null,b.W),re.L){qo(b.h,re);var Re=re,mt=b.O;mt&&(Re.H=mt),Re.D&&(gi(Re),pi(Re)),b.g=re}else Fu(b);E.i.length>0&&bi(E)}else qe[0]!="stop"&&qe[0]!="close"||Ri(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ri(E,7):Wo(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}ci(4)}catch{}}var Tt=class{constructor(c,y){this.g=c,this.map=y}};function jo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _i(c){return c.h?1:c.g?c.g.size:0}function vi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Bo(c,y){c.g?c.g.add(y):c.h=y}function qo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jo.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ho(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return O(c.i)}var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const b=c[E].indexOf("=");let U,G=null;b>=0?(U=c[E].substring(0,b),G=c[E].substring(b+1)):U=c[E],y(U,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,Cr(this,c.u),this.h=c.h,Fo(this,qu(c.i)),this.m=c.m):c&&(y=String(c).match(Uu))?(this.l=!1,Lt(this,y[1]||"",!0),this.o=Ei(y[2]||""),this.g=Ei(y[3]||"",!0),Cr(this,y[4]),this.h=Ei(y[5]||"",!0),Fo(this,y[6]||"",!0),this.m=Ei(y[7]||"")):(this.l=!1,this.i=new Nr(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(xs(y,ba,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,ba,!0),"@"),c.push(Qi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(xs(E,E.charAt(0)=="/"?Go:ju,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",xs(E,zu)),c.join("")},yn.prototype.resolve=function(c){const y=At(this);let E=!!c.j;E?Lt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var b=c.h;if(E)Cr(y,c.u);else if(E=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=y.h.lastIndexOf("/");U!=-1&&(b=y.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const G=[];for(let re=0;re<U.length;){const Re=U[re++];Re=="."?b&&re==U.length&&G.push(""):Re==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&re==U.length&&G.push("")):(G.push(Re),b=!0)}b=G.join("/")}else b=U}return E?y.h=b:E=c.i.toString()!=="",E?Fo(y,qu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function At(c){return new yn(c)}function Lt(c,y,E){c.j=E?Ei(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Cr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Fo(c,y,E){y instanceof Nr?(c.i=y,wa(c.i,c.l)):(E||(y=xs(y,Ir)),c.i=new Nr(y,c.l))}function Ke(c,y,E){c.i.set(y,E)}function Os(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ei(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,an),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ba=/[#\/\?@]/g,ju=/[#\?:]/g,Go=/[#\?]/g,Ir=/[#\?@]/g,zu=/#/g;function Nr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&Sa(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Nr.prototype,r.add=function(c,y){on(this),this.i=null,c=Dr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Bu(c,y){on(c),y=Dr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ko(c,y){return on(c),y=Dr(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(E,b){E.forEach(function(U){c.call(y,U,b,this)},this)},this)};function Qo(c,y){on(c);let E=[];if(typeof y=="string")Ko(c,y)&&(E=E.concat(c.g.get(Dr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return on(this),this.i=null,c=Dr(this,c),Ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Qo(this,c),c.length>0?String(c[0]):y):y};function Ra(c,y,E){Bu(c,y),E.length>0&&(c.i=null,c.g.set(Dr(c,y),O(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var E=y[b];const U=Qi(E);E=Qo(this,E);for(let G=0;G<E.length;G++){let re=U;E[G]!==""&&(re+="="+Qi(E[G])),c.push(re)}}return this.i=c.join("&")};function qu(c){const y=new Nr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Dr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function wa(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(E,b){const U=b.toLowerCase();b!=U&&(Bu(this,b),Ra(this,U,E))},c)),c.j=y}function Qn(c,y){const E=new Fn;if(f.Image){const b=new Image;b.onload=v(Nn,E,"TestLoadImage: loaded",!0,y,b),b.onerror=v(Nn,E,"TestLoadImage: error",!1,y,b),b.onabort=v(Nn,E,"TestLoadImage: abort",!1,y,b),b.ontimeout=v(Nn,E,"TestLoadImage: timeout",!1,y,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Yo(c,y){const E=new Fn,b=new AbortController,U=setTimeout(()=>{b.abort(),Nn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(U),G.ok?Nn(E,"TestPingServer: ok",!0,y):Nn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Nn(E,"TestPingServer: error",!1,y)})}function Nn(c,y,E,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(E)}catch{}}function Or(){this.g=new Nu}function Ti(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ti,Du),Ti.prototype.g=function(){return new Ms(this.i,this.h)};function Ms(c,y){_t.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ms,_t),r=Ms.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?xr(this):Yn(this),this.readyState==3&&Ca(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,xr(this))},r.Na=function(c){this.g&&(this.response=c,xr(this))},r.ga=function(){this.g&&xr(this)};function xr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let y="";return je(c,function(E,b){y+=b,y+=":",y+=E,y+=`\r
`}),y}function Vs(c,y,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=Dn(E),typeof c=="string"?E!=null&&Qi(E):Ke(c,y,E))}function $e(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,_t);var Ai=/^https?$/i,$o=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Ps(this,G);return}if(c=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)E.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())E.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call($o,y,void 0)>=0)||b||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of E)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ps(this,G)}};function Ps(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Xo(c),Yi(c)}function Xo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Yi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},r.Xa=function(){ks(this)};function ks(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var b;if(b=G===0){let re=String(c.D).match(Uu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),b=!Ai.test(re?re.toLowerCase():"")}E=b}if(E)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var U=$n(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Xo(c)}}finally{Yi(c)}}}}function Yi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Mt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),vf(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(c){const y={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(I(c[b]))continue;var E=Pu(c[b]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=y[U]||[];y[U]=G,G.push(E)}Ge(y,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Mr(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new jo(c&&c.concurrentRequestLimit),this.Ba=new Or,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Mr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,b){vt(0),this.W=c,this.H=y||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=$u(this,null,this.W),bi(this)};function Wo(c){if(Ia(c),c.I==3){var y=c.V++,E=At(c.J);if(Ke(E,"SID",c.M),Ke(E,"RID",y),Ke(E,"TYPE","terminate"),Ls(c,E),y=new Gn(c,c.j,y),y.M=2,y.A=Os(At(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=y.A,E=!0),E||(y.g=Xu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),pi(y)}Yu(c)}function Vr(c){c.g&&(Zo(c),c.g.cancel(),c.g=null)}function Ia(c){Vr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Da(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function bi(c){if(!zo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Se||w(),be||(Se(),be=!0),D.add(y,c),c.D=0}}function Na(c,y){return _i(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fi(g(c.Ea,c,y),Qu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Gn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(U.J=G,G=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Hu(this,U,y),E=At(this.J),Ke(E,"RID",c),Ke(E,"CVER",22),this.G&&Ke(E,"X-HTTP-Session-Id",this.G),Ls(this,E),G&&(this.R?y="headers="+Qi(Dn(G))+"&"+y:this.u&&Vs(E,this.u,G)),Bo(this.h,U),this.Ra&&Ke(E,"TYPE","init"),this.S?(Ke(E,"$req",y),Ke(E,"SID","null"),U.U=!0,mi(U,E,null)):mi(U,E,y),this.I=2}}else this.I==3&&(c?Jo(this,c):this.i.length==0||zo(this.h)||Jo(this))};function Jo(c,y){var E;y?E=y.l:E=c.V++;const b=At(c.J);Ke(b,"SID",c.M),Ke(b,"RID",E),Ke(b,"AID",c.K),Ls(c,b),c.u&&c.o&&Vs(b,c.u,c.o),E=new Gn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Hu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Bo(c.h,E),mi(E,b,y)}function Ls(c,y){c.H&&je(c.H,function(E,b){Ke(y,b,E)}),c.l&&je({},function(E,b){Ke(y,b,E)})}function Hu(c,y,E){E=Math.min(c.i.length,E);const b=c.l?g(c.l.Ka,c.l,c):null;e:{var U=c.i;let Re=-1;for(;;){const mt=["count="+E];Re==-1?E>0?(Re=U[0].g,mt.push("ofs="+Re)):Re=0:mt.push("ofs="+Re);let qe=!0;for(let ot=0;ot<E;ot++){var G=U[ot].g;const On=U[ot].map;if(G-=Re,G<0)Re=Math.max(0,U[ot].g-100),qe=!1;else try{G="req"+G+"_"||"";try{var re=On instanceof Map?On:Object.entries(On);for(const[wi,Xn]of re){let Wn=Xn;m(Xn)&&(Wn=wr(Xn)),mt.push(G+wi+"="+encodeURIComponent(Wn))}}catch(wi){throw mt.push(G+"type="+encodeURIComponent("_badmap")),wi}}catch{b&&b(On)}}if(qe){re=mt.join("&");break e}}re=void 0}return c=c.i.splice(0,E),y.G=c,re}function Fu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Se||w(),be||(Se(),be=!0),D.add(y,c),c.A=0}}function Us(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fi(g(c.Da,c),Qu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Vr(this),Gu(this))};function Zo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Gu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Ls(c,y),c.u&&c.o&&Vs(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Os(At(y)),E.u=null,E.R=!0,Ta(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Vr(this),Us(this),vt(19))};function Da(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ku(c,y){var E=null;if(c.g==y){Da(c),Zo(c),c.g=null;var b=2}else if(vi(c.h,y))E=y.G,qo(c.h,y),b=1;else return;if(c.I!=0){if(y.o)if(b==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var U=c.D;b=Ea(),Mt(b,new hi(b,E)),bi(c)}else Fu(c);else if(U=y.m,U==3||U==0&&y.X>0||!(b==1&&Na(c,y)||b==2&&Us(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),U){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function Qu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Ri(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),b=c.Ua;const U=!b;b=new yn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(b,"https"),Os(b),U?Qn(b.toString(),E):Yo(b.toString(),E)}else vt(2);c.I=0,c.l&&c.l.pa(y),Yu(c),Ia(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Yu(c){if(c.I=0,c.ja=[],c.l){const y=Ho(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ja,y),H(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function $u(c,y,E){var b=E instanceof yn?At(E):new yn(E);if(b.g!="")y&&(b.g=y+"."+b.g),Cr(b,b.u);else{var U=f.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const G=new yn(null);b&&Lt(G,b),y&&(G.g=y),U&&Cr(G,U),E&&(G.h=E),b=G}return E=c.G,y=c.wa,E&&y&&Ke(b,E,y),Ke(b,"VER",c.ka),Ls(c,b),b}function Xu(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new Ti({ab:E})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}r=Wu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Pr(){}Pr.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){_t.call(this),this.g=new Mr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Xi(this)}T(nn,_t),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Wo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=wr(c),c=E);y.i.push(new Tt(y.Ya++,c)),y.I==3&&bi(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,nn.Z.N.call(this)};function Ju(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Ju,zt);function Zu(){Cn.call(this),this.status=1}T(Zu,Cn);function Xi(c){this.g=c}T(Xi,Wu),Xi.prototype.ra=function(){Mt(this.g,"a")},Xi.prototype.qa=function(c){Mt(this.g,new Ju(c))},Xi.prototype.pa=function(c){Mt(this.g,new Zu)},Xi.prototype.oa=function(){Mt(this.g,"b")},Pr.prototype.createWebChannel=Pr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,Z0=function(){return new Pr},J0=function(){return Ea()},W0=dt,Ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,yh=Ns,Lo.COMPLETE="complete",X0=Lo,Ou.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Bl=Ou,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,$0=$e}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const IE="@firebase/firestore",NE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Ap("@firebase/firestore");function oo(){return ua.logLevel}function le(r,...e){if(ua.logLevel<=Me.DEBUG){const n=e.map(Vp);ua.debug(`Firestore (${Co}): ${r}`,...n)}}function Er(r,...e){if(ua.logLevel<=Me.ERROR){const n=e.map(Vp);ua.error(`Firestore (${Co}): ${r}`,...n)}}function _o(r,...e){if(ua.logLevel<=Me.WARN){const n=e.map(Vp);ua.warn(`Firestore (${Co}): ${r}`,...n)}}function Vp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,e1(r,s,n)}function e1(r,e,n){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Er(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||e1(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class QI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class YI{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new t1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class $I{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new $I(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=JI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function $m(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Om(o)===Om(u)?Ve(o,u):Om(o)?1:-1}return Ve(r.length,e.length)}const ZI=55296,eN=57343;function Om(r){const e=r.charCodeAt(0);return e>=ZI&&e<=eN}function vo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),o=Oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class et extends Oi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const tN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Oi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return tN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OE}static keyField(){return new Qt([OE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new oe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(et.fromString(e))}static fromName(e){return new de(et.fromString(e).popFirst(5))}static empty(){return new de(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(r,e,n){if(!n)throw new oe(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function nN(r,e,n,s){if(e===!0&&s===!0)throw new oe(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function xE(r){if(!de.isDocumentKey(r))throw new oe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ME(r){if(de.isDocumentKey(r))throw new oe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function i1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function rf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function gs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rf(r);throw new oe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function _u(r,e){if(!i1(r))throw new oe(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=-62135596800,PE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*PE);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VE)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Nt("string",rt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new rt(0,0))}static max(){return new Ee(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function iN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new ys(o,de.empty(),e)}function rN(r){return new ys(r.readTime,r.key,tu)}class ys{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ys(Ee.min(),de.empty(),tu)}static max(){return new ys(Ee.max(),de.empty(),tu)}}function sN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==aN)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((v=>{f[g]=v,++m,m===u&&s(f)}),(v=>o(v)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function lN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=-1;function af(r){return r==null}function Mh(r){return r===0&&1/r==-1/0}function uN(r){return typeof r=="number"&&Number.isInteger(r)&&!Mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="";function cN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=kE(e)),e=hN(r.get(n),e);return kE(e)}function hN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case r1:n+="";break;default:n+=u}}return n}function kE(r){return r+r1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function da(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function s1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UE(this.data.getIterator())}getIteratorFrom(e){return new UE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class UE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new ni([])}unionWith(e){let n=new Pt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new a1("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const fN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=fN.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vs(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="server_timestamp",l1="__type__",u1="__previous_value__",c1="__local_write_time__";function Lp(r){return(r?.mapValue?.fields||{})[l1]?.stringValue===o1}function of(r){const e=r.mapValue.fields[u1];return Lp(e)?of(e):e}function nu(r){const e=_s(r.mapValue.fields[c1].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n,s,o,u,f,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Vh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Vh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="__type__",mN="__max__",oh={mapValue:{}},f1="__vector__",Ph="value";function Es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lp(r)?4:gN(r)?9007199254740991:pN(r)?10:11:_e(28295,{value:r})}function Bi(r,e){if(r===e)return!0;const n=Es(r);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=_s(o.timestampValue),m=_s(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return vs(o.bytesValue).isEqual(vs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?Mh(f)===Mh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return vo(r.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(LE(f)!==LE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Bi(f[p],m[p])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function ru(r,e){return(r.values||[]).find((n=>Bi(n,e)))!==void 0}function Eo(r,e){if(r===e)return 0;const n=Es(r),s=Es(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),p=yt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return jE(r.timestampValue,e.timestampValue);case 4:return jE(nu(r),nu(e));case 5:return $m(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=vs(u),p=vs(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ve(m[g],p[g]);if(v!==0)return v}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(yt(u.latitude),yt(f.latitude));return m!==0?m:Ve(yt(u.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return zE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Ph]?.arrayValue,v=p[Ph]?.arrayValue,T=Ve(g?.values?.length||0,v?.values?.length||0);return T!==0?T:zE(g,v)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===oh.mapValue&&f===oh.mapValue)return 0;if(u===oh.mapValue)return 1;if(f===oh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const R=$m(p[T],v[T]);if(R!==0)return R;const O=Eo(m[p[T]],g[v[T]]);if(O!==0)return O}return Ve(p.length,v.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function jE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=_s(r),s=_s(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function zE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function To(r){return Xm(r)}function Xm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=_s(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return vs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Xm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Xm(n.fields[f])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function _h(r){switch(Es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(r);return e?16+_h(e):16;case 5:return 2*r.stringValue.length;case 6:return vs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+_h(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return da(s.fields,((u,f)=>{o+=u.length+_h(f)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function BE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Wm(r){return!!r&&"integerValue"in r}function Up(r){return!!r&&"arrayValue"in r}function qE(r){return!!r&&"nullValue"in r}function HE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vh(r){return!!r&&"mapValue"in r}function pN(r){return(r?.mapValue?.fields||{})[h1]?.stringValue===f1}function Ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return da(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ql(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(r.arrayValue.values[n]);return e}return{...r}}function gN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ql(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){da(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new zn(Ql(this.value))}}function d1(r){const e=[];return da(r.fields,((n,s)=>{const o=new Qt([n]);if(vh(s)){const u=d1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Ee.min(),Ee.min(),Ee.min(),zn.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,Ee.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Ee.min(),Ee.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Ee.min(),Ee.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.position=e,this.inclusive=n}}function FE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(f.referenceValue),n.key):s=Eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function GE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Bi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function yN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{}class It extends m1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new vN(e,n,s):n==="array-contains"?new AN(e,s):n==="in"?new SN(e,s):n==="not-in"?new bN(e,s):n==="array-contains-any"?new RN(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new EN(e,s):new TN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends m1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new si(e,n)}matches(e){return p1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function p1(r){return r.op==="and"}function g1(r){return _N(r)&&p1(r)}function _N(r){for(const e of r.filters)if(e instanceof si)return!1;return!0}function Jm(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+To(r.value);if(g1(r))return r.filters.map((e=>Jm(e))).join(",");{const e=r.filters.map((n=>Jm(n))).join(",");return`${r.op}(${e})`}}function y1(r,e){return r instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)})(r,e):r instanceof si?(function(s,o){return o instanceof si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&y1(f,o.filters[m])),!0):!1})(r,e):void _e(19439)}function _1(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(r):r instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(_1).join(" ,")+"}"})(r):"Filter"}class vN extends It{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class EN extends It{constructor(e,n){super(e,"in",n),this.keys=v1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TN extends It{constructor(e,n){super(e,"not-in",n),this.keys=v1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function v1(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class AN extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Up(n)&&ru(n.arrayValue,this.value)}}class SN extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class bN extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class RN extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function KE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new wN(r,e,n,s,o,u,f)}function jp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Jm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>To(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>To(s))).join(",")),e.Te=n}return e.Te}function zp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!yN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!y1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!GE(r.startAt,e.startAt)&&GE(r.endAt,e.endAt)}function Zm(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CN(r,e,n,s,o,u,f,m){return new vu(r,e,n,s,o,u,f,m)}function Bp(r){return new vu(r)}function QE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function E1(r){return r.collectionGroup!==null}function Yl(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Qt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Lh(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new Lh(Qt.keyField(),s))}return e.Ie}function Pi(r){const e=Ae(r);return e.Ee||(e.Ee=IN(e,Yl(r))),e.Ee}function IN(r,e){if(r.limitType==="F")return KE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Lh(o.field,u)}));const n=r.endAt?new kh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new kh(r.startAt.position,r.startAt.inclusive):null;return KE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ep(r,e){const n=r.filters.concat([e]);return new vu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function tp(r,e,n){return new vu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function lf(r,e){return zp(Pi(r),Pi(e))&&r.limitType===e.limitType}function T1(r){return`${jp(Pi(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>_1(o))).join(", ")}]`),af(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(Pi(r))}; limitType=${r.limitType})`}function uf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Yl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=FE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Yl(s),o)||s.endAt&&!(function(f,m,p){const g=FE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Yl(s),o))})(r,e)}function NN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function A1(r){return(e,n)=>{let s=!1;for(const o of Yl(r)){const u=DN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function DN(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Eo(p,g):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return s1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new ct(de.comparator);function Tr(){return ON}const S1=new ct(de.comparator);function ql(...r){let e=S1;for(const n of r)e=e.insert(n.key,n);return e}function b1(r){let e=S1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function na(){return $l()}function R1(){return $l()}function $l(){return new ma((r=>r.toString()),((r,e)=>r.isEqual(e)))}const xN=new ct(de.comparator),MN=new Pt(de.comparator);function Pe(...r){let e=MN;for(const n of r)e=e.add(n);return e}const VN=new Pt(Ve);function PN(){return VN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function w1(r){return{integerValue:""+r}}function kN(r,e){return uN(e)?w1(e):qp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function LN(r,e,n){return r instanceof Uh?(function(o,u){const f={fields:{[l1]:{stringValue:o1},[c1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Lp(u)&&(u=of(u)),u&&(f.fields[u1]=u),{mapValue:f}})(n,e):r instanceof su?I1(r,e):r instanceof au?N1(r,e):(function(o,u){const f=C1(o,u),m=YE(f)+YE(o.Ae);return Wm(f)&&Wm(o.Ae)?w1(m):qp(o.serializer,m)})(r,e)}function UN(r,e,n){return r instanceof su?I1(r,e):r instanceof au?N1(r,e):n}function C1(r,e){return r instanceof jh?(function(s){return Wm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Uh extends cf{}class su extends cf{constructor(e){super(),this.elements=e}}function I1(r,e){const n=D1(e);for(const s of r.elements)n.some((o=>Bi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class au extends cf{constructor(e){super(),this.elements=e}}function N1(r,e){let n=D1(e);for(const s of r.elements)n=n.filter((o=>!Bi(o,s)));return{arrayValue:{values:n}}}class jh extends cf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function YE(r){return yt(r.integerValue||r.doubleValue)}function D1(r){return Up(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function jN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof su&&o instanceof su||s instanceof au&&o instanceof au?vo(s.elements,o.elements,Bi):s instanceof jh&&o instanceof jh?Bi(s.Ae,o.Ae):s instanceof Uh&&o instanceof Uh})(r.transform,e.transform)}class zN{constructor(e,n){this.version=e,this.transformResults=n}}class ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hf{}function O1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new M1(r.key,ki.none()):new Eu(r.key,r.data,ki.none());{const n=r.data,s=zn.empty();let o=new Pt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new pa(r.key,s,new ni(o.toArray()),ki.none())}}function BN(r,e,n){r instanceof Eu?(function(o,u,f){const m=o.value.clone(),p=XE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof pa?(function(o,u,f){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=XE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(x1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Xl(r,e,n,s){return r instanceof Eu?(function(u,f,m,p){if(!Eh(u.precondition,f))return m;const g=u.value.clone(),v=WE(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof pa?(function(u,f,m,p){if(!Eh(u.precondition,f))return m;const g=WE(u.fieldTransforms,p,f),v=f.data;return v.setAll(x1(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return Eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function qN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=C1(s.transform,o||null);u!=null&&(n===null&&(n=zn.empty()),n.set(s.field,u))}return n||null}function $E(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,f)=>jN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Eu extends hf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class pa extends hf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function x1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function XE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,UN(f,m,n[o]))}return s}function WE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,LN(u,f,e))}return s}class M1 extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HN extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&BN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=R1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=O1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((n,s)=>$E(n,s)))&&vo(this.baseMutations,e.baseMutations,((n,s)=>$E(n,s)))}}class Hp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return xN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Hp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ue;function QN(r){switch(r){case ee.OK:return _e(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function V1(r){if(r===void 0)return Er("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Ct.OK:return ee.OK;case Ct.CANCELLED:return ee.CANCELLED;case Ct.UNKNOWN:return ee.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ee.INTERNAL;case Ct.UNAVAILABLE:return ee.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ee.NOT_FOUND;case Ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ct.ABORTED:return ee.ABORTED;case Ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ct.DATA_LOSS:return ee.DATA_LOSS;default:return _e(39323,{code:r})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new ds([4294967295,4294967295],0);function JE(r){const e=YN().encode(r),n=new Y0;return n.update(e),new Uint8Array(n.digest())}function ZE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ds([n,s],0),new ds([o,u],0)]}class Fp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ds.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ds.fromNumber(s)));return o.compare($N)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JE(e),[s,o]=ZE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Fp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=JE(e),[s,o]=ZE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ff(Ee.min(),o,new ct(Ve),Tr(),Pe())}}class Tu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Tu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class P1{constructor(e,n){this.targetId=e,this.Ce=n}}class k1{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class eT{constructor(){this.ve=0,this.Fe=tT(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}})),new Tu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=tT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class XN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Tr(),this.Je=lh(),this.He=lh(),this.Ye=new ct(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Zm(u))if(s===0){const f=new de(u.path);this.et(n,f,Jt.newNoDocument(f,Ee.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=vs(s).toUint8Array()}catch(p){if(p instanceof a1)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Fp(f,o,u)}catch(p){return _o(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Zm(m.target)){const p=new de(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Jt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new ff(e,n,this.Ye,this.je,s);return this.je=Tr(),this.Je=lh(),this.He=lh(),this.Ye=new ct(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lh(){return new ct(de.comparator)}function tT(){return new ct(de.comparator)}const WN={asc:"ASCENDING",desc:"DESCENDING"},JN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZN={and:"AND",or:"OR"};class eD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function np(r,e){return r.useProto3Json||af(e)?e:{value:e}}function zh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function tD(r,e){return zh(r,e.toTimestamp())}function Li(r){return Fe(!!r,49232),Ee.fromTimestamp((function(n){const s=_s(n);return new rt(s.seconds,s.nanos)})(r))}function Gp(r,e){return ip(r,e).canonicalString()}function ip(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function U1(r){const e=et.fromString(r);return Fe(H1(e),10190,{key:e.toString()}),e}function rp(r,e){return Gp(r.databaseId,e.path)}function xm(r,e){const n=U1(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(z1(n))}function j1(r,e){return Gp(r.databaseId,e)}function nD(r){const e=U1(r);return e.length===4?et.emptyPath():z1(e)}function sp(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function z1(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nT(r,e,n){return{name:rp(r,e),fields:n.value.mapValue.fields}}function iD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Fe(v===void 0||typeof v=="string",58123),Yt.fromBase64String(v||"")):(Fe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Yt.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const v=g.code===void 0?ee.UNKNOWN:V1(g.code);return new oe(v,g.message||"")})(f);n=new k1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xm(r,s.document.name),u=Li(s.document.updateTime),f=s.document.createTime?Li(s.document.createTime):Ee.min(),m=new zn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,f,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Th(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xm(r,s.document),u=s.readTime?Li(s.readTime):Ee.min(),f=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Th([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xm(r,s.document),u=s.removedTargetIds||[];n=new Th([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new KN(o,u),m=s.targetId;n=new P1(m,f)}}return n}function rD(r,e){let n;if(e instanceof Eu)n={update:nT(r,e.key,e.value)};else if(e instanceof M1)n={delete:rp(r,e.key)};else if(e instanceof pa)n={update:nT(r,e.key,e.data),updateMask:dD(e.fieldMask)};else{if(!(e instanceof HN))return _e(16599,{Vt:e.type});n={verify:rp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Uh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof jh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:tD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function sD(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Li(o.updateTime):Li(u);return f.isEqual(Ee.min())&&(f=Li(u)),new zN(f,o.transformResults||[])})(n,e)))):[]}function aD(r,e){return{documents:[j1(r,e.path)]}}function oD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=j1(r,o);const u=(function(g){if(g.length!==0)return q1(si.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((v=>(function(R){return{field:uo(R.field),direction:cD(R.dir)}})(v)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=np(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function lD(r){let e=nD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const R=B1(T);return R instanceof si&&g1(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((R=>(function(H){return new Lh(co(H.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let R;return R=typeof T=="object"?T.value:T,af(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(T){const R=!!T.before,O=T.values||[];return new kh(O,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const R=!T.before,O=T.values||[];return new kh(O,R)})(n.endAt)),CN(e,o,f,u,m,"F",p,g)}function uD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function B1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=co(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((s=>B1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function cD(r){return WN[r]}function hD(r){return JN[r]}function fD(r){return ZN[r]}function uo(r){return{fieldPath:r.canonicalString()}}function co(r){return Qt.fromServerFormat(r.fieldPath)}function q1(r){return r instanceof It?(function(n){if(n.op==="=="){if(HE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(qE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(qE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:hD(n.op),value:n.value}}})(r):r instanceof si?(function(n){const s=n.getFilters().map((o=>q1(o)));return s.length===1?s[0]:{compositeFilter:{op:fD(n.op),filters:s}}})(r):_e(54877,{filter:r})}function dD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function H1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,s,o,u=Ee.min(),f=Ee.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.yt=e}}function pD(r){const e=lD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.Cn=new yD}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ys.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class yD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F1=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(F1,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="LruGarbageCollector",_D=1048576;function sT([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class vD{constructor(e){this.Ir=e,this.buffer=new Pt(sT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ED{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(rT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?le(rT,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Vr(3e5)}))}}class TD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(sf.ce);const s=new vD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(iT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),oo()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function AD(r,e){return new TD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.changes=new ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Xl(s.mutation,o,ni.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=ql();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Tr();const f=$l(),m=(function(){return $l()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof pa)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Xl(v.mutation,g,v.mutation.getFieldMask(),rt.now())):f.set(g.key,ni.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>f.set(g,v))),n.forEach(((g,v)=>m.set(g,new bD(v,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=$l();let o=new ct(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||ni.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=R1();v.forEach((R=>{if(!u.has(R)){const O=O1(n.get(R),s.get(R));O!==null&&T.set(R,O),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return de.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(na());let m=tu,p=u;return f.next((g=>te.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((R=>{p=p.insert(v,R)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((v=>({batchId:m,changes:b1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const g=(function(T,R){return new vu(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,Jt.newInvalidDocument(v)))}));let m=ql();return f.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Xl(v.mutation,g,ni.empty(),rt.now()),uf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:pD(o.bundledQuery),readTime:Li(o.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.overlays=new ct(de.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=na();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=na(),u=n.length+1,f=new de(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((g,v)=>g-v));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=na(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new GN(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this.Qr=new Pt(jt.$r),this.Ur=new Pt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new de(new et([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new et([])),s=new jt(n,e),o=new jt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(jt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new FN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?kp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Ve);return n.forEach((o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const f=new jt(new de(u),0);let m=new Pt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new jt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.ri=e,this.docs=(function(){return new ct(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=Tr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Tr();const f=n.path,m=new de(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||sN(rN(v),s)<=0||(o.has(v.key)||uf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){_e(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new OD(this)}getSize(e){return te.resolve(this.size)}}class OD extends SD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.persistence=e,this.si=new ma((n=>jp(n)),zp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Kp,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new ID,this.referenceDelegate=e(this),this.Pi=new xD(this),this.indexManager=new gD,this.remoteDocumentCache=(function(o){return new DD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new mD(n),this.Ii=new wD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new ND(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new MD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class MD extends oN{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Ri=new Kp,this.Vi=null}static mi(e){return new Qp(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=de.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bh{constructor(e,n){this.persistence=e,this.pi=new ma((s=>cN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=AD(this,n)}static mi(e,n){return new Bh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Yp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cw()?8:lN(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new VD;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(oo()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(oo()<=Me.DEBUG&&le("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(oo()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):te.resolve())}ys(e,n){if(QE(n))return te.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=tp(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,tp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return QE(n)||o.isEqual(Ee.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(oo()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.vs(e,f,n,iN(o,tu)).next((m=>m)))}))}Ds(e,n){let s=new Pt(A1(e));return n.forEach(((o,u)=>{uf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return oo()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ps.getDocumentsMatchingQuery(e,n,ys.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="LocalStore",kD=3e8;class LD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Ve),this.xs=new ma((u=>jp(u)),zp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function UD(r,e,n,s){return new LD(r,e,n,s)}async function K1(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Pe();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function jD(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,R=T.keys();let O=te.resolve();return R.forEach((H=>{O=O.next((()=>v.getEntry(p,H))).next((K=>{const q=g.docVersions.get(H);Fe(q!==null,48541),K.version.compareTo(q)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),v.addEntry(K)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Q1(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function zD(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((v,T)=>{const R=o.get(T);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T))));let O=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Yt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,s)),o=o.insert(T,O),(function(K,q,Y){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=kD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(R,O,v)&&m.push(n.Pi.updateTargetData(u,O))}));let p=Tr(),g=Pe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(BD(u,f,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Ee.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function BD(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=Tr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le($p,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function qD(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=kp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function HD(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new us(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ap(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!No(f))throw f;le($p,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function aT(r,e,n){const s=Ae(r);let o=Ee.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,v){const T=Ae(p),R=T.xs.get(v);return R!==void 0?te.resolve(T.Ms.get(R)):T.Pi.getTargetData(g,v)})(s,f,Pi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ee.min(),n?u:Pe()))).next((m=>(FD(s,NN(e),m),{documents:m,Qs:u})))))}function FD(r,e,n){let s=r.Os.get(e)||Ee.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class oT{constructor(){this.activeTargetIds=PN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GD{constructor(){this.Mo=new oT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new oT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="ConnectivityMonitor";class uT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(lT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(lT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function op(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="RestConnection",QD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=op(),m=this.zo(e,n.toUriEncodedString());le(Mm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=ha(g);return this.Jo(e,m,p,s,v).then((T=>(le(Mm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw _o(Mm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=QD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class XD extends YD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=op();return new Promise(((m,p)=>{const g=new $0;g.setWithCredentials(!0),g.listenOnce(X0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case yh.NO_ERROR:const T=g.getResponseJson();le(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case yh.TIMEOUT:le(Xt,`RPC '${e}' ${f} timed out`),p(new oe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const R=g.getStatus();if(le(Xt,`RPC '${e}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const H=O?.error;if(H&&H.status&&H.message){const K=(function(Y){const ne=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ne)>=0?ne:ee.UNKNOWN})(H.status);p(new oe(K,H.message))}else p(new oe(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(ee.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Xt,`RPC '${e}' ${f} completed.`)}}));const v=JSON.stringify(o);le(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=op(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Z0(),m=J0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=f.createWebChannel(v,p);this.I_(T);let R=!1,O=!1;const H=new $D({Yo:q=>{O?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Zo:()=>T.close()}),K=(q,Y,ne)=>{q.listen(Y,(ie=>{try{ne(ie)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return K(T,Bl.EventType.OPEN,(()=>{O||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),K(T,Bl.EventType.CLOSE,(()=>{O||(O=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(T))})),K(T,Bl.EventType.ERROR,(q=>{O||(O=!0,_o(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),H.a_(new oe(ee.UNAVAILABLE,"The operation could not be completed")))})),K(T,Bl.EventType.MESSAGE,(q=>{if(!O){const Y=q.data[0];Fe(!!Y,16349);const ne=Y,ie=ne?.error||ne[0]?.error;if(ie){le(Xt,`RPC '${e}' stream ${o} received error:`,ie);const pe=ie.status;let Se=(function(w){const C=Ct[w];if(C!==void 0)return V1(C)})(pe),be=ie.message;Se===void 0&&(Se=ee.INTERNAL,be="Unknown error status: "+pe+" with message "+ie.message),O=!0,H.a_(new oe(Se,be)),T.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,Y),H.u_(Y)}})),K(m,W0.STAT_EVENT,(q=>{q.stat===Ym.PROXY?le(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Ym.NOPROXY&&le(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(r){return new eD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="PersistentStream";class $1{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(cT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(cT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WD extends $1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ee.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ee.min():f.readTime?Li(f.readTime):Ee.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=sp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Zm(p)?{documents:aD(u,p)}:{query:oD(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=L1(u,f.resumeToken);const g=np(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ee.min())>0){m.readTime=zh(u,f.snapshotVersion.toTimestamp());const g=np(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=uD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.q_(n)}}class JD extends $1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sD(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>rD(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{}class eO extends ZD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,ip(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,ip(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Er(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class nO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ga(this)&&(le(ca,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Au(g),g.Ra.set("Unknown"),g.Ea.delete(4),await mf(g)})(this))}))})),this.Ra=new tO(s,o)}}async function mf(r){if(ga(r))for(const e of r.da)await e(!0)}async function Au(r){for(const e of r.da)await e(!1)}function X1(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zp(n)?Jp(n):Do(n).O_()&&Wp(n,e))}function Xp(r,e){const n=Ae(r),s=Do(n);n.Ia.delete(e),s.O_()&&W1(n,e),n.Ia.size===0&&(s.O_()?s.L_():ga(n)&&n.Ra.set("Unknown"))}function Wp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(r).Y_(e)}function W1(r,e){r.Va.Ue(e),Do(r).Z_(e)}function Jp(r){r.Va=new XN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Do(r).start(),r.Ra.ua()}function Zp(r){return ga(r)&&!Do(r).x_()&&r.Ia.size>0}function ga(r){return Ae(r).Ea.size===0}function J1(r){r.Va=void 0}async function iO(r){r.Ra.set("Online")}async function rO(r){r.Ia.forEach(((e,n)=>{Wp(r,e)}))}async function sO(r,e){J1(r),Zp(r)?(r.Ra.ha(e),Jp(r)):r.Ra.set("Unknown")}async function aO(r,e,n){if(r.Ra.set("Online"),e instanceof k1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await qh(r,s)}else if(e instanceof Th?r.Va.Ze(e):e instanceof P1?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ee.min()))try{const s=await Q1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Yt.EMPTY_BYTE_STRING,v.snapshotVersion)),W1(u,p);const T=new us(v.target,p,g,v.sequenceNumber);Wp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(ca,"Failed to raise snapshot:",s),await qh(r,s)}}async function qh(r,e,n){if(!No(e))throw e;r.Ea.add(1),await Au(r),r.Ra.set("Offline"),n||(n=()=>Q1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(ca,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await mf(r)}))}function Z1(r,e){return e().catch((n=>qh(r,n,e)))}async function pf(r){const e=Ae(r),n=Ts(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kp;for(;oO(e);)try{const o=await qD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,lO(e,o)}catch(o){await qh(e,o)}eA(e)&&tA(e)}function oO(r){return ga(r)&&r.Ta.length<10}function lO(r,e){r.Ta.push(e);const n=Ts(r);n.O_()&&n.X_&&n.ea(e.mutations)}function eA(r){return ga(r)&&!Ts(r).x_()&&r.Ta.length>0}function tA(r){Ts(r).start()}async function uO(r){Ts(r).ra()}async function cO(r){const e=Ts(r);for(const n of r.Ta)e.ea(n.mutations)}async function hO(r,e,n){const s=r.Ta.shift(),o=Hp.from(s,e,n);await Z1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await pf(r)}async function fO(r,e){e&&Ts(r).X_&&await(async function(s,o){if((function(f){return QN(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();Ts(s).B_(),await Z1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await pf(s)}})(r,e),eA(r)&&tA(r)}async function hT(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),le(ca,"RemoteStore received new credentials");const s=ga(n);n.Ea.add(3),await Au(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mf(n)}async function dO(r,e){const n=Ae(r);e?(n.Ea.delete(2),await mf(n)):e||(n.Ea.add(2),await Au(n),n.Ra.set("Unknown"))}function Do(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new WD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:iO.bind(null,r),t_:rO.bind(null,r),r_:sO.bind(null,r),H_:aO.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Zp(r)?Jp(r):r.Ra.set("Unknown")):(await r.ma.stop(),J1(r))}))),r.ma}function Ts(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new JD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:uO.bind(null,r),r_:fO.bind(null,r),ta:cO.bind(null,r),na:hO.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await pf(r)):(await r.fa.stop(),r.Ta.length>0&&(le(ca,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new eg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(r,e){if(Er("AsyncQueue",`${e}: ${r}`),No(r))return new oe(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=ql(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.ga=new ct(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class So{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new So(e,n,go.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class pO{constructor(){this.queries=dT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=dT(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(ee.ABORTED,"Firestore shutting down"))}}function dT(){return new ma((r=>T1(r)),lf)}async function nA(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new mO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=tg(f,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ng(n)}async function iA(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function gO(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&ng(n)}function yO(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ng(r){r.Ca.forEach((e=>{e.next()}))}var lp,mT;(mT=lp||(lp={})).Ma="default",mT.Cache="cache";class rA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.key=e}}class aA{constructor(e){this.key=e}}class _O{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=A1(e),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new fT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const R=o.get(v),O=uf(this.query,T)?T:null,H=!!R&&this.mutatedKeys.has(R.key),K=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let q=!1;R&&O?R.data.isEqual(O.data)?H!==K&&(s.track({type:3,doc:O}),q=!0):this.su(R,O)||(s.track({type:2,doc:O}),q=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!R&&O?(s.track({type:0,doc:O}),q=!0):R&&!O&&(s.track({type:1,doc:R}),q=!0,(p||g)&&(m=!0)),q&&(O?(f=f.add(O),u=K?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((v,T)=>(function(O,H){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:q})}};return K(O)-K(H)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new So(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new aA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new sA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ig="SyncEngine";class vO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class EO{constructor(e){this.key=e,this.hu=!1}}class TO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ma((m=>T1(m)),lf),this.Iu=new Map,this.Eu=new Set,this.du=new ct(de.comparator),this.Au=new Map,this.Ru=new Kp,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AO(r,e,n=!0){const s=fA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await oA(s,e,n,!0),o}async function SO(r,e){const n=fA(r);await oA(n,e,!0,!1)}async function oA(r,e,n,s){const o=await HD(r.localStore,Pi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await bO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&X1(r.remoteStore,o),m}async function bO(r,e,n,s,o){r.pu=(T,R,O)=>(async function(K,q,Y,ne){let ie=q.view.ru(Y);ie.Cs&&(ie=await aT(K.localStore,q.query,!1).then((({documents:D})=>q.view.ru(D,ie))));const pe=ne&&ne.targetChanges.get(q.targetId),Se=ne&&ne.targetMismatches.get(q.targetId)!=null,be=q.view.applyChanges(ie,K.isPrimaryClient,pe,Se);return gT(K,q.targetId,be.au),be.snapshot})(r,T,R,O);const u=await aT(r.localStore,e,!0),f=new _O(e,u.Qs),m=f.ru(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);gT(r,n,g.au);const v=new vO(e,n,f);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function RO(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!lf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ap(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Xp(s.remoteStore,o.targetId),up(s,o.targetId)})).catch(Io)):(up(s,o.targetId),await ap(s.localStore,o.targetId,!0))}async function wO(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Xp(n.remoteStore,s.targetId))}async function CO(r,e,n){const s=VO(r);try{const o=await(function(f,m){const p=Ae(f),g=rt.now(),v=m.reduce(((O,H)=>O.add(H.key)),Pe());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let H=Tr(),K=Pe();return p.Ns.getEntries(O,v).next((q=>{H=q,H.forEach(((Y,ne)=>{ne.isValidDocument()||(K=K.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,H))).next((q=>{T=q;const Y=[];for(const ne of m){const ie=qN(ne,T.get(ne.key).overlayedDocument);ie!=null&&Y.push(new pa(ne.key,ie,d1(ie.value.mapValue),ki.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,Y,m)})).next((q=>{R=q;const Y=q.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(O,q.batchId,Y)}))})).then((()=>({batchId:R.batchId,changes:b1(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ct(Ve)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await Su(s,o.changes),await pf(s.remoteStore)}catch(o){const u=tg(o,"Failed to persist write");n.reject(u)}}async function lA(r,e){const n=Ae(r);try{const s=await zD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await Su(n,s,e)}catch(s){await Io(s)}}function pT(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const R of T.Sa)R.va(m)&&(g=!0)})),g&&ng(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function IO(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(de.comparator);f=f.insert(u,Jt.newNoDocument(u,Ee.min()));const m=Pe().add(u),p=new ff(Ee.min(),new Map,new ct(Ve),f,m);await lA(s,p),s.du=s.du.remove(u),s.Au.delete(e),rg(s)}else await ap(s.localStore,e,!1).then((()=>up(s,e,n))).catch(Io)}async function NO(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await jD(n.localStore,e);cA(n,s,null),uA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await Io(o)}}async function DO(r,e,n){const s=Ae(r);try{const o=await(function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Fe(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);cA(s,e,n),uA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Su(s,o)}catch(o){await Io(o)}}function uA(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function cA(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function up(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||hA(r,s)}))}function hA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Xp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),rg(r))}function gT(r,e,n){for(const s of n)s instanceof sA?(r.Ru.addReference(s.key,e),OO(r,s)):s instanceof aA?(le(ig,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||hA(r,s.key)):_e(19791,{wu:s})}function OO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(ig,"New document in limbo: "+n),r.Eu.add(s),rg(r))}function rg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(et.fromString(e)),s=r.fu.next();r.Au.set(s,new EO(n)),r.du=r.du.insert(n,s),X1(r.remoteStore,new us(Pi(Bp(n.path)),s,"TargetPurposeLimboResolution",sf.ce))}}async function Su(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Yp.As(p.targetId,g);u.push(v)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const v=Ae(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(g,(R=>te.forEach(R.Es,(O=>v.persistence.referenceDelegate.addReference(T,R.targetId,O))).next((()=>te.forEach(R.ds,(O=>v.persistence.referenceDelegate.removeReference(T,R.targetId,O)))))))))}catch(T){if(!No(T))throw T;le($p,"Failed to update sequence numbers: "+T)}for(const T of g){const R=T.targetId;if(!T.fromCache){const O=v.Ms.get(R),H=O.snapshotVersion,K=O.withLastLimboFreeSnapshotVersion(H);v.Ms=v.Ms.insert(R,K)}}})(s.localStore,u))}async function xO(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){le(ig,"User change. New user:",e.toKey());const s=await K1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Ls)}}function MO(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function fA(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IO.bind(null,e),e.Pu.H_=gO.bind(null,e.eventManager),e.Pu.yu=yO.bind(null,e.eventManager),e}function VO(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DO.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return UD(this.persistence,new PD,e.initialUser,this.serializer)}Cu(e){return new G1(Qp.mi,this.serializer)}Du(e){return new GD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class PO extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ED(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new G1((s=>Bh.mi(s,n)),this.serializer)}}class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xO.bind(null,this.syncEngine),await dO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pO})()}createDatastore(e){const n=df(e.databaseInfo.databaseId),s=(function(u){return new XD(u)})(e.databaseInfo);return(function(u,f,m,p){return new eO(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new nO(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>pT(this.syncEngine,n,0)),(function(){return uT.v()?new uT:new KD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,v){const T=new TO(o,u,f,m,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(ca,"RemoteStore shutting down."),s.Ea.add(5),await Au(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class kO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(As,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(As,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=tg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pm(r,e){r.asyncQueue.verifyOperationInProgress(),le(As,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await K1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function yT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await LO(r);le(As,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>hT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>hT(e.remoteStore,o))),r._onlineComponents=e}async function LO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(As,"Using user provided OfflineComponentProvider");try{await Pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Pm(r,new Hh)}}else le(As,"Using default OfflineComponentProvider"),await Pm(r,new PO(void 0));return r._offlineComponents}async function mA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(As,"Using user provided OnlineComponentProvider"),await yT(r,r._uninitializedComponentsProvider._online)):(le(As,"Using default OnlineComponentProvider"),await yT(r,new cp))),r._onlineComponents}function UO(r){return mA(r).then((e=>e.syncEngine))}async function pA(r){const e=await mA(r),n=e.eventManager;return n.onListen=AO.bind(null,e.syncEngine),n.onUnlisten=RO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wO.bind(null,e.syncEngine),n}function jO(r,e,n={}){const s=new gr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const v=new dA({next:R=>{v.Nu(),f.enqueueAndForget((()=>iA(u,T)));const O=R.docs.has(m);!O&&R.fromCache?g.reject(new oe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&R.fromCache&&p&&p.source==="server"?g.reject(new oe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new rA(Bp(m.path),v,{includeMetadataChanges:!0,qa:!0});return nA(u,T)})(await pA(r),r.asyncQueue,e,n,s))),s.promise}function zO(r,e,n={}){const s=new gr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const v=new dA({next:R=>{v.Nu(),f.enqueueAndForget((()=>iA(u,T))),R.fromCache&&p.source==="server"?g.reject(new oe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new rA(m,v,{includeMetadataChanges:!0,qa:!0});return nA(u,T)})(await pA(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firestore.googleapis.com",vT=!0;class ET{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yA,this.ssl=vT}else this.host=e.host,this.ssl=e.ssl??vT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_D)throw new oe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new KI;switch(s.type){case"firstParty":return new XI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=_T.get(n);s&&(le("ComponentProvider","Removing Datastore"),_T.delete(n),s.terminate())})(this),Promise.resolve()}}function BO(r,e,n,s={}){r=gs(r,gf);const o=ha(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Ep(`https://${m}`),Tp("Firestore",!0)),u.host!==yA&&u.host!==m&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!sa(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=Wt.MOCK_USER;else{g=l0(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Wt(T)}r._authCredentials=new QI(new t1(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oo(this.firestore,e,this._query)}}class Dt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(_u(n,Dt._jsonSchema))return new Dt(e,s||null,new de(et.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Nt("string",Dt._jsonSchemaVersion),referencePath:Nt("string")};class ms extends Oo{constructor(e,n,s){super(e,n,Bp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new de(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function ou(r,e,...n){if(r=en(r),n1("collection","path",e),r instanceof gf){const s=et.fromString(e,...n);return ME(s),new ms(r,null,s)}{if(!(r instanceof Dt||r instanceof ms))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return ME(s),new ms(r.firestore,null,s)}}function bu(r,e,...n){if(r=en(r),arguments.length===1&&(e=Pp.newId()),n1("doc","path",e),r instanceof gf){const s=et.fromString(e,...n);return xE(s),new Dt(r,null,new de(s))}{if(!(r instanceof Dt||r instanceof ms))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return xE(s),new Dt(r.firestore,r instanceof ms?r.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="AsyncQueue";class AT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y1(this,"async_queue_retry"),this._c=()=>{const s=Vm();s&&le(TT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;le(TT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Er("INTERNAL UNHANDLED ERROR: ",ST(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=eg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:ST(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ST(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ru extends gf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new AT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AT(e),this._firestoreClient=void 0,await e}}}function qO(r,e){const n=typeof r=="object"?r:bp(),s=typeof r=="string"?r:Vh,o=Zh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=s0("firestore");u&&BO(o,...u)}return o}function sg(r){if(r._terminated)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||HO(r),r._firestoreClient}function HO(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new dN(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,gA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new kO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Yt.fromBase64String(e))}catch(n){throw new oe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Nt("string",Bn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(_u(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Nt("string",Ui._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ji(e.vectorValues);throw new oe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Nt("string",ji._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=/^__.*__$/;class GO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}function vA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:r})}}class og{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vA(this.Ac)&&FO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class KO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||df(e)}Cc(e,n,s,o=!1){return new og({Ac:e,methodName:n,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lg(r){const e=r._freezeSettings(),n=df(r._databaseId);return new KO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function EA(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);SA("Data must be an object, but it was:",f,s);const m=TA(s,f);let p,g;if(u.merge)p=new ni(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const R=YO(e,T,n);if(!f.contains(R))throw new oe(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);XO(v,R)||v.push(R)}p=new ni(v),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new GO(new zn(m),p,g)}function QO(r,e,n,s=!1){return ug(n,r.Cc(s?4:3,e))}function ug(r,e){if(AA(r=en(r)))return SA("Unsupported field value:",e,r),TA(r,e);if(r instanceof _A)return(function(s,o){if(!vA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=ug(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:zh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zh(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:L1(o.serializer,s._byteString)};if(s instanceof Dt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ji)return(function(f,m){return{mapValue:{fields:{[h1]:{stringValue:f1},[Ph]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return qp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${rf(s)}`)})(r,e)}function TA(r,e){const n={};return s1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(r,((s,o)=>{const u=ug(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function AA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Ui||r instanceof Bn||r instanceof Dt||r instanceof _A||r instanceof ji)}function SA(r,e,n){if(!AA(n)||!i1(n)){const s=rf(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function YO(r,e,n){if((e=en(e))instanceof ag)return e._internalPath;if(typeof e=="string")return bA(r,e);throw Fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const $O=new RegExp("[~\\*/\\[\\]]");function bA(r,e,n){if(e.search($O)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ag(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Fh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new oe(ee.INVALID_ARGUMENT,m+r+p)}function XO(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WO extends RA{data(){return super.data()}}function cg(r,e){return typeof e=="string"?bA(r,e):e instanceof ag?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class ZO extends hg{}function bT(r,e,...n){let s=[];e instanceof hg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof fg)).length,m=u.filter((p=>p instanceof yf)).length;if(f>1||f>0&&m>0)throw new oe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class yf extends ZO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new yf(e,n,s)}_apply(e){const n=this._parse(e);return wA(e._query,n),new Oo(e.firestore,e.converter,ep(e._query,n))}_parse(e){const n=lg(e.firestore);return(function(u,f,m,p,g,v,T){let R;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new oe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){wT(T,v);const H=[];for(const K of T)H.push(RT(p,u,K));R={arrayValue:{values:H}}}else R=RT(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||wT(T,v),R=QO(m,f,T,v==="in"||v==="not-in");return It.create(g,v,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function km(r,e,n){const s=e,o=cg("where",r);return yf._create(o,s,n)}class fg extends hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)wA(f,p),f=ep(f,p)})(e._query,n),new Oo(e.firestore,e.converter,ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function RT(r,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new oe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E1(e)&&n.indexOf("/")!==-1)throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!de.isDocumentKey(s))throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return BE(r,new de(s))}if(n instanceof Dt)return BE(r,n._key);throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(n)}.`)}function wT(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wA(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ex{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return da(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Ph].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new ji(n)}convertGeoPoint(e){return new Ui(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=of(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=_s(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(H1(s),9688,{name:e});const o=new iu(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||Er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends RA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(cg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Nt("string",ra._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Ah extends ra{data(e={}){return super.data(e)}}class yo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ah(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:tx(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(r){r=gs(r,Dt);const e=gs(r.firestore,Ru);return jO(sg(e),r._key).then((n=>ix(e,r,n)))}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:Nt("string",yo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class IA extends ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function hp(r){r=gs(r,Oo);const e=gs(r.firestore,Ru),n=sg(e),s=new IA(e);return JO(r._query),zO(n,r._query).then((o=>new yo(e,s,r,o)))}function nx(r,e,n){r=gs(r,Dt);const s=gs(r.firestore,Ru),o=CA(r.converter,e);return DA(s,[EA(lg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ki.none())])}function NA(r,e){const n=gs(r.firestore,Ru),s=bu(r),o=CA(r.converter,e);return DA(n,[EA(lg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ki.exists(!1))]).then((()=>s))}function DA(r,e){return(function(s,o){const u=new gr;return s.asyncQueue.enqueueAndForget((async()=>CO(await UO(s),o,u))),u.promise})(sg(r),e)}function ix(r,e,n){const s=n.docs.get(e._key),o=new IA(r);return new ra(r,o,e._key,s,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Co=o})(fa),aa(new ps("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ru(new YI(s.getProvider("auth-internal")),new WI(f,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,v)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),xi(IE,NE,e),xi(IE,NE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firebasestorage.googleapis.com",rx="storageBucket",sx=120*1e3,ax=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Gi{constructor(e,n,s=0){super(Lm(e),`Firebase Storage: ${n} (${Lm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ki.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qi||(qi={}));function Lm(r){return"storage/"+r}function ox(){const r="An unknown error occurred, please check the error payload for server response.";return new Ki(qi.UNKNOWN,r)}function lx(){return new Ki(qi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ux(){return new Ki(qi.CANCELED,"User canceled the upload/download.")}function cx(r){return new Ki(qi.INVALID_URL,"Invalid URL '"+r+"'.")}function hx(r){return new Ki(qi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function CT(r){return new Ki(qi.INVALID_ARGUMENT,r)}function xA(){return new Ki(qi.APP_DELETED,"The Firebase app was deleted.")}function fx(r){return new Ki(qi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ii.makeFromUrl(e,n)}catch{return new ii(e,"")}if(s.path==="")return s;throw hx(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(pe){pe.path.charAt(pe.path.length-1)==="/"&&(pe.path_=pe.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(pe){pe.path_=decodeURIComponent(pe.path)}const v="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",O=new RegExp(`^https?://${T}/${v}/b/${o}/o${R}`,"i"),H={bucket:1,path:3},K=n===OA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,q="([^?#]*)",Y=new RegExp(`^https?://${K}/${o}/${q}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:O,indices:H,postModify:g},{regex:Y,indices:{bucket:1,path:2},postModify:g}];for(let pe=0;pe<ie.length;pe++){const Se=ie[pe],be=Se.regex.exec(e);if(be){const D=be[Se.indices.bucket];let w=be[Se.indices.path];w||(w=""),s=new ii(D,w),Se.postModify(s);break}}if(s==null)throw cx(e);return s}}class dx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(r,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function v(...q){g||(g=!0,e.apply(null,q))}function T(q){o=setTimeout(()=>{o=null,r(O,p())},q)}function R(){u&&clearTimeout(u)}function O(q,...Y){if(g){R();return}if(q){R(),v.call(null,q,...Y);return}if(p()||f){R(),v.call(null,q,...Y);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,T(ie)}let H=!1;function K(q){H||(H=!0,R(),!g&&(o!==null?(q||(m=2),clearTimeout(o),T(0)):q||(m=1)))}return T(0),u=setTimeout(()=>{f=!0,K(!0)},n),K}function px(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(r){return r!==void 0}function IT(r,e,n,s){if(s<e)throw CT(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw CT(`Invalid value for '${r}'. Expected ${n} or less.`)}function yx(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Gh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Gh||(Gh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,s,o,u,f,m,p,g,v,T,R=!0,O=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=T,this.retry=R,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,K)=>{this.resolve_=H,this.reject_=K,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new ch(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Gh.NO_ERROR,p=u.getStatus();if(!m||_x(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Gh.ABORT;s(!1,new ch(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new ch(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());gx(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=ox();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?xA():ux();f(p)}else{const p=lx();f(p)}};this.canceled_?n(!1,new ch(!1,null,!0)):this.backoffId_=mx(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&px(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ch{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function Ex(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Tx(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ax(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Sx(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function bx(r,e,n,s,o,u,f=!0,m=!1){const p=yx(r.urlParams),g=r.url+p,v=Object.assign({},r.headers);return Ax(v,e),Ex(v,n),Tx(v,u),Sx(v,s),new vx(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function wx(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this._service=e,n instanceof ii?this._location=n:this._location=ii.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Kh(e,n)}get root(){const e=new ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wx(this._location.path)}get storage(){return this._service}get parent(){const e=Rx(this._location.path);if(e===null)return null;const n=new ii(this._location.bucket,e);return new Kh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fx(e)}}function NT(r,e){const n=e?.[rx];return n==null?null:ii.makeFromBucketSpec(n,r)}function Cx(r,e,n,s={}){r.host=`${e}:${n}`;const o=ha(e);o&&(Ep(`https://${r.host}/b`),Tp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:l0(u,r.app.options.projectId))}class Ix{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=OA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sx,this._maxUploadRetryTime=ax,this._requests=new Set,o!=null?this._bucket=ii.makeFromBucketSpec(o,this._host):this._bucket=NT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ii.makeFromBucketSpec(this._url,e):this._bucket=NT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new dx(xA());{const f=bx(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const DT="@firebase/storage",OT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="storage";function Nx(r=bp(),e){r=en(r);const s=Zh(r,MA).getImmediate({identifier:e}),o=s0("storage");return o&&Dx(s,...o),s}function Dx(r,e,n,s={}){Cx(r,e,n,s)}function Ox(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Ix(n,s,o,e,fa)}function xx(){aa(new ps(MA,Ox,"PUBLIC").setMultipleInstances(!0)),xi(DT,OT,""),xi(DT,OT,"esm2020")}xx();const Mx={apiKey:"AIzaSyB0yV6SwgxkTZuMwpMvdLhTazreN5r0Wpo",authDomain:"webavancada3.firebaseapp.com",projectId:"webavancada3",storageBucket:"webavancada3.appspot.com",messagingSenderId:"1023653335319",appId:"1:1023653335319:web:3142f3c781b35fd21fe752"},mg=h0(Mx),ai=qI(mg),Ar=qO(mg);Nx(mg);const pg="/web_avancada5/assets/logo-CDyEc294.png";function Vx(){const[r,e]=j.useState(""),[n,s]=j.useState(""),o=li();j.useEffect(()=>{e(""),s("")},[]);const u=async()=>{if(!r||!n)return alert("Preencha todos os campos");try{await NC(ai,r,n),o("/home")}catch(m){switch(m.code){case"auth/user-not-found":alert("Email não encontrado");break;case"auth/wrong-password":alert("Senha incorreta");break;case"auth/invalid-email":alert("Email inválido");break;case"auth/too-many-requests":alert("Muitas tentativas. Tente novamente mais tarde");break;default:alert("Erro ao fazer login: "+m.message)}}},f=async()=>{if(!r)return alert("Digite seu email");try{await CC(ai,r),alert("Email de recuperação enviado!")}catch(m){switch(m.code){case"auth/user-not-found":alert("Email não encontrado");break;case"auth/invalid-email":alert("Email inválido");break;default:alert("Erro ao enviar email: "+m.message)}}};return S.jsx("div",{className:"login-container",children:S.jsxs("div",{className:"login-box",children:[S.jsxs("div",{className:"login-logo",children:[S.jsx("img",{src:pg,alt:"Logo"}),S.jsx("h2",{children:"Creche Estrela do Oriente"})]}),S.jsx("input",{type:"email",placeholder:"username@gmail.com",value:r,onChange:m=>e(m.target.value)}),S.jsx("input",{type:"password",placeholder:"Senha",value:n,onChange:m=>s(m.target.value)}),S.jsx("div",{className:"reset-link-container",children:S.jsx("span",{className:"reset-link",onClick:f,children:"Esqueceu a senha?"})}),S.jsx("button",{onClick:u,children:"Login"})]})})}function Px(){const[r,e]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(""),[f,m]=j.useState(""),p=li(),g=async()=>{if(!r||!n||!o||!f)return alert("Preencha todos os campos");if(o!==f)return alert("As senhas não conferem");try{const T=(await IC(ai,n,o)).user;await nx(bu(Ar,"usuarios",T.uid),{nome:r,email:n}),await Op(ai),alert("Conta criada com sucesso! Faça login."),p("/")}catch(v){switch(v.code){case"auth/email-already-in-use":alert("Email já cadastrado");break;case"auth/invalid-email":alert("Email inválido");break;case"auth/weak-password":alert("Senha muito fraca (mínimo 6 caracteres)");break;default:alert("Erro ao criar conta: "+v.message)}}};return S.jsx("div",{className:"login-container",children:S.jsxs("div",{className:"login-box",children:[S.jsxs("div",{className:"login-logo",children:[S.jsx("img",{src:pg,alt:"Logo"}),S.jsx("h1",{children:"Creche Estrela do Oriente"})]}),S.jsx("input",{type:"text",placeholder:"Nome",value:r,onChange:v=>e(v.target.value)}),S.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:v=>s(v.target.value)}),S.jsx("input",{type:"password",placeholder:"Senha",value:o,onChange:v=>u(v.target.value)}),S.jsx("input",{type:"password",placeholder:"Confirmação de Senha",value:f,onChange:v=>m(v.target.value)}),S.jsx("button",{onClick:g,children:"Criar Conta"}),S.jsx("button",{onClick:()=>p("/"),children:"Voltar ao Login"})]})})}const VA=30,fp=VA*60,kx=fp*1e3;function Lx(r,e){const[n,s]=j.useState(fp),o=j.useRef(null),u=j.useRef(null),f=j.useCallback(v=>{if(v<0)return"00:00";const T=Math.floor(v/60),R=v%60;return`${String(T).padStart(2,"0")}:${String(R).padStart(2,"0")}`},[]),m=j.useCallback(()=>{o.current&&clearTimeout(o.current),u.current&&clearInterval(u.current)},[]),p=j.useCallback(()=>{m(),console.warn(`Sessão encerrada por expiração de tempo (${VA} minutos).`),Op(ai).then(()=>{r("/",{replace:!0})}).catch(v=>{console.error("Erro ao fazer logout por expiração de tempo:",v)})},[r,m]),g=j.useCallback(()=>{m(),o.current=setTimeout(p,kx),s(fp)},[p,m]);return j.useEffect(()=>(g(),m),[e.pathname,g,m]),j.useEffect(()=>(u.current=setInterval(()=>{s(v=>v<=1?(clearInterval(u.current),0):v-1)},1e3),()=>{u.current&&clearInterval(u.current)}),[]),{formattedCountdown:f(n),countdownSeconds:n,clearTimers:m}}const Ux="/web_avancada5/assets/avatar-BM9PY_FD.png";var PA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xT=cs.createContext&&cs.createContext(PA),jx=["attr","size","title"];function zx(r,e){if(r==null)return{};var n=Bx(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function Bx(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Qh(){return Qh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Qh.apply(this,arguments)}function MT(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function Yh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MT(Object(n),!0).forEach(function(s){qx(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function qx(r,e,n){return e=Hx(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Hx(r){var e=Fx(r,"string");return typeof e=="symbol"?e:e+""}function Fx(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function kA(r){return r&&r.map((e,n)=>cs.createElement(e.tag,Yh({key:n},e.attr),kA(e.child)))}function sn(r){return e=>cs.createElement(Gx,Qh({attr:Yh({},r.attr)},e),kA(r.child))}function Gx(r){var e=n=>{var{attr:s,size:o,title:u}=r,f=zx(r,jx),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),cs.createElement("svg",Qh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Yh(Yh({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&cs.createElement("title",null,u),r.children)};return xT!==void 0?cs.createElement(xT.Consumer,null,n=>e(n)):e(PA)}function Kx(r){return sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(r)}function Qx(r){return sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(r)}function Yx(r){return sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(r)}function $x(r){return sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(r)}function VT(r){return sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(r)}function Xx(r){return sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(r)}function Wx(r){return sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(r)}function Jx(r){return sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(r)}function Zx(r){return sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(r)}function e4(r){return sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(r)}function t4(r){return sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(r)}function n4(r){return sn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(r)}function i4(r){return sn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(r)}function r4(r){return sn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(r)}function s4(r){return sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(r)}function pn({children:r}){const[e,n]=j.useState(""),[s,o]=j.useState(!0),u=li(),f=oi(),{formattedCountdown:m,countdownSeconds:p,clearTimers:g}=Lx(u,f),v=O=>{const H=f.pathname;return O.some(K=>H===K)};j.useEffect(()=>{const O=gu(ai,async H=>{if(H)try{const K=bu(Ar,"usuarios",H.uid),q=await dg(K);q.exists()?n(q.data().nome):n("Usuário sem perfil")}catch(K){console.error("Erro ao buscar nome do usuário:",K),n("Erro ao carregar")}else n("Visitante"),u("/");o(!1)});return()=>O()},[u]);const T=async()=>{g(),await Op(ai),u("/")},R=s?"Carregando...":e;return S.jsxs("div",{className:"home-container",children:[S.jsxs("aside",{className:"sidebar",children:[S.jsx("div",{className:"sidebar-header",children:S.jsx("img",{src:pg,alt:"Logo"})}),S.jsx("div",{className:`inactivity-timer ${p<=300?"warning":""}`,children:S.jsxs("p",{children:["Sessão expira em: ",S.jsx("strong",{children:m})]})}),S.jsxs("div",{className:"sidebar-menu-section",children:[S.jsx("p",{className:"sidebar-main-menu",children:"MENU"}),S.jsxs("button",{className:`menu-btn ${v(["/home","/"])?"active":""}`,onClick:()=>u("/home"),children:[S.jsx(Jx,{size:20}),"Início"]}),S.jsxs("button",{className:`menu-btn ${v(["/buscar-aluno","/aluno-perfil"])?"active":""}`,onClick:()=>u("/buscar-aluno"),children:[S.jsx(n4,{size:20}),"Alunos"]}),S.jsxs("button",{className:`menu-btn ${v(["/cadastrar-aluno"])?"active":""}`,onClick:()=>u("/cadastrar-aluno"),children:[S.jsx(Xx,{size:20}),"Cadastro"]}),S.jsxs("button",{className:`menu-btn ${v(["/relatorios"])?"active":""}`,onClick:()=>u("/relatorios"),disabled:!0,children:[S.jsx(Yx,{size:20}),"Relatórios"]}),S.jsxs("button",{className:`menu-btn ${v(["/turmas"])?"active":""}`,onClick:()=>u("/turmas"),disabled:!0,children:[S.jsx(i4,{size:20}),"Turmas"]}),S.jsxs("button",{className:`menu-btn ${v(["/professores"])?"active":""}`,onClick:()=>u("/professores"),disabled:!0,children:[S.jsx(s4,{size:20}),"Professores"]}),S.jsxs("button",{className:`menu-btn ${v(["/colaboradores"])?"active":""}`,onClick:()=>u("/colaboradores"),disabled:!0,children:[S.jsx(r4,{size:20}),"Colaboradores"]})]}),S.jsxs("div",{className:"sidebar-bottom",children:[S.jsx("p",{className:"sidebar-other",children:"OUTROS"}),S.jsxs("button",{className:`menu-btn ${v(["/suporte"])?"active":""}`,onClick:()=>u("/suporte"),disabled:!0,children:[S.jsx(Wx,{size:20}),"Suporte"]}),S.jsxs("button",{className:`menu-btn ${v(["/configuracoes"])?"active":""}`,onClick:()=>u("/configuracoes"),disabled:!0,children:[S.jsx(t4,{size:20}),"Configurações"]}),S.jsxs("button",{className:"menu-btn-sair",onClick:T,children:[S.jsx(Zx,{size:20}),"Sair"]})]})]}),S.jsxs("main",{className:"home-content",children:[S.jsxs("div",{className:"top-header",children:[S.jsx("div",{className:"header-left-section"}),S.jsxs("div",{className:"user-profile",children:[S.jsx($x,{className:"notifications"}),S.jsx(e4,{className:"messages"}),S.jsxs("div",{className:"user-info",children:[S.jsx("img",{src:Ux,alt:"Avatar",className:"user-avatar"}),S.jsx("span",{children:R})]})]})]}),S.jsx("div",{children:r})]})]})}function a4(){return S.jsx(pn,{children:S.jsx("h1",{children:"Bem-vindo!"})})}function o4({value:r,onChange:e,placeholder:n}){return S.jsx("input",{className:"search-bar",type:"text",value:r,onChange:s=>e(s.target.value),placeholder:n||"Buscar..."})}function l4({responsavel:r,onDownloadComprovante:e,onDownloadRgCnh:n,onCadastrar:s}){return S.jsxs("div",{className:"card",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Nome:"})," ",r.nome]}),S.jsxs("p",{children:[S.jsx("strong",{children:"CPF:"})," ",r.cpf]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Telefone:"})," ",r.telefone]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Endereço:"})," ",r.endereco]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Email:"})," ",r.email]}),S.jsxs("div",{className:"card-buttons",children:[e&&S.jsx("button",{onClick:()=>e(r),children:"Baixar Comprovante"}),n&&S.jsx("button",{onClick:()=>n(r),children:"Baixar RG/CNH"}),s&&S.jsx("button",{onClick:()=>s(r),children:"Cadastrar Aluno"})]})]})}function qn({children:r,onClick:e,style:n,type:s="button",disabled:o=!1}){return S.jsx("button",{className:"app-button",onClick:e,style:n,type:s,disabled:o,children:r})}function dp(r,e,n="application/pdf"){if(!r){alert("Arquivo não disponível.");return}let s=r.startsWith("data:")?r:`data:${n};base64,${r}`;try{const o=document.createElement("a");o.href=s,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(o){console.error("Erro ao baixar arquivo:",o),alert("Falha ao baixar o arquivo.")}}function u4(){const[r,e]=j.useState(""),[n,s]=j.useState([]),o=async()=>{if(!r.trim())return alert("Digite nome ou CPF");try{const u=bT(ou(Ar,"responsaveis"),km("nome",">=",r),km("nome","<=",r+"")),f=bT(ou(Ar,"responsaveis"),km("cpf","==",r)),[m,p]=await Promise.all([hp(u),hp(f)]),g=[...m.docs.map(T=>({id:T.id,...T.data()})),...p.docs.map(T=>({id:T.id,...T.data()}))],v=Array.from(new Map(g.map(T=>[T.id,T])).values());s(v)}catch(u){alert("Erro ao buscar responsáveis: "+u.message)}};return S.jsxs(pn,{children:[S.jsx("h1",{children:"Buscar Responsável"}),S.jsx(o4,{placeholder:"Digite nome ou CPF",value:r,onChange:e}),S.jsx("div",{style:{marginTop:12},children:S.jsx(qn,{onClick:o,children:"Buscar"})}),n.length>0&&S.jsx("div",{className:"resultados-container",style:{marginTop:16},children:n.map(u=>S.jsx(l4,{responsavel:u,onDownloadComprovante:()=>dp(u.comprovante,"comprovante.pdf"),onDownloadRgCnh:()=>dp(u.rgCnh,"rgcnh.pdf")},u.id))})]})}function it({label:r,type:e="text",value:n,onChange:s,placeholder:o,required:u=!1}){return S.jsxs("div",{className:"input-field",children:[r&&S.jsxs("label",{children:[r,u?" *":""]}),S.jsx("input",{type:e,value:n,onChange:f=>s(f.target.value),placeholder:o||""})]})}function $h({label:r,accept:e=".pdf,image/*",onChange:n,required:s=!1}){const[o,u]=j.useState(""),f=m=>{const p=m.target.files&&m.target.files[0];p?(u(p.name),typeof n=="function"&&n(p)):(u(""),typeof n=="function"&&n(null))};return S.jsxs("div",{className:"input-field",style:{marginBottom:8},children:[r&&S.jsxs("label",{children:[r,s?" *":""]}),S.jsx("input",{type:"file",accept:e,onChange:f,style:{marginTop:6}}),o&&S.jsxs("div",{style:{marginTop:6,fontSize:13,color:"#333"},children:["Arquivo selecionado: ",S.jsx("strong",{children:o})]})]})}function c4(){const[r,e]=j.useState({nome:"",cpf:"",email:"",telefone:"",endereco:"",comprovante:null,rgCnh:null}),n=o=>new Promise((u,f)=>{const m=new FileReader;m.readAsDataURL(o),m.onload=()=>u(m.result),m.onerror=p=>f(p)}),s=async()=>{const{nome:o,cpf:u,email:f,telefone:m,endereco:p,comprovante:g,rgCnh:v}=r;if(!o||!u||!f||!m||!p)return alert("Preencha todos os campos obrigatórios");try{const T=g?await n(g):"",R=v?await n(v):"";await NA(ou(Ar,"responsaveis"),{nome:o,cpf:u,email:f,telefone:m,endereco:p,comprovante:T,rgCnh:R,criadoEm:new Date}),alert("Responsável cadastrado com sucesso!"),e({nome:"",cpf:"",email:"",telefone:"",endereco:"",comprovante:null,rgCnh:null})}catch(T){alert("Erro ao cadastrar responsável: "+T.message)}};return S.jsxs(pn,{children:[S.jsx("h1",{children:"Cadastrar Responsável"}),S.jsx(it,{label:"Nome",value:r.nome,onChange:o=>e({...r,nome:o})}),S.jsx(it,{label:"CPF",value:r.cpf,onChange:o=>e({...r,cpf:o})}),S.jsx(it,{label:"Email",value:r.email,onChange:o=>e({...r,email:o})})," ",S.jsx(it,{label:"Telefone",value:r.telefone,onChange:o=>e({...r,telefone:o})}),S.jsx(it,{label:"Endereço",value:r.endereco,onChange:o=>e({...r,endereco:o})}),S.jsx($h,{label:"Comprovante de residência (PDF)",onChange:o=>e({...r,comprovante:o})}),S.jsx($h,{label:"RG ou CNH (PDF)",onChange:o=>e({...r,rgCnh:o})}),S.jsx(qn,{onClick:s,children:"Salvar"})]})}function h4({headers:r=[],rows:e=[],onActionClick:n,actionLabel:s="Ação"}){if(e.length===0)return S.jsx("div",{className:"search-table-container",children:S.jsxs("table",{children:[S.jsx("thead",{children:S.jsx("tr",{children:r.map((u,f)=>S.jsx("th",{children:u},f))})}),S.jsx("tbody",{children:S.jsx("tr",{children:S.jsx("td",{colSpan:r.length,children:"Nenhum resultado encontrado."})})})]})});const o=Object.keys(e[0]).filter(u=>u!=="id"&&u!=="actionPlaceholder");return S.jsx("div",{className:"search-table-container",children:S.jsxs("table",{children:[S.jsx("thead",{children:S.jsx("tr",{children:r.map((u,f)=>S.jsx("th",{children:u},f))})}),S.jsx("tbody",{children:e.map(u=>S.jsxs("tr",{children:[o.map(f=>S.jsx("td",{style:{verticalAlign:"middle"},children:u[f]},f)),n&&S.jsx("td",{style:{verticalAlign:"middle"},children:S.jsx(qn,{onClick:()=>n(u.id),children:s})})]},u.id))})]})})}function LA({text:r="Carregando..."}){return S.jsx("div",{className:"loading",children:r})}function f4(){const[r,e]=j.useState(""),[n,s]=j.useState([]),[o,u]=j.useState([]),[f,m]=j.useState(!0),p=li();j.useEffect(()=>{(async()=>{try{const K=(await hp(ou(Ar,"alunos"))).docs.map(q=>({id:q.id,...q.data()}));s(K),u(K)}catch(H){console.error("Erro ao carregar alunos:",H),alert("Erro ao buscar dados dos alunos.")}finally{m(!1)}})()},[]);const g=()=>{const O=r.toLowerCase();if(O.length<3){u(n);return}const H=n.filter(K=>K.alunoData?.nome?.toLowerCase().includes(O)||K.documentos?.responsavelNome?.toLowerCase().includes(O)||K.documentos?.rg?.includes(O));u(H)},v=O=>{p(`/aluno-perfil/${O}`)},T=O=>{if(!O)return"—";const H=O.split("-");if(H.length===3){const[K,q,Y]=H;return`${Y}/${q}/${K}`}return O},R=O=>{const H=O||"—";let K="status-matriculado";return H==="Pré-matrícula"&&(K="status-pre-matricula"),S.jsx("span",{className:K,children:H})};return f?S.jsx(pn,{children:S.jsx(LA,{text:"Carregando alunos..."})}):S.jsxs(pn,{children:[S.jsx("h1",{className:"busca-header",children:"Buscar Aluno"}),S.jsxs("div",{className:"busca-input-group",children:[S.jsx("input",{type:"text",className:"busca-input",placeholder:"Digite o nome do aluno ou responsável (Busca local)",value:r,onChange:O=>e(O.target.value)}),S.jsx(qn,{onClick:g,children:"Buscar"})]}),o.length===0&&r.length>0&&S.jsxs("p",{className:"busca-error",children:['Nenhum aluno encontrado para o termo "',r,'".']}),S.jsx(h4,{headers:["Nome do Aluno","CPF","Nascimento","Responsável","Status","Ações"],rows:o.map(O=>({id:O.id,nome:O.alunoData?.nome||"—",cpf:O.documentos?.cpf||"—",nascimento:T(O.alunoData?.dataNascimento),responsavel:O.documentos?.responsavelNome||"—",status:R(O.status),actionPlaceholder:""})),onActionClick:O=>v(O),actionLabel:"Perfil"})]})}function ia({label:r,value:e,onChange:n,options:s}){return S.jsxs("div",{className:"input-field",children:[r&&S.jsx("label",{children:r}),S.jsxs("select",{value:e,onChange:o=>n(o.target.value),children:[S.jsx("option",{value:"",children:"Selecione"}),s.map(o=>S.jsx("option",{value:o.value,children:o.label},o.value))]})]})}function wu({children:r}){return S.jsx("div",{className:"form-section",children:r})}function Cu({title:r,subtitle:e}){return S.jsxs("div",{className:"form-header",children:[S.jsx("h1",{children:r}),e&&S.jsx("p",{children:e})]})}function mn({message:r}){return r?S.jsxs("div",{className:"validation-message",children:[S.jsx(Kx,{size:14,style:{marginRight:"5px"}}),r]}):null}function d4(){const r=li();j.useEffect(()=>{const p=gu(ai,g=>{g||r("/")});return()=>p()},[r]);const[e,n]=j.useState({nome:"",genero:"",dataNascimento:""}),[s,o]=j.useState({}),u=()=>{let p={};return e.nome.trim()||(p.nome="O nome completo é obrigatório."),e.genero||(p.genero="O gênero é obrigatório."),e.dataNascimento||(p.dataNascimento="A data de nascimento é obrigatória."),o(p),Object.keys(p).length===0},f=()=>{u()&&r("/alunos/formulario-documentos",{state:{alunoData:e}})},m=(p,g)=>{n(v=>({...v,[p]:g})),s[p]&&o(v=>({...v,[p]:null}))};return S.jsx(pn,{children:S.jsxs(wu,{children:[S.jsx(Cu,{title:"Novo Cadastro de Aluno"}),S.jsx(it,{label:"Nome Completo *",value:e.nome,onChange:p=>m("nome",p),placeholder:"Nome completo do aluno",required:!0}),S.jsx(mn,{message:s.nome}),S.jsx(ia,{label:"Gênero *",value:e.genero,onChange:p=>m("genero",p),options:[{value:"",label:"Selecione..."},{value:"masculino",label:"Masculino"},{value:"feminino",label:"Feminino"},{value:"outro",label:"Outro"}]}),S.jsx(mn,{message:s.genero}),S.jsx(it,{label:"Data de Nascimento *",type:"date",value:e.dataNascimento,onChange:p=>m("dataNascimento",p),required:!0}),S.jsx(mn,{message:s.dataNascimento}),S.jsx(qn,{onClick:f,style:{marginTop:20},children:"Próximo: Documentos"})]})})}function m4(){const{responsavelId:r}=KT(),e=li(),[n,s]=j.useState("Carregando..."),[o,u]=j.useState({nome:"",genero:"",dataNascimento:""});j.useEffect(()=>{async function m(){try{const p=bu(Ar,"responsaveis",r),g=await dg(p);g.exists()?s(g.data().nome||"Desconhecido"):s("Não encontrado")}catch(p){console.error("Erro ao buscar responsável:",p),s("Erro ao carregar")}}m()},[r]);const f=()=>{const{nome:m,genero:p,dataNascimento:g}=o;if(!m||!p||!g)return alert("Preencha todos os campos obrigatórios");e("/alunos/formulario-documentos",{state:{responsavelId:r,responsavelNome:n,alunoData:o}})};return S.jsx(pn,{children:S.jsxs(wu,{children:[S.jsx(Cu,{title:"Cadastro de Aluno",subtitle:`Responsável selecionado: ${n}`}),S.jsx(it,{label:"Nome",value:o.nome,onChange:m=>u({...o,nome:m}),placeholder:"Nome do aluno"}),S.jsx(ia,{label:"Gênero",value:o.genero,onChange:m=>u({...o,genero:m}),options:[{value:"",label:"Selecione"},{value:"masculino",label:"Masculino"},{value:"feminino",label:"Feminino"},{value:"outro",label:"Outro"}]}),S.jsx(it,{label:"Data de Nascimento",type:"date",value:o.dataNascimento,onChange:m=>u({...o,dataNascimento:m})}),S.jsx(qn,{onClick:f,style:{marginTop:20},children:"Próximo"})]})})}const p4=r=>r.replace(/\D/g,"");function g4(){const r=oi(),e=li(),{alunoData:n}=r.state||{};j.useEffect(()=>{const v=gu(ai,T=>{T||e("/")});return()=>v()},[e]);const[s,o]=j.useState({rg:"",cpf:"",sus:"",corRaca:"",nomePai:"",nomeMae:"",responsavelNome:"",responsavelRg:"",responsavelCpf:"",responsavelProfissao:"",responsavelContato:""}),[u,f]=j.useState({}),m=(v,T)=>{["rg","cpf","sus","responsavelRg","responsavelCpf","responsavelContato"].includes(v)&&(T=p4(T)),o(R=>({...R,[v]:T})),u[v]&&f(R=>({...R,[v]:null}))},p=()=>{let v={};return s.rg.trim()?s.rg.length<5&&(v.rg="O RG do aluno deve ter pelo menos 5 dígitos."):v.rg="O RG do aluno é obrigatório.",s.corRaca||(v.corRaca="A cor/raça é obrigatória."),s.responsavelNome.trim()||(v.responsavelNome="O nome do responsável é obrigatório."),s.responsavelRg.trim()?s.responsavelRg.length<5&&(v.responsavelRg="O RG do responsável deve ter pelo menos 5 dígitos."):v.responsavelRg="O RG do responsável é obrigatório.",s.responsavelContato.trim()?s.responsavelContato.length<8&&(v.responsavelContato="O contato do responsável é inválido."):v.responsavelContato="O número de contato do responsável é obrigatório.",f(v),Object.keys(v).length===0},g=()=>{p()&&e("/alunos/formulario-socio-economico",{state:{alunoData:n,documentos:s}})};return S.jsx(pn,{children:S.jsxs(wu,{children:[S.jsx(Cu,{title:"Cadastro de Documentos",subtitle:`Aluno: ${n?.nome||"Novo Aluno"}`}),S.jsx("h3",{children:"Documentos de Identificação do Aluno"}),S.jsx(it,{label:"RG do Aluno *",value:s.rg,onChange:v=>m("rg",v),placeholder:"Apenas números (Ex: 123456789)",maxLength:15,keyboardType:"numeric"}),S.jsx(mn,{message:u.rg}),S.jsx(it,{label:"CPF do Aluno (Opcional)",value:s.cpf,onChange:v=>m("cpf",v),placeholder:"Apenas números (Ex: 12345678900)",maxLength:11,keyboardType:"numeric"}),S.jsx(it,{label:"SUS do Aluno (Opcional)",value:s.sus,onChange:v=>m("sus",v),placeholder:"Número do Cartão SUS",maxLength:15,keyboardType:"numeric"}),S.jsx(ia,{label:"Cor/Raça do Aluno *",value:s.corRaca,onChange:v=>m("corRaca",v),options:[{value:"",label:"Selecione..."},{value:"branca",label:"Branca"},{value:"preta",label:"Preta"},{value:"parda",label:"Parda"},{value:"indigena",label:"Indígena"}]}),S.jsx(mn,{message:u.corRaca}),S.jsx("h3",{children:"Filiação do Aluno (Opcional)"}),S.jsx(it,{label:"Nome do Pai",value:s.nomePai,onChange:v=>m("nomePai",v),placeholder:"Nome completo do pai"}),S.jsx(it,{label:"Nome da Mãe",value:s.nomeMae,onChange:v=>m("nomeMae",v),placeholder:"Nome completo da mãe"}),S.jsx("h3",{style:{marginTop:40},children:"Responsável*"}),S.jsx(it,{label:"Nome do Responsável *",value:s.responsavelNome,onChange:v=>m("responsavelNome",v),placeholder:"Nome completo do responsável"}),S.jsx(mn,{message:u.responsavelNome}),S.jsx(it,{label:"RG do Responsável *",value:s.responsavelRg,onChange:v=>m("responsavelRg",v),placeholder:"RG do responsável (Apenas números)",maxLength:15,keyboardType:"numeric"}),S.jsx(mn,{message:u.responsavelRg}),S.jsx(it,{label:"CPF do Responsável (Opcional)",value:s.responsavelCpf,onChange:v=>m("responsavelCpf",v),placeholder:"CPF do responsável (Apenas números)",maxLength:11,keyboardType:"numeric"}),S.jsx(it,{label:"Profissão do Responsável (Opcional)",value:s.responsavelProfissao,onChange:v=>m("responsavelProfissao",v),placeholder:"Profissão"}),S.jsx(it,{label:"Número para Contato do Responsável *",value:s.responsavelContato,onChange:v=>m("responsavelContato",v),placeholder:"Ex: (00) 90000-0000",maxLength:11,keyboardType:"numeric"}),S.jsx(mn,{message:u.responsavelContato}),S.jsx(qn,{onClick:g,style:{marginTop:20},children:"Próximo: Socioeconômico"})]})})}function y4(){const r=oi(),e=li(),{alunoData:n,documentos:s}=r.state||{};j.useEffect(()=>{const T=gu(ai,R=>{R||e("/")});return()=>T()},[e]);const[o,u]=j.useState({situacao:"",valorAluguel:"",abastecimentoAgua:"",tratamentoEsgoto:"",coletaLixo:"",televisao:0,geladeira:0,computador:0,carro:0,moto:0}),[f,m]=j.useState({}),p=(T,R)=>{let O=R;if(["televisao","geladeira","computador","carro","moto"].includes(T)){const H=parseInt(R,10);O=isNaN(H)||H<0?0:H}T==="valorAluguel"&&R===""&&(O=""),u(H=>({...H,[T]:O})),f[T]&&m(H=>({...H,[T]:null}))},g=()=>{let T={};return o.situacao||(T.situacao="A situação habitacional é obrigatória."),o.abastecimentoAgua||(T.abastecimentoAgua="O tipo de abastecimento de água é obrigatório."),o.tratamentoEsgoto||(T.tratamentoEsgoto="O tipo de tratamento de esgoto é obrigatório."),o.coletaLixo||(T.coletaLixo="A informação sobre a coleta de lixo é obrigatória."),m(T),Object.keys(T).length===0},v=()=>{if(!g())return;const{situacao:T,valorAluguel:R,abastecimentoAgua:O,tratamentoEsgoto:H,coletaLixo:K,...q}=o;e("/alunos/formulario-conclusao",{state:{alunoData:n,documentos:s,habitacao:{situacao:T,valorAluguel:R,abastecimentoAgua:O,tratamentoEsgoto:H,coletaLixo:K},bens:q}})};return S.jsx(pn,{children:S.jsxs(wu,{children:[S.jsx(Cu,{title:"Informações Socioeconômicas",subtitle:`Aluno: ${n?.nome||"Novo Aluno"}`}),S.jsx("h3",{children:"Situação Habitacional e Saneamento *"}),S.jsx(ia,{label:"Situação da Moradia *",value:o.situacao,onChange:T=>p("situacao",T),options:[{value:"",label:"Selecione..."},{value:"propria",label:"Própria"},{value:"alugada",label:"Alugada"},{value:"cedida",label:"Cedida"},{value:"ocupacao",label:"Ocupação"}]}),S.jsx(mn,{message:f.situacao}),o.situacao==="alugada"&&S.jsx(it,{label:"Valor do Aluguel (R$)",type:"number",value:o.valorAluguel,onChange:T=>p("valorAluguel",T),placeholder:"0,00",min:"0"}),S.jsx(ia,{label:"Abastecimento de Água *",value:o.abastecimentoAgua,onChange:T=>p("abastecimentoAgua",T),options:[{value:"",label:"Selecione..."},{value:"rede",label:"Rede pública"},{value:"poco",label:"Poço/Cisterna"},{value:"outros",label:"Outros"}]}),S.jsx(mn,{message:f.abastecimentoAgua}),S.jsx(ia,{label:"Tratamento de Esgoto *",value:o.tratamentoEsgoto,onChange:T=>p("tratamentoEsgoto",T),options:[{value:"",label:"Selecione..."},{value:"rede",label:"Rede pública"},{value:"fossa",label:"Fossa séptica"},{value:"outros",label:"Outros"}]}),S.jsx(mn,{message:f.tratamentoEsgoto}),S.jsx(ia,{label:"Coleta de Lixo *",value:o.coletaLixo,onChange:T=>p("coletaLixo",T),options:[{value:"",label:"Selecione..."},{value:"coleta_direta",label:"Serviço de Coleta (Caminhão)"},{value:"queima",label:"Queima/Enterra"},{value:"outro",label:"Outros"}]}),S.jsx(mn,{message:f.coletaLixo}),S.jsx("h3",{children:"Bens e Equipamentos (Opcional)"}),S.jsx(it,{label:"Nº de Televisões",type:"number",value:o.televisao,onChange:T=>p("televisao",T),placeholder:"0",min:"0"}),S.jsx(it,{label:"Nº de Geladeiras",type:"number",value:o.geladeira,onChange:T=>p("geladeira",T),placeholder:"0",min:"0"}),S.jsx(it,{label:"Nº de Computadores/Notebooks",type:"number",value:o.computador,onChange:T=>p("computador",T),placeholder:"0",min:"0"}),S.jsx(it,{label:"Nº de Carros",type:"number",value:o.carro,onChange:T=>p("carro",T),placeholder:"0",min:"0"}),S.jsx(it,{label:"Nº de Motos",type:"number",value:o.moto,onChange:T=>p("moto",T),placeholder:"0",min:"0"}),S.jsx(qn,{onClick:v,style:{marginTop:20},children:"Próximo: Conclusão"})]})})}const PT=r=>new Promise((e,n)=>{const s=new FileReader;s.readAsDataURL(r),s.onload=()=>e(s.result),s.onerror=o=>n(o)});function _4(){const r=oi(),e=li(),{alunoData:n,documentos:s,habitacao:o,bens:u}=r.state||{},[f,m]=j.useState({certidaoNascimento:null,comprovanteResidencia:null}),[p,g]=j.useState({}),[v,T]=j.useState(!1),[R,O]=j.useState(null);j.useEffect(()=>{const Y=gu(ai,ne=>{ne?O(ne.uid):e("/")});return()=>Y()},[e]);const H=(Y,ne)=>{m(ie=>({...ie,[Y]:ne})),p[Y]&&g(ie=>({...ie,[Y]:null}))},K=()=>{let Y={};return f.certidaoNascimento||(Y.certidaoNascimento="A Certidão de Nascimento é obrigatória."),f.comprovanteResidencia||(Y.comprovanteResidencia="Comprovante de Residência é obrigatório."),g(Y),Object.keys(Y).length===0},q=async()=>{if(!(!K()||!n)){if(!R){console.error("Sessão expirada ou usuário não autenticado."),alert("Sessão expirada ou usuário não autenticado. Por favor, faça login novamente."),T(!1),e("/");return}T(!0);try{const Y=await PT(f.certidaoNascimento),ne=await PT(f.comprovanteResidencia),ie={alunoData:n,documentos:s,habitacao:o,bens:u,arquivos:{certidaoNascimentoBase64:Y,comprovanteResidenciaBase64:ne},createdBy:R,createdAt:new Date,status:"Pré-matrícula"};await NA(ou(Ar,"alunos"),ie),alert(`Aluno ${n.nome} salvo com sucesso!`),e("/home")}catch(Y){console.error("Erro ao salvar aluno:",Y);let ne="Ocorreu um erro ao salvar os dados. Verifique o console.";Y.message&&Y.message.includes("exceeds the maximum allowed")||Y.message.includes("cannot be written because its size (1,530,505 bytes) ")?ne="O documento é muito grande! Tente reenviar arquivos menores (PDFs com menos de 700KB no total).":Y.message&&Y.message.includes("Permission denied")&&(ne="Permissão negada. Verifique as regras do Firestore."),alert(ne)}finally{T(!1)}}};return S.jsx(pn,{children:S.jsxs(wu,{children:[S.jsx(Cu,{title:"Conclusão do Cadastro",subtitle:`Aluno: ${n?.nome||"Novo Aluno"}`}),S.jsx("h3",{children:"Envio de Documentos (Obrigatório)"}),S.jsx($h,{label:"Certidão de Nascimento *",accept:".pdf,image/*",required:!0,onChange:Y=>H("certidaoNascimento",Y)}),S.jsx(mn,{message:p.certidaoNascimento}),S.jsx($h,{label:"Comprovante de Residência *",accept:".pdf,image/*",required:!0,onChange:Y=>H("comprovanteResidencia",Y)}),S.jsx(mn,{message:p.comprovanteResidencia}),S.jsx("p",{style:{marginTop:20,fontStyle:"italic",fontSize:"13px",color:"#6C757D"},children:"Os arquivos devem ser enviados no formato PDF e não podem exceder 700KB no total para o documento."}),S.jsx(qn,{onClick:q,style:{marginTop:30},disabled:v,children:v?S.jsx(LA,{text:"Salvando..."}):"Salvar Cadastro"})]})})}const v4=r=>{if(!r)return"—";const e=r.split("-");if(e.length===3){const[n,s,o]=e;return`${o}/${s}/${n}`}return r};function E4(){const{id:r}=KT(),e=li(),[n,s]=j.useState(null),[o,u]=j.useState(!0),[f,m]=j.useState(null);j.useEffect(()=>{(async()=>{try{const K=bu(Ar,"alunos",r),q=await dg(K);q.exists()?s(q.data()):m("Aluno não encontrado ou ID inválido.")}catch(K){console.error("Erro ao carregar aluno:",K),m("Falha ao carregar dados do aluno. Verifique sua conexão ou regras do Firestore.")}finally{u(!1)}})()},[r]);const p=(H,K)=>{H?dp(H,K):alert("Arquivo não disponível ou corrompido.")};if(o)return S.jsx(pn,{children:S.jsx("p",{children:"Carregando perfil..."})});if(f)return S.jsx(pn,{children:S.jsxs("p",{style:{color:"red"},children:["Erro: ",f]})});if(!n)return S.jsx(pn,{children:S.jsx("p",{children:"Aluno não encontrado."})});const{alunoData:g,documentos:v,habitacao:T,bens:R,arquivos:O}=n;return S.jsxs(pn,{children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[S.jsxs(qn,{onClick:()=>e("/buscar-aluno"),style:{marginRight:"15px"},children:[S.jsx(Qx,{})," Voltar à Busca"]}),S.jsxs("h1",{children:["Perfil de ",g?.nome||"Aluno Desconhecido"]})]}),S.jsx("hr",{}),S.jsxs("div",{className:"perfil-section",children:[S.jsx("h2",{children:"Dados Pessoais do Aluno"}),S.jsxs("div",{className:"perfil-grid",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Nome Completo:"})," ",g?.nome||"—"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Data de Nasc.:"})," ",v4(g?.dataNascimento)]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Gênero:"})," ",g?.genero||"—"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Cor/Raça:"})," ",v?.corRaca||"—"]})]})]}),S.jsxs("div",{className:"perfil-section",children:[S.jsx("h2",{children:"Documentos e Filiação"}),S.jsxs("div",{className:"perfil-grid",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"RG do Aluno:"})," ",v?.rg||"—"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"CPF do Aluno:"})," ",v?.cpf||"Não Informado"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Cartão SUS:"})," ",v?.sus||"Não Informado"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Nome do Pai:"})," ",v?.nomePai||"Não Informado"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Nome da Mãe:"})," ",v?.nomeMae||"Não Informado"]})]})]}),S.jsxs("div",{className:"perfil-section",children:[S.jsx("h2",{children:"Dados do Responsável pela Matrícula"}),S.jsxs("div",{className:"perfil-grid",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Nome:"})," ",v?.responsavelNome||"—"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"RG:"})," ",v?.responsavelRg||"—"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"CPF:"})," ",v?.responsavelCpf||"Não Informado"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Profissão:"})," ",v?.responsavelProfissao||"Não Informado"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Contato:"})," ",v?.responsavelContato||"—"]})]})]}),S.jsxs("div",{className:"perfil-section",children:[S.jsx("h2",{children:"Habitação e Saneamento"}),S.jsxs("div",{className:"perfil-grid",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Situação:"})," ",T?.situacao||"—"]}),T?.situacao==="alugada"&&S.jsxs("p",{children:[S.jsx("strong",{children:"Valor Aluguel (R$):"})," ",T?.valorAluguel||"0,00"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Água:"})," ",T?.abastecimentoAgua||"—"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Esgoto:"})," ",T?.tratamentoEsgoto||"—"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Lixo:"})," ",T?.coletaLixo||"—"]})]})]}),S.jsxs("div",{className:"perfil-section",children:[S.jsx("h2",{children:"Bens e Equipamentos"}),S.jsxs("div",{className:"perfil-grid",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Televisões:"})," ",R?.televisao||0]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Geladeiras:"})," ",R?.geladeira||0]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Computadores:"})," ",R?.computador||0]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Carros:"})," ",R?.carro||0]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Motos:"})," ",R?.moto||0]})]})]}),S.jsxs("div",{className:"perfil-section",children:[S.jsx("h2",{children:"Documentos Anexados"}),S.jsx("p",{style:{marginBottom:15,fontSize:"0.9em",color:"#6c757d"},children:"Clique para baixar os arquivos salvos em formato Base64."}),S.jsxs("div",{style:{display:"flex",gap:10,marginTop:10},children:[S.jsxs(qn,{onClick:()=>p(O?.certidaoNascimentoBase64,"Comprovante_Residencia.pdf"),disabled:!O?.certidaoNascimentoBase64,children:[S.jsx(VT,{})," Residencia"]}),S.jsxs(qn,{onClick:()=>p(O?.comprovanteResidenciaBase64,"Identidade.pdf"),disabled:!O?.comprovanteResidenciaBase64,children:[S.jsx(VT,{})," Identidade"]})]})]})]})}function T4(){return S.jsxs(mR,{children:[S.jsx(Rn,{path:"/",element:S.jsx(Vx,{})}),S.jsx(Rn,{path:"/criar-conta",element:S.jsx(Px,{})}),S.jsx(Rn,{path:"/home",element:S.jsx(a4,{})}),S.jsx(Rn,{path:"/buscar-aluno",element:S.jsx(f4,{})}),S.jsx(Rn,{path:"/cadastrar-aluno",element:S.jsx(d4,{})}),S.jsx(Rn,{path:"/cadastrar-aluno/:responsavelId",element:S.jsx(m4,{})}),S.jsx(Rn,{path:"/alunos/formulario-documentos",element:S.jsx(g4,{})}),S.jsx(Rn,{path:"/alunos/formulario-socio-economico",element:S.jsx(y4,{})}),S.jsx(Rn,{path:"/alunos/formulario-conclusao",element:S.jsx(_4,{})}),S.jsx(Rn,{path:"/aluno-perfil/:id",element:S.jsx(E4,{})}),S.jsx(Rn,{path:"/buscar-responsavel",element:S.jsx(u4,{})}),S.jsx(Rn,{path:"/cadastrar-responsavel",element:S.jsx(c4,{})})]})}bb.createRoot(document.getElementById("root")).render(S.jsx(cs.StrictMode,{children:S.jsx(LR,{basename:"/web_avancada5/",children:S.jsx(T4,{})})}));
